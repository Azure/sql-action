(()=>{var t={5265:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.issue=e.issueCommand=void 0;const o=n(r(2037)),a=r(4570);function l(t,e,r){const i=new c(t,e,r);process.stdout.write(i.toString()+o.EOL)}e.issueCommand=l,e.issue=function(t,e=""){l(t,{},e)};class c{constructor(t,e,r){t||(t="missing.command"),this.command=t,this.properties=e,this.message=r}toString(){let t="::"+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(const i in this.properties)if(this.properties.hasOwnProperty(i)){const s=this.properties[i];s&&(r?r=!1:t+=",",t+=`${i}=${e=s,a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}`)}}var e;return t+=`::${function(t){return a.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}(this.message)}`,t}}},2225:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getIDToken=e.getState=e.saveState=e.group=e.endGroup=e.startGroup=e.info=e.notice=e.warning=e.error=e.debug=e.isDebug=e.setFailed=e.setCommandEcho=e.setOutput=e.getBooleanInput=e.getMultilineInput=e.getInput=e.addPath=e.setSecret=e.exportVariable=e.ExitCode=void 0;const a=r(5265),l=r(3108),c=r(4570),h=n(r(2037)),u=n(r(1017)),p=r(1852),d=r(1526);var f;function y(t,e){const r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&!1===e.trimWhitespace?r:r.trim()}function g(t,e={}){a.issueCommand("error",c.toCommandProperties(e),t instanceof Error?t.toString():t)}function m(t){a.issue("group",t)}function v(){a.issue("endgroup")}!function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"}(f=e.ExitCode||(e.ExitCode={})),e.exportVariable=function(t,e){const r=c.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV){const e=`ghadelimiter_${p.v4()}`;if(t.includes(e))throw new Error(`Unexpected input: name should not contain the delimiter "${e}"`);if(r.includes(e))throw new Error(`Unexpected input: value should not contain the delimiter "${e}"`);const i=`${t}<<${e}${h.EOL}${r}${h.EOL}${e}`;l.issueCommand("ENV",i)}else a.issueCommand("set-env",{name:t},r)},e.setSecret=function(t){a.issueCommand("add-mask",{},t)},e.addPath=function(t){process.env.GITHUB_PATH?l.issueCommand("PATH",t):a.issueCommand("add-path",{},t),process.env.PATH=`${t}${u.delimiter}${process.env.PATH}`},e.getInput=y,e.getMultilineInput=function(t,e){return y(t,e).split("\n").filter((t=>""!==t))},e.getBooleanInput=function(t,e){const r=y(t,e);if(["true","True","TRUE"].includes(r))return!0;if(["false","False","FALSE"].includes(r))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}\nSupport boolean input list: \`true | True | TRUE | false | False | FALSE\``)},e.setOutput=function(t,e){process.stdout.write(h.EOL),a.issueCommand("set-output",{name:t},e)},e.setCommandEcho=function(t){a.issue("echo",t?"on":"off")},e.setFailed=function(t){process.exitCode=f.Failure,g(t)},e.isDebug=function(){return"1"===process.env.RUNNER_DEBUG},e.debug=function(t){a.issueCommand("debug",{},t)},e.error=g,e.warning=function(t,e={}){a.issueCommand("warning",c.toCommandProperties(e),t instanceof Error?t.toString():t)},e.notice=function(t,e={}){a.issueCommand("notice",c.toCommandProperties(e),t instanceof Error?t.toString():t)},e.info=function(t){process.stdout.write(t+h.EOL)},e.startGroup=m,e.endGroup=v,e.group=function(t,e){return o(this,void 0,void 0,(function*(){let r;m(t);try{r=yield e()}finally{v()}return r}))},e.saveState=function(t,e){a.issueCommand("save-state",{name:t},e)},e.getState=function(t){return process.env[`STATE_${t}`]||""},e.getIDToken=function(t){return o(this,void 0,void 0,(function*(){return yield d.OidcClient.getIDToken(t)}))};var w=r(7410);Object.defineProperty(e,"summary",{enumerable:!0,get:function(){return w.summary}});var E=r(7410);Object.defineProperty(e,"markdownSummary",{enumerable:!0,get:function(){return E.markdownSummary}});var b=r(6340);Object.defineProperty(e,"toPosixPath",{enumerable:!0,get:function(){return b.toPosixPath}}),Object.defineProperty(e,"toWin32Path",{enumerable:!0,get:function(){return b.toWin32Path}}),Object.defineProperty(e,"toPlatformPath",{enumerable:!0,get:function(){return b.toPlatformPath}})},3108:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.issueCommand=void 0;const o=n(r(7147)),a=n(r(2037)),l=r(4570);e.issueCommand=function(t,e){const r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!o.existsSync(r))throw new Error(`Missing file at path: ${r}`);o.appendFileSync(r,`${l.toCommandValue(e)}${a.EOL}`,{encoding:"utf8"})}},1526:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.OidcClient=void 0;const s=r(4635),n=r(2429),o=r(2225);class a{static createHttpClient(t=!0,e=10){const r={allowRetries:t,maxRetries:e};return new s.HttpClient("actions/oidc-client",[new n.BearerCredentialHandler(a.getRequestToken())],r)}static getRequestToken(){const t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){const t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var e;return i(this,void 0,void 0,(function*(){const r=a.createHttpClient(),i=yield r.getJson(t).catch((t=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${t.statusCode}\n \n        Error Message: ${t.result.message}`)})),s=null===(e=i.result)||void 0===e?void 0:e.value;if(!s)throw new Error("Response json body do not have ID Token field");return s}))}static getIDToken(t){return i(this,void 0,void 0,(function*(){try{let e=a.getIDTokenUrl();t&&(e=`${e}&audience=${encodeURIComponent(t)}`),o.debug(`ID token url is ${e}`);const r=yield a.getCall(e);return o.setSecret(r),r}catch(t){throw new Error(`Error message: ${t.message}`)}}))}}e.OidcClient=a},6340:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.toPlatformPath=e.toWin32Path=e.toPosixPath=void 0;const o=n(r(1017));e.toPosixPath=function(t){return t.replace(/[\\]/g,"/")},e.toWin32Path=function(t){return t.replace(/[/]/g,"\\")},e.toPlatformPath=function(t){return t.replace(/[/\\]/g,o.sep)}},7410:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.summary=e.markdownSummary=e.SUMMARY_DOCS_URL=e.SUMMARY_ENV_VAR=void 0;const s=r(2037),n=r(7147),{access:o,appendFile:a,writeFile:l}=n.promises;e.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY",e.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";const c=new class{constructor(){this._buffer=""}filePath(){return i(this,void 0,void 0,(function*(){if(this._filePath)return this._filePath;const t=process.env[e.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${e.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield o(t,n.constants.R_OK|n.constants.W_OK)}catch(e){throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath}))}wrap(t,e,r={}){const i=Object.entries(r).map((([t,e])=>` ${t}="${e}"`)).join("");return e?`<${t}${i}>${e}</${t}>`:`<${t}${i}>`}write(t){return i(this,void 0,void 0,(function*(){const e=!!(null==t?void 0:t.overwrite),r=yield this.filePath(),i=e?l:a;return yield i(r,this._buffer,{encoding:"utf8"}),this.emptyBuffer()}))}clear(){return i(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:!0})}))}stringify(){return this._buffer}isEmptyBuffer(){return 0===this._buffer.length}emptyBuffer(){return this._buffer="",this}addRaw(t,e=!1){return this._buffer+=t,e?this.addEOL():this}addEOL(){return this.addRaw(s.EOL)}addCodeBlock(t,e){const r=Object.assign({},e&&{lang:e}),i=this.wrap("pre",this.wrap("code",t),r);return this.addRaw(i).addEOL()}addList(t,e=!1){const r=e?"ol":"ul",i=t.map((t=>this.wrap("li",t))).join(""),s=this.wrap(r,i);return this.addRaw(s).addEOL()}addTable(t){const e=t.map((t=>{const e=t.map((t=>{if("string"==typeof t)return this.wrap("td",t);const{header:e,data:r,colspan:i,rowspan:s}=t,n=e?"th":"td",o=Object.assign(Object.assign({},i&&{colspan:i}),s&&{rowspan:s});return this.wrap(n,r,o)})).join("");return this.wrap("tr",e)})).join(""),r=this.wrap("table",e);return this.addRaw(r).addEOL()}addDetails(t,e){const r=this.wrap("details",this.wrap("summary",t)+e);return this.addRaw(r).addEOL()}addImage(t,e,r){const{width:i,height:s}=r||{},n=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),o=this.wrap("img",null,Object.assign({src:t,alt:e},n));return this.addRaw(o).addEOL()}addHeading(t,e){const r=`h${e}`,i=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1",s=this.wrap(i,t);return this.addRaw(s).addEOL()}addSeparator(){const t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){const t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,e){const r=Object.assign({},e&&{cite:e}),i=this.wrap("blockquote",t,r);return this.addRaw(i).addEOL()}addLink(t,e){const r=this.wrap("a",t,{href:e});return this.addRaw(r).addEOL()}};e.markdownSummary=c,e.summary=c},4570:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toCommandProperties=e.toCommandValue=void 0,e.toCommandValue=function(t){return null==t?"":"string"==typeof t||t instanceof String?t:JSON.stringify(t)},e.toCommandProperties=function(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}},1852:(t,e,r)=>{"use strict";r.r(e),r.d(e,{NIL:()=>S,parse:()=>m,stringify:()=>u,v1:()=>g,v3:()=>w,v4:()=>E,v5:()=>b,validate:()=>c,version:()=>O});var i=r(6113),s=r.n(i);const n=new Uint8Array(256);let o=n.length;function a(){return o>n.length-16&&(s().randomFillSync(n),o=0),n.slice(o,o+=16)}const l=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,c=function(t){return"string"==typeof t&&l.test(t)},h=[];for(let t=0;t<256;++t)h.push((t+256).toString(16).substr(1));const u=function(t,e=0){const r=(h[t[e+0]]+h[t[e+1]]+h[t[e+2]]+h[t[e+3]]+"-"+h[t[e+4]]+h[t[e+5]]+"-"+h[t[e+6]]+h[t[e+7]]+"-"+h[t[e+8]]+h[t[e+9]]+"-"+h[t[e+10]]+h[t[e+11]]+h[t[e+12]]+h[t[e+13]]+h[t[e+14]]+h[t[e+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r};let p,d,f=0,y=0;const g=function(t,e,r){let i=e&&r||0;const s=e||new Array(16);let n=(t=t||{}).node||p,o=void 0!==t.clockseq?t.clockseq:d;if(null==n||null==o){const e=t.random||(t.rng||a)();null==n&&(n=p=[1|e[0],e[1],e[2],e[3],e[4],e[5]]),null==o&&(o=d=16383&(e[6]<<8|e[7]))}let l=void 0!==t.msecs?t.msecs:Date.now(),c=void 0!==t.nsecs?t.nsecs:y+1;const h=l-f+(c-y)/1e4;if(h<0&&void 0===t.clockseq&&(o=o+1&16383),(h<0||l>f)&&void 0===t.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=l,y=c,d=o,l+=122192928e5;const g=(1e4*(268435455&l)+c)%4294967296;s[i++]=g>>>24&255,s[i++]=g>>>16&255,s[i++]=g>>>8&255,s[i++]=255&g;const m=l/4294967296*1e4&268435455;s[i++]=m>>>8&255,s[i++]=255&m,s[i++]=m>>>24&15|16,s[i++]=m>>>16&255,s[i++]=o>>>8|128,s[i++]=255&o;for(let t=0;t<6;++t)s[i+t]=n[t];return e||u(s)},m=function(t){if(!c(t))throw TypeError("Invalid UUID");let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};function v(t,e,r){function i(t,i,s,n){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}(t)),"string"==typeof i&&(i=m(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+t.length);if(o.set(i),o.set(t,i.length),o=r(o),o[6]=15&o[6]|e,o[8]=63&o[8]|128,s){n=n||0;for(let t=0;t<16;++t)s[n+t]=o[t];return s}return u(o)}try{i.name=t}catch(t){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}const w=v("v3",48,(function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),s().createHash("md5").update(t).digest()})),E=function(t,e,r){const i=(t=t||{}).random||(t.rng||a)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){r=r||0;for(let t=0;t<16;++t)e[r+t]=i[t];return e}return u(i)},b=v("v5",80,(function(t){return Array.isArray(t)?t=Buffer.from(t):"string"==typeof t&&(t=Buffer.from(t,"utf8")),s().createHash("sha1").update(t).digest()})),S="00000000-0000-0000-0000-000000000000",O=function(t){if(!c(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},27:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(4171);e.exec=function(t,e,r){return i(this,void 0,void 0,(function*(){const i=s.argStringToArray(t);if(0===i.length)throw new Error("Parameter 'commandLine' cannot be null or empty.");const n=i[0];return e=i.slice(1).concat(e||[]),new s.ToolRunner(n,e,r).exec()}))}},4171:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(2037),n=r(2361),o=r(2081),a="win32"===process.platform;class l extends n.EventEmitter{constructor(t,e,r){if(super(),!t)throw new Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=t,this.args=e||[],this.options=r||{}}_debug(t){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(t)}_getCommandString(t,e){const r=this._getSpawnFileName(),i=this._getSpawnArgs(t);let s=e?"":"[command]";if(a)if(this._isCmdFile()){s+=r;for(const t of i)s+=` ${t}`}else if(t.windowsVerbatimArguments){s+=`"${r}"`;for(const t of i)s+=` ${t}`}else{s+=this._windowsQuoteCmdArg(r);for(const t of i)s+=` ${this._windowsQuoteCmdArg(t)}`}else{s+=r;for(const t of i)s+=` ${t}`}return s}_processLineBuffer(t,e,r){try{let i=e+t.toString(),n=i.indexOf(s.EOL);for(;n>-1;)r(i.substring(0,n)),i=i.substring(n+s.EOL.length),n=i.indexOf(s.EOL);e=i}catch(t){this._debug(`error processing line. Failed with error ${t}`)}}_getSpawnFileName(){return a&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(t){if(a&&this._isCmdFile()){let e=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(const r of this.args)e+=" ",e+=t.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r);return e+='"',[e]}return this.args}_endsWith(t,e){return t.endsWith(e)}_isCmdFile(){const t=this.toolPath.toUpperCase();return this._endsWith(t,".CMD")||this._endsWith(t,".BAT")}_windowsQuoteCmdArg(t){if(!this._isCmdFile())return this._uvQuoteCmdArg(t);if(!t)return'""';const e=[" ","\t","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'];let r=!1;for(const i of t)if(e.some((t=>t===i))){r=!0;break}if(!r)return t;let i='"',s=!0;for(let e=t.length;e>0;e--)i+=t[e-1],s&&"\\"===t[e-1]?i+="\\":'"'===t[e-1]?(s=!0,i+='"'):s=!1;return i+='"',i.split("").reverse().join("")}_uvQuoteCmdArg(t){if(!t)return'""';if(!t.includes(" ")&&!t.includes("\t")&&!t.includes('"'))return t;if(!t.includes('"')&&!t.includes("\\"))return`"${t}"`;let e='"',r=!0;for(let i=t.length;i>0;i--)e+=t[i-1],r&&"\\"===t[i-1]?e+="\\":'"'===t[i-1]?(r=!0,e+="\\"):r=!1;return e+='"',e.split("").reverse().join("")}_cloneExecOptions(t){const e={cwd:(t=t||{}).cwd||process.cwd(),env:t.env||process.env,silent:t.silent||!1,windowsVerbatimArguments:t.windowsVerbatimArguments||!1,failOnStdErr:t.failOnStdErr||!1,ignoreReturnCode:t.ignoreReturnCode||!1,delay:t.delay||1e4};return e.outStream=t.outStream||process.stdout,e.errStream=t.errStream||process.stderr,e}_getSpawnOptions(t,e){t=t||{};const r={};return r.cwd=t.cwd,r.env=t.env,r.windowsVerbatimArguments=t.windowsVerbatimArguments||this._isCmdFile(),t.windowsVerbatimArguments&&(r.argv0=`"${e}"`),r}exec(){return i(this,void 0,void 0,(function*(){return new Promise(((t,e)=>{this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:");for(const t of this.args)this._debug(`   ${t}`);const r=this._cloneExecOptions(this.options);!r.silent&&r.outStream&&r.outStream.write(this._getCommandString(r)+s.EOL);const i=new c(r,this.toolPath);i.on("debug",(t=>{this._debug(t)}));const n=this._getSpawnFileName(),a=o.spawn(n,this._getSpawnArgs(r),this._getSpawnOptions(this.options,n));a.stdout&&a.stdout.on("data",(t=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(t),!r.silent&&r.outStream&&r.outStream.write(t),this._processLineBuffer(t,"",(t=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(t)}))})),a.stderr&&a.stderr.on("data",(t=>{i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(t),!r.silent&&r.errStream&&r.outStream&&(r.failOnStdErr?r.errStream:r.outStream).write(t),this._processLineBuffer(t,"",(t=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(t)}))})),a.on("error",(t=>{i.processError=t.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()})),a.on("exit",(t=>{i.processExitCode=t,i.processExited=!0,this._debug(`Exit code ${t} received from tool '${this.toolPath}'`),i.CheckComplete()})),a.on("close",(t=>{i.processExitCode=t,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()})),i.on("done",((r,i)=>{"".length>0&&this.emit("stdline",""),"".length>0&&this.emit("errline",""),a.removeAllListeners(),r?e(r):t(i)}))}))}))}}e.ToolRunner=l,e.argStringToArray=function(t){const e=[];let r=!1,i=!1,s="";function n(t){i&&'"'!==t&&(s+="\\"),s+=t,i=!1}for(let o=0;o<t.length;o++){const a=t.charAt(o);'"'!==a?"\\"===a&&i?n(a):"\\"===a&&r?i=!0:" "!==a||r?n(a):s.length>0&&(e.push(s),s=""):i?n(a):r=!r}return s.length>0&&e.push(s.trim()),e};class c extends n.EventEmitter{constructor(t,e){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!e)throw new Error("toolPath must not be empty");this.options=t,this.toolPath=e,t.delay&&(this.delay=t.delay)}CheckComplete(){this.done||(this.processClosed?this._setResult():this.processExited&&(this.timeout=setTimeout(c.HandleTimeout,this.delay,this)))}_debug(t){this.emit("debug",t)}_setResult(){let t;this.processExited&&(this.processError?t=new Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(t=new Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):t=new Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",t,this.processExitCode)}static HandleTimeout(t){if(!t.done){if(!t.processClosed&&t.processExited){const e=`The STDIO streams did not close within ${t.delay/1e3} seconds of the exit event from process '${t.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;t._debug(e)}t._setResult()}}}},2429:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.PersonalAccessTokenCredentialHandler=e.BearerCredentialHandler=e.BasicCredentialHandler=void 0,e.BasicCredentialHandler=class{constructor(t,e){this.username=t,this.password=e}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}},e.BearerCredentialHandler=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}},e.PersonalAccessTokenCredentialHandler=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}},4635:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.HttpClient=e.isHttps=e.HttpClientResponse=e.HttpClientError=e.getProxyUrl=e.MediaTypes=e.Headers=e.HttpCodes=void 0;const a=n(r(3685)),l=n(r(5687)),c=n(r(7960)),h=n(r(6149));var u,p,d;!function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"}(u=e.HttpCodes||(e.HttpCodes={})),function(t){t.Accept="accept",t.ContentType="content-type"}(p=e.Headers||(e.Headers={})),function(t){t.ApplicationJson="application/json"}(d=e.MediaTypes||(e.MediaTypes={})),e.getProxyUrl=function(t){const e=c.getProxyUrl(new URL(t));return e?e.href:""};const f=[u.MovedPermanently,u.ResourceMoved,u.SeeOther,u.TemporaryRedirect,u.PermanentRedirect],y=[u.BadGateway,u.ServiceUnavailable,u.GatewayTimeout],g=["OPTIONS","GET","DELETE","HEAD"];class m extends Error{constructor(t,e){super(t),this.name="HttpClientError",this.statusCode=e,Object.setPrototypeOf(this,m.prototype)}}e.HttpClientError=m;class v{constructor(t){this.message=t}readBody(){return o(this,void 0,void 0,(function*(){return new Promise((t=>o(this,void 0,void 0,(function*(){let e=Buffer.alloc(0);this.message.on("data",(t=>{e=Buffer.concat([e,t])})),this.message.on("end",(()=>{t(e.toString())}))}))))}))}}e.HttpClientResponse=v,e.isHttps=function(t){return"https:"===new URL(t).protocol},e.HttpClient=class{constructor(t,e,r){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=e||[],this.requestOptions=r,r&&(null!=r.ignoreSslError&&(this._ignoreSslError=r.ignoreSslError),this._socketTimeout=r.socketTimeout,null!=r.allowRedirects&&(this._allowRedirects=r.allowRedirects),null!=r.allowRedirectDowngrade&&(this._allowRedirectDowngrade=r.allowRedirectDowngrade),null!=r.maxRedirects&&(this._maxRedirects=Math.max(r.maxRedirects,0)),null!=r.keepAlive&&(this._keepAlive=r.keepAlive),null!=r.allowRetries&&(this._allowRetries=r.allowRetries),null!=r.maxRetries&&(this._maxRetries=r.maxRetries))}options(t,e){return o(this,void 0,void 0,(function*(){return this.request("OPTIONS",t,null,e||{})}))}get(t,e){return o(this,void 0,void 0,(function*(){return this.request("GET",t,null,e||{})}))}del(t,e){return o(this,void 0,void 0,(function*(){return this.request("DELETE",t,null,e||{})}))}post(t,e,r){return o(this,void 0,void 0,(function*(){return this.request("POST",t,e,r||{})}))}patch(t,e,r){return o(this,void 0,void 0,(function*(){return this.request("PATCH",t,e,r||{})}))}put(t,e,r){return o(this,void 0,void 0,(function*(){return this.request("PUT",t,e,r||{})}))}head(t,e){return o(this,void 0,void 0,(function*(){return this.request("HEAD",t,null,e||{})}))}sendStream(t,e,r,i){return o(this,void 0,void 0,(function*(){return this.request(t,e,r,i)}))}getJson(t,e={}){return o(this,void 0,void 0,(function*(){e[p.Accept]=this._getExistingOrDefaultHeader(e,p.Accept,d.ApplicationJson);const r=yield this.get(t,e);return this._processResponse(r,this.requestOptions)}))}postJson(t,e,r={}){return o(this,void 0,void 0,(function*(){const i=JSON.stringify(e,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,d.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,d.ApplicationJson);const s=yield this.post(t,i,r);return this._processResponse(s,this.requestOptions)}))}putJson(t,e,r={}){return o(this,void 0,void 0,(function*(){const i=JSON.stringify(e,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,d.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,d.ApplicationJson);const s=yield this.put(t,i,r);return this._processResponse(s,this.requestOptions)}))}patchJson(t,e,r={}){return o(this,void 0,void 0,(function*(){const i=JSON.stringify(e,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,d.ApplicationJson),r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,d.ApplicationJson);const s=yield this.patch(t,i,r);return this._processResponse(s,this.requestOptions)}))}request(t,e,r,i){return o(this,void 0,void 0,(function*(){if(this._disposed)throw new Error("Client has already been disposed.");const s=new URL(e);let n=this._prepareRequest(t,s,i);const o=this._allowRetries&&g.includes(t)?this._maxRetries+1:1;let a,l=0;do{if(a=yield this.requestRaw(n,r),a&&a.message&&a.message.statusCode===u.Unauthorized){let t;for(const e of this.handlers)if(e.canHandleAuthentication(a)){t=e;break}return t?t.handleAuthentication(this,n,r):a}let e=this._maxRedirects;for(;a.message.statusCode&&f.includes(a.message.statusCode)&&this._allowRedirects&&e>0;){const o=a.message.headers.location;if(!o)break;const l=new URL(o);if("https:"===s.protocol&&s.protocol!==l.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),l.hostname!==s.hostname)for(const t in i)"authorization"===t.toLowerCase()&&delete i[t];n=this._prepareRequest(t,l,i),a=yield this.requestRaw(n,r),e--}if(!a.message.statusCode||!y.includes(a.message.statusCode))return a;l+=1,l<o&&(yield a.readBody(),yield this._performExponentialBackoff(l))}while(l<o);return a}))}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,e){return o(this,void 0,void 0,(function*(){return new Promise(((r,i)=>{this.requestRawWithCallback(t,e,(function(t,e){t?i(t):e?r(e):i(new Error("Unknown error"))}))}))}))}requestRawWithCallback(t,e,r){"string"==typeof e&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(e,"utf8"));let i=!1;function s(t,e){i||(i=!0,r(t,e))}const n=t.httpModule.request(t.options,(t=>{s(void 0,new v(t))}));let o;n.on("socket",(t=>{o=t})),n.setTimeout(this._socketTimeout||18e4,(()=>{o&&o.end(),s(new Error(`Request timeout: ${t.options.path}`))})),n.on("error",(function(t){s(t)})),e&&"string"==typeof e&&n.write(e,"utf8"),e&&"string"!=typeof e?(e.on("close",(function(){n.end()})),e.pipe(n)):n.end()}getAgent(t){const e=new URL(t);return this._getAgent(e)}_prepareRequest(t,e,r){const i={};i.parsedUrl=e;const s="https:"===i.parsedUrl.protocol;i.httpModule=s?l:a;const n=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):n,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(r),null!=this.userAgent&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(const t of this.handlers)t.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},w(this.requestOptions.headers),w(t||{})):w(t||{})}_getExistingOrDefaultHeader(t,e,r){let i;return this.requestOptions&&this.requestOptions.headers&&(i=w(this.requestOptions.headers)[e]),t[e]||i||r}_getAgent(t){let e;const r=c.getProxyUrl(t),i=r&&r.hostname;if(this._keepAlive&&i&&(e=this._proxyAgent),this._keepAlive&&!i&&(e=this._agent),e)return e;const s="https:"===t.protocol;let n=100;if(this.requestOptions&&(n=this.requestOptions.maxSockets||a.globalAgent.maxSockets),r&&r.hostname){const t={maxSockets:n,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})};let i;const o="https:"===r.protocol;i=s?o?h.httpsOverHttps:h.httpsOverHttp:o?h.httpOverHttps:h.httpOverHttp,e=i(t),this._proxyAgent=e}if(this._keepAlive&&!e){const t={keepAlive:this._keepAlive,maxSockets:n};e=s?new l.Agent(t):new a.Agent(t),this._agent=e}return e||(e=s?l.globalAgent:a.globalAgent),s&&this._ignoreSslError&&(e.options=Object.assign(e.options||{},{rejectUnauthorized:!1})),e}_performExponentialBackoff(t){return o(this,void 0,void 0,(function*(){t=Math.min(10,t);const e=5*Math.pow(2,t);return new Promise((t=>setTimeout((()=>t()),e)))}))}_processResponse(t,e){return o(this,void 0,void 0,(function*(){return new Promise(((r,i)=>o(this,void 0,void 0,(function*(){const s=t.message.statusCode||0,n={statusCode:s,result:null,headers:{}};let o,a;s===u.NotFound&&r(n);try{a=yield t.readBody(),a&&a.length>0&&(o=e&&e.deserializeDates?JSON.parse(a,(function(t,e){if("string"==typeof e){const t=new Date(e);if(!isNaN(t.valueOf()))return t}return e})):JSON.parse(a),n.result=o),n.headers=t.message.headers}catch(t){}if(s>299){let t;t=o&&o.message?o.message:a&&a.length>0?a:`Failed request: (${s})`;const e=new m(t,s);e.result=n.result,i(e)}else r(n)}))))}))}};const w=t=>Object.keys(t).reduce(((e,r)=>(e[r.toLowerCase()]=t[r],e)),{})},7960:(t,e)=>{"use strict";function r(t){if(!t.hostname)return!1;const e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):"http:"===t.protocol?r=80:"https:"===t.protocol&&(r=443);const i=[t.hostname.toUpperCase()];"number"==typeof r&&i.push(`${i[0]}:${r}`);for(const t of e.split(",").map((t=>t.trim().toUpperCase())).filter((t=>t)))if(i.some((e=>e===t)))return!0;return!1}Object.defineProperty(e,"__esModule",{value:!0}),e.checkBypass=e.getProxyUrl=void 0,e.getProxyUrl=function(t){const e="https:"===t.protocol;if(r(t))return;const i=e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY;return i?new URL(i):void 0},e.checkBypass=r},7564:function(t,e,r){"use strict";var i,s=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&s(e,t,r);return n(e,t),e},a=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.getCmdPath=e.tryGetExecutablePath=e.isRooted=e.isDirectory=e.exists=e.IS_WINDOWS=e.unlink=e.symlink=e.stat=e.rmdir=e.rename=e.readlink=e.readdir=e.mkdir=e.lstat=e.copyFile=e.chmod=void 0;const l=o(r(7147)),c=o(r(1017));function h(t){return(1&t.mode)>0||(8&t.mode)>0&&t.gid===process.getgid()||(64&t.mode)>0&&t.uid===process.getuid()}i=l.promises,e.chmod=i.chmod,e.copyFile=i.copyFile,e.lstat=i.lstat,e.mkdir=i.mkdir,e.readdir=i.readdir,e.readlink=i.readlink,e.rename=i.rename,e.rmdir=i.rmdir,e.stat=i.stat,e.symlink=i.symlink,e.unlink=i.unlink,e.IS_WINDOWS="win32"===process.platform,e.exists=function(t){return a(this,void 0,void 0,(function*(){try{yield e.stat(t)}catch(t){if("ENOENT"===t.code)return!1;throw t}return!0}))},e.isDirectory=function(t,r=!1){return a(this,void 0,void 0,(function*(){return(r?yield e.stat(t):yield e.lstat(t)).isDirectory()}))},e.isRooted=function(t){if(!(t=function(t){return t=t||"",e.IS_WINDOWS?(t=t.replace(/\//g,"\\")).replace(/\\\\+/g,"\\"):t.replace(/\/\/+/g,"/")}(t)))throw new Error('isRooted() parameter "p" cannot be empty');return e.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")},e.tryGetExecutablePath=function(t,r){return a(this,void 0,void 0,(function*(){let i;try{i=yield e.stat(t)}catch(e){"ENOENT"!==e.code&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}if(i&&i.isFile())if(e.IS_WINDOWS){const e=c.extname(t).toUpperCase();if(r.some((t=>t.toUpperCase()===e)))return t}else if(h(i))return t;const s=t;for(const n of r){t=s+n,i=void 0;try{i=yield e.stat(t)}catch(e){"ENOENT"!==e.code&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}if(i&&i.isFile()){if(e.IS_WINDOWS){try{const r=c.dirname(t),i=c.basename(t).toUpperCase();for(const s of yield e.readdir(r))if(i===s.toUpperCase()){t=c.join(r,s);break}}catch(e){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${e}`)}return t}if(h(i))return t}}return""}))},e.getCmdPath=function(){var t;return null!==(t=process.env.COMSPEC)&&void 0!==t?t:"cmd.exe"}},484:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.findInPath=e.which=e.mkdirP=e.rmRF=e.mv=e.cp=void 0;const a=r(9491),l=n(r(2081)),c=n(r(1017)),h=r(3837),u=n(r(7564)),p=h.promisify(l.exec),d=h.promisify(l.execFile);function f(t){return o(this,void 0,void 0,(function*(){if(u.IS_WINDOWS){if(/[*"<>|]/.test(t))throw new Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{const e=u.getCmdPath();(yield u.isDirectory(t,!0))?yield p(`${e} /s /c "rd /s /q "%inputPath%""`,{env:{inputPath:t}}):yield p(`${e} /s /c "del /f /a "%inputPath%""`,{env:{inputPath:t}})}catch(t){if("ENOENT"!==t.code)throw t}try{yield u.unlink(t)}catch(t){if("ENOENT"!==t.code)throw t}}else{let e=!1;try{e=yield u.isDirectory(t)}catch(t){if("ENOENT"!==t.code)throw t;return}e?yield d("rm",["-rf",`${t}`]):yield u.unlink(t)}}))}function y(t){return o(this,void 0,void 0,(function*(){a.ok(t,"a path argument must be provided"),yield u.mkdir(t,{recursive:!0})}))}function g(t){return o(this,void 0,void 0,(function*(){if(!t)throw new Error("parameter 'tool' is required");const e=[];if(u.IS_WINDOWS&&process.env.PATHEXT)for(const t of process.env.PATHEXT.split(c.delimiter))t&&e.push(t);if(u.isRooted(t)){const r=yield u.tryGetExecutablePath(t,e);return r?[r]:[]}if(t.includes(c.sep))return[];const r=[];if(process.env.PATH)for(const t of process.env.PATH.split(c.delimiter))t&&r.push(t);const i=[];for(const s of r){const r=yield u.tryGetExecutablePath(c.join(s,t),e);r&&i.push(r)}return i}))}function m(t,e,r,i){return o(this,void 0,void 0,(function*(){if(r>=255)return;r++,yield y(e);const s=yield u.readdir(t);for(const n of s){const s=`${t}/${n}`,o=`${e}/${n}`;(yield u.lstat(s)).isDirectory()?yield m(s,o,r,i):yield v(s,o,i)}yield u.chmod(e,(yield u.stat(t)).mode)}))}function v(t,e,r){return o(this,void 0,void 0,(function*(){if((yield u.lstat(t)).isSymbolicLink()){try{yield u.lstat(e),yield u.unlink(e)}catch(t){"EPERM"===t.code&&(yield u.chmod(e,"0666"),yield u.unlink(e))}const r=yield u.readlink(t);yield u.symlink(r,e,u.IS_WINDOWS?"junction":null)}else(yield u.exists(e))&&!r||(yield u.copyFile(t,e))}))}e.cp=function(t,e,r={}){return o(this,void 0,void 0,(function*(){const{force:i,recursive:s,copySourceDirectory:n}=function(t){return{force:null==t.force||t.force,recursive:Boolean(t.recursive),copySourceDirectory:null==t.copySourceDirectory||Boolean(t.copySourceDirectory)}}(r),o=(yield u.exists(e))?yield u.stat(e):null;if(o&&o.isFile()&&!i)return;const a=o&&o.isDirectory()&&n?c.join(e,c.basename(t)):e;if(!(yield u.exists(t)))throw new Error(`no such file or directory: ${t}`);if((yield u.stat(t)).isDirectory()){if(!s)throw new Error(`Failed to copy. ${t} is a directory, but tried to copy without recursive flag.`);yield m(t,a,0,i)}else{if(""===c.relative(t,a))throw new Error(`'${a}' and '${t}' are the same file`);yield v(t,a,i)}}))},e.mv=function(t,e,r={}){return o(this,void 0,void 0,(function*(){if(yield u.exists(e)){let i=!0;if((yield u.isDirectory(e))&&(e=c.join(e,c.basename(t)),i=yield u.exists(e)),i){if(null!=r.force&&!r.force)throw new Error("Destination already exists");yield f(e)}}yield y(c.dirname(e)),yield u.rename(t,e)}))},e.rmRF=f,e.mkdirP=y,e.which=function t(e,r){return o(this,void 0,void 0,(function*(){if(!e)throw new Error("parameter 'tool' is required");if(r){const r=yield t(e,!1);if(!r)throw u.IS_WINDOWS?new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`):new Error(`Unable to locate executable file: ${e}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`);return r}const i=yield g(e);return i&&i.length>0?i[0]:""}))},e.findInPath=g},3361:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e._readLinuxVersionFile=e._getOsVersion=e._findMatch=void 0;const a=n(r(647)),l=r(2225),c=r(2037),h=r(2081),u=r(7147);e._findMatch=function(e,r,i,s){return o(this,void 0,void 0,(function*(){const n=c.platform();let o,h,u;for(const o of i){const i=o.version;if(l.debug(`check ${i} satisfies ${e}`),a.satisfies(i,e)&&(!r||o.stable===r)&&(u=o.files.find((e=>{l.debug(`${e.arch}===${s} && ${e.platform}===${n}`);let r=e.arch===s&&e.platform===n;if(r&&e.platform_version){const i=t.exports._getOsVersion();r=i===e.platform_version||a.satisfies(i,e.platform_version)}return r})),u)){l.debug(`matched ${o.version}`),h=o;break}}return h&&u&&(o=Object.assign({},h),o.files=[u]),o}))},e._getOsVersion=function(){const e=c.platform();let r="";if("darwin"===e)r=h.execSync("sw_vers -productVersion").toString();else if("linux"===e){const e=t.exports._readLinuxVersionFile();if(e){const t=e.split("\n");for(const e of t){const t=e.split("=");if(2===t.length&&("VERSION_ID"===t[0].trim()||"DISTRIB_RELEASE"===t[0].trim())){r=t[1].trim().replace(/^"/,"").replace(/"$/,"");break}}}}return r},e._readLinuxVersionFile=function(){const t="/etc/lsb-release",e="/etc/os-release";let r="";return u.existsSync(t)?r=u.readFileSync(t).toString():u.existsSync(e)&&(r=u.readFileSync(e).toString()),r}},1804:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.RetryHelper=void 0;const a=n(r(2225));e.RetryHelper=class{constructor(t,e,r){if(t<1)throw new Error("max attempts should be greater than or equal to 1");if(this.maxAttempts=t,this.minSeconds=Math.floor(e),this.maxSeconds=Math.floor(r),this.minSeconds>this.maxSeconds)throw new Error("min seconds should be less than or equal to max seconds")}execute(t,e){return o(this,void 0,void 0,(function*(){let r=1;for(;r<this.maxAttempts;){try{return yield t()}catch(t){if(e&&!e(t))throw t;a.info(t.message)}const i=this.getSleepAmount();a.info(`Waiting ${i} seconds before trying again`),yield this.sleep(i),r++}return yield t()}))}getSleepAmount(){return Math.floor(Math.random()*(this.maxSeconds-this.minSeconds+1))+this.minSeconds}sleep(t){return o(this,void 0,void 0,(function*(){return new Promise((e=>setTimeout(e,1e3*t)))}))}}},4392:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.evaluateVersions=e.isExplicitVersion=e.findFromManifest=e.getManifestFromRepo=e.findAllVersions=e.find=e.cacheFile=e.cacheDir=e.extractZip=e.extractXar=e.extractTar=e.extract7z=e.downloadTool=e.HTTPError=void 0;const l=n(r(2225)),c=n(r(484)),h=n(r(7147)),u=n(r(3361)),p=n(r(2037)),d=n(r(1017)),f=n(r(4635)),y=n(r(647)),g=n(r(2781)),m=n(r(3837)),v=r(9491),w=a(r(1171)),E=r(27),b=r(1804);class S extends Error{constructor(t){super(`Unexpected HTTP response: ${t}`),this.httpStatusCode=t,Object.setPrototypeOf(this,new.target.prototype)}}e.HTTPError=S;const O="win32"===process.platform,_="darwin"===process.platform;function R(t,e){const r=[];e=e||p.arch();const i=d.join(C(),t);if(h.existsSync(i)){const t=h.readdirSync(i);for(const s of t)if(T(s)){const t=d.join(i,s,e||"");h.existsSync(t)&&h.existsSync(`${t}.complete`)&&r.push(s)}}return r}function P(t){return o(this,void 0,void 0,(function*(){return t||(t=d.join(k(),w.default())),yield c.mkdirP(t),t}))}function A(t,e,r){return o(this,void 0,void 0,(function*(){const i=d.join(C(),t,y.clean(e)||e,r||"");l.debug(`destination ${i}`);const s=`${i}.complete`;return yield c.rmRF(i),yield c.rmRF(s),yield c.mkdirP(i),i}))}function x(t,e,r){const i=`${d.join(C(),t,y.clean(e)||e,r||"")}.complete`;h.writeFileSync(i,""),l.debug("finished caching tool")}function T(t){const e=y.clean(t)||"";l.debug(`isExplicit: ${e}`);const r=null!=y.valid(e);return l.debug(`explicit? ${r}`),r}function I(t,e){let r="";l.debug(`evaluating ${t.length} versions`);for(let i=(t=t.sort(((t,e)=>y.gt(t,e)?1:-1))).length-1;i>=0;i--){const s=t[i];if(y.satisfies(s,e)){r=s;break}}return r?l.debug(`matched: ${r}`):l.debug("match not found"),r}function C(){const t=process.env.RUNNER_TOOL_CACHE||"";return v.ok(t,"Expected RUNNER_TOOL_CACHE to be defined"),t}function k(){const t=process.env.RUNNER_TEMP||"";return v.ok(t,"Expected RUNNER_TEMP to be defined"),t}function L(t,e){const r=global[t];return void 0!==r?r:e}e.downloadTool=function(t,e,r,i){return o(this,void 0,void 0,(function*(){e=e||d.join(k(),w.default()),yield c.mkdirP(d.dirname(e)),l.debug(`Downloading ${t}`),l.debug(`Destination ${e}`);const s=L("TEST_DOWNLOAD_TOOL_RETRY_MIN_SECONDS",10),n=L("TEST_DOWNLOAD_TOOL_RETRY_MAX_SECONDS",20),a=new b.RetryHelper(3,s,n);return yield a.execute((()=>o(this,void 0,void 0,(function*(){return yield function(t,e,r,i){return o(this,void 0,void 0,(function*(){if(h.existsSync(e))throw new Error(`Destination file path ${e} already exists`);const s=new f.HttpClient("actions/tool-cache",[],{allowRetries:!1});r&&(l.debug("set auth"),void 0===i&&(i={}),i.authorization=r);const n=yield s.get(t,i);if(200!==n.message.statusCode){const e=new S(n.message.statusCode);throw l.debug(`Failed to download from "${t}". Code(${n.message.statusCode}) Message(${n.message.statusMessage})`),e}const o=m.promisify(g.pipeline),a=L("TEST_DOWNLOAD_TOOL_RESPONSE_MESSAGE_FACTORY",(()=>n.message))();let u=!1;try{return yield o(a,h.createWriteStream(e)),l.debug("download complete"),u=!0,e}finally{if(!u){l.debug("download failed");try{yield c.rmRF(e)}catch(t){l.debug(`Failed to delete '${e}'. ${t.message}`)}}}}))}(t,e||"",r,i)}))),(t=>!(t instanceof S&&t.httpStatusCode&&t.httpStatusCode<500&&408!==t.httpStatusCode&&429!==t.httpStatusCode)))}))},e.extract7z=function(t,e,r){return o(this,void 0,void 0,(function*(){v.ok(O,"extract7z() not supported on current OS"),v.ok(t,'parameter "file" is required'),e=yield P(e);const i=process.cwd();if(process.chdir(e),r)try{const e=["x",l.isDebug()?"-bb1":"-bb0","-bd","-sccUTF-8",t],s={silent:!0};yield E.exec(`"${r}"`,e,s)}finally{process.chdir(i)}else{const r=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",`& '${d.join(__dirname,"..","scripts","Invoke-7zdec.ps1").replace(/'/g,"''").replace(/"|\n|\r/g,"")}' -Source '${t.replace(/'/g,"''").replace(/"|\n|\r/g,"")}' -Target '${e.replace(/'/g,"''").replace(/"|\n|\r/g,"")}'`],s={silent:!0};try{const t=yield c.which("powershell",!0);yield E.exec(`"${t}"`,r,s)}finally{process.chdir(i)}}return e}))},e.extractTar=function(t,e,r="xz"){return o(this,void 0,void 0,(function*(){if(!t)throw new Error("parameter 'file' is required");e=yield P(e),l.debug("Checking tar --version");let i="";yield E.exec("tar --version",[],{ignoreReturnCode:!0,silent:!0,listeners:{stdout:t=>i+=t.toString(),stderr:t=>i+=t.toString()}}),l.debug(i.trim());const s=i.toUpperCase().includes("GNU TAR");let n;n=r instanceof Array?r:[r],l.isDebug()&&!r.includes("v")&&n.push("-v");let o=e,a=t;return O&&s&&(n.push("--force-local"),o=e.replace(/\\/g,"/"),a=t.replace(/\\/g,"/")),s&&(n.push("--warning=no-unknown-keyword"),n.push("--overwrite")),n.push("-C",o,"-f",a),yield E.exec("tar",n),e}))},e.extractXar=function(t,e,r=[]){return o(this,void 0,void 0,(function*(){let i;v.ok(_,"extractXar() not supported on current OS"),v.ok(t,'parameter "file" is required'),e=yield P(e),i=r instanceof Array?r:[r],i.push("-x","-C",e,"-f",t),l.isDebug()&&i.push("-v");const s=yield c.which("xar",!0);var n;return yield E.exec(`"${s}"`,(n=i,Array.from(new Set(n)))),e}))},e.extractZip=function(t,e){return o(this,void 0,void 0,(function*(){if(!t)throw new Error("parameter 'file' is required");return e=yield P(e),O?yield function(t,e){return o(this,void 0,void 0,(function*(){const r=t.replace(/'/g,"''").replace(/"|\n|\r/g,""),i=e.replace(/'/g,"''").replace(/"|\n|\r/g,""),s=yield c.which("pwsh",!1);if(s){const t=["-NoLogo","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.ZipFile } catch { } ;",`try { [System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${i}', $true) }`,`catch { if (($_.Exception.GetType().FullName -eq 'System.Management.Automation.MethodException') -or ($_.Exception.GetType().FullName -eq 'System.Management.Automation.RuntimeException') ){ Expand-Archive -LiteralPath '${r}' -DestinationPath '${i}' -Force } else { throw $_ } } ;`].join(" ")];l.debug(`Using pwsh at path: ${s}`),yield E.exec(`"${s}"`,t)}else{const t=["-NoLogo","-Sta","-NoProfile","-NonInteractive","-ExecutionPolicy","Unrestricted","-Command",["$ErrorActionPreference = 'Stop' ;","try { Add-Type -AssemblyName System.IO.Compression.FileSystem } catch { } ;",`if ((Get-Command -Name Expand-Archive -Module Microsoft.PowerShell.Archive -ErrorAction Ignore)) { Expand-Archive -LiteralPath '${r}' -DestinationPath '${i}' -Force }`,`else {[System.IO.Compression.ZipFile]::ExtractToDirectory('${r}', '${i}', $true) }`].join(" ")],e=yield c.which("powershell",!0);l.debug(`Using powershell at path: ${e}`),yield E.exec(`"${e}"`,t)}}))}(t,e):yield function(t,e){return o(this,void 0,void 0,(function*(){const r=yield c.which("unzip",!0),i=[t];l.isDebug()||i.unshift("-q"),i.unshift("-o"),yield E.exec(`"${r}"`,i,{cwd:e})}))}(t,e),e}))},e.cacheDir=function(t,e,r,i){return o(this,void 0,void 0,(function*(){if(r=y.clean(r)||r,i=i||p.arch(),l.debug(`Caching tool ${e} ${r} ${i}`),l.debug(`source dir: ${t}`),!h.statSync(t).isDirectory())throw new Error("sourceDir is not a directory");const s=yield A(e,r,i);for(const e of h.readdirSync(t)){const r=d.join(t,e);yield c.cp(r,s,{recursive:!0})}return x(e,r,i),s}))},e.cacheFile=function(t,e,r,i,s){return o(this,void 0,void 0,(function*(){if(i=y.clean(i)||i,s=s||p.arch(),l.debug(`Caching tool ${r} ${i} ${s}`),l.debug(`source file: ${t}`),!h.statSync(t).isFile())throw new Error("sourceFile is not a file");const n=yield A(r,i,s),o=d.join(n,e);return l.debug(`destination file ${o}`),yield c.cp(t,o),x(r,i,s),n}))},e.find=function(t,e,r){if(!t)throw new Error("toolName parameter is required");if(!e)throw new Error("versionSpec parameter is required");r=r||p.arch(),T(e)||(e=I(R(t,r),e));let i="";if(e){e=y.clean(e)||"";const s=d.join(C(),t,e,r);l.debug(`checking cache: ${s}`),h.existsSync(s)&&h.existsSync(`${s}.complete`)?(l.debug(`Found tool in cache ${t} ${e} ${r}`),i=s):l.debug("not found")}return i},e.findAllVersions=R,e.getManifestFromRepo=function(t,e,r,i="master"){return o(this,void 0,void 0,(function*(){let s=[];const n=`https://api.github.com/repos/${t}/${e}/git/trees/${i}`,o=new f.HttpClient("tool-cache"),a={};r&&(l.debug("set auth"),a.authorization=r);const c=yield o.getJson(n,a);if(!c.result)return s;let h="";for(const t of c.result.tree)if("versions-manifest.json"===t.path){h=t.url;break}a.accept="application/vnd.github.VERSION.raw";let u=yield(yield o.get(h,a)).readBody();if(u){u=u.replace(/^\uFEFF/,"");try{s=JSON.parse(u)}catch(t){l.debug("Invalid json")}}return s}))},e.findFromManifest=function(t,e,r,i=p.arch()){return o(this,void 0,void 0,(function*(){return yield u._findMatch(t,e,r,i)}))},e.isExplicitVersion=T,e.evaluateVersions=I},647:(t,e)=>{var r;e=t.exports=f,r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var i=Number.MAX_SAFE_INTEGER||9007199254740991,s=e.re=[],n=e.safeRe=[],o=e.src=[],a=e.tokens={},l=0;function c(t){a[t]=l++}var h=[["\\s",1],["\\d",256],["[a-zA-Z0-9-]",250]];function u(t){for(var e=0;e<h.length;e++){var r=h[e][0],i=h[e][1];t=t.split(r+"*").join(r+"{0,"+i+"}").split(r+"+").join(r+"{1,"+i+"}")}return t}c("NUMERICIDENTIFIER"),o[a.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),o[a.NUMERICIDENTIFIERLOOSE]="\\d+",c("NONNUMERICIDENTIFIER"),o[a.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),o[a.MAINVERSION]="("+o[a.NUMERICIDENTIFIER]+")\\.("+o[a.NUMERICIDENTIFIER]+")\\.("+o[a.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),o[a.MAINVERSIONLOOSE]="("+o[a.NUMERICIDENTIFIERLOOSE]+")\\.("+o[a.NUMERICIDENTIFIERLOOSE]+")\\.("+o[a.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),o[a.PRERELEASEIDENTIFIER]="(?:"+o[a.NUMERICIDENTIFIER]+"|"+o[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),o[a.PRERELEASEIDENTIFIERLOOSE]="(?:"+o[a.NUMERICIDENTIFIERLOOSE]+"|"+o[a.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),o[a.PRERELEASE]="(?:-("+o[a.PRERELEASEIDENTIFIER]+"(?:\\."+o[a.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),o[a.PRERELEASELOOSE]="(?:-?("+o[a.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+o[a.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),o[a.BUILDIDENTIFIER]="[a-zA-Z0-9-]+",c("BUILD"),o[a.BUILD]="(?:\\+("+o[a.BUILDIDENTIFIER]+"(?:\\."+o[a.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),o[a.FULLPLAIN]="v?"+o[a.MAINVERSION]+o[a.PRERELEASE]+"?"+o[a.BUILD]+"?",o[a.FULL]="^"+o[a.FULLPLAIN]+"$",c("LOOSEPLAIN"),o[a.LOOSEPLAIN]="[v=\\s]*"+o[a.MAINVERSIONLOOSE]+o[a.PRERELEASELOOSE]+"?"+o[a.BUILD]+"?",c("LOOSE"),o[a.LOOSE]="^"+o[a.LOOSEPLAIN]+"$",c("GTLT"),o[a.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),o[a.XRANGEIDENTIFIERLOOSE]=o[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),o[a.XRANGEIDENTIFIER]=o[a.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),o[a.XRANGEPLAIN]="[v=\\s]*("+o[a.XRANGEIDENTIFIER]+")(?:\\.("+o[a.XRANGEIDENTIFIER]+")(?:\\.("+o[a.XRANGEIDENTIFIER]+")(?:"+o[a.PRERELEASE]+")?"+o[a.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),o[a.XRANGEPLAINLOOSE]="[v=\\s]*("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[a.XRANGEIDENTIFIERLOOSE]+")(?:"+o[a.PRERELEASELOOSE]+")?"+o[a.BUILD]+"?)?)?",c("XRANGE"),o[a.XRANGE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAIN]+"$",c("XRANGELOOSE"),o[a.XRANGELOOSE]="^"+o[a.GTLT]+"\\s*"+o[a.XRANGEPLAINLOOSE]+"$",c("COERCE"),o[a.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),s[a.COERCERTL]=new RegExp(o[a.COERCE],"g"),n[a.COERCERTL]=new RegExp(u(o[a.COERCE]),"g"),c("LONETILDE"),o[a.LONETILDE]="(?:~>?)",c("TILDETRIM"),o[a.TILDETRIM]="(\\s*)"+o[a.LONETILDE]+"\\s+",s[a.TILDETRIM]=new RegExp(o[a.TILDETRIM],"g"),n[a.TILDETRIM]=new RegExp(u(o[a.TILDETRIM]),"g"),c("TILDE"),o[a.TILDE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAIN]+"$",c("TILDELOOSE"),o[a.TILDELOOSE]="^"+o[a.LONETILDE]+o[a.XRANGEPLAINLOOSE]+"$",c("LONECARET"),o[a.LONECARET]="(?:\\^)",c("CARETTRIM"),o[a.CARETTRIM]="(\\s*)"+o[a.LONECARET]+"\\s+",s[a.CARETTRIM]=new RegExp(o[a.CARETTRIM],"g"),n[a.CARETTRIM]=new RegExp(u(o[a.CARETTRIM]),"g"),c("CARET"),o[a.CARET]="^"+o[a.LONECARET]+o[a.XRANGEPLAIN]+"$",c("CARETLOOSE"),o[a.CARETLOOSE]="^"+o[a.LONECARET]+o[a.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),o[a.COMPARATORLOOSE]="^"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),o[a.COMPARATOR]="^"+o[a.GTLT]+"\\s*("+o[a.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),o[a.COMPARATORTRIM]="(\\s*)"+o[a.GTLT]+"\\s*("+o[a.LOOSEPLAIN]+"|"+o[a.XRANGEPLAIN]+")",s[a.COMPARATORTRIM]=new RegExp(o[a.COMPARATORTRIM],"g"),n[a.COMPARATORTRIM]=new RegExp(u(o[a.COMPARATORTRIM]),"g"),c("HYPHENRANGE"),o[a.HYPHENRANGE]="^\\s*("+o[a.XRANGEPLAIN]+")\\s+-\\s+("+o[a.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),o[a.HYPHENRANGELOOSE]="^\\s*("+o[a.XRANGEPLAINLOOSE]+")\\s+-\\s+("+o[a.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),o[a.STAR]="(<|>)?=?\\s*\\*";for(var p=0;p<l;p++)r(p,o[p]),s[p]||(s[p]=new RegExp(o[p]),n[p]=new RegExp(u(o[p])));function d(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof f)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(e.loose?n[a.LOOSE]:n[a.FULL]).test(t))return null;try{return new f(t,e)}catch(t){return null}}function f(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof f){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof f))return new f(t,e);r("SemVer",t,e),this.options=e,this.loose=!!e.loose;var s=t.trim().match(e.loose?n[a.LOOSE]:n[a.FULL]);if(!s)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<i)return e}return t})):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}e.parse=d,e.valid=function(t,e){var r=d(t,e);return r?r.version:null},e.clean=function(t,e){var r=d(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null},e.SemVer=f,f.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},f.prototype.toString=function(){return this.version},f.prototype.compare=function(t){return r("SemVer.compare",this.version,this.options,t),t instanceof f||(t=new f(t,this.options)),this.compareMain(t)||this.comparePre(t)},f.prototype.compareMain=function(t){return t instanceof f||(t=new f(t,this.options)),g(this.major,t.major)||g(this.minor,t.minor)||g(this.patch,t.patch)},f.prototype.comparePre=function(t){if(t instanceof f||(t=new f(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var i=this.prerelease[e],s=t.prerelease[e];if(r("prerelease compare",e,i,s),void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return-1;if(i!==s)return g(i,s)}while(++e)},f.prototype.compareBuild=function(t){t instanceof f||(t=new f(t,this.options));var e=0;do{var i=this.build[e],s=t.build[e];if(r("prerelease compare",e,i,s),void 0===i&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===i)return-1;if(i!==s)return g(i,s)}while(++e)},f.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,r,i){"string"==typeof r&&(i=r,r=void 0);try{return new f(t,r).inc(e,i).version}catch(t){return null}},e.diff=function(t,e){if(E(t,e))return null;var r=d(t),i=d(e),s="";if(r.prerelease.length||i.prerelease.length){s="pre";var n="prerelease"}for(var o in r)if(("major"===o||"minor"===o||"patch"===o)&&r[o]!==i[o])return s+o;return n},e.compareIdentifiers=g;var y=/^[0-9]+$/;function g(t,e){var r=y.test(t),i=y.test(e);return r&&i&&(t=+t,e=+e),t===e?0:r&&!i?-1:i&&!r?1:t<e?-1:1}function m(t,e,r){return new f(t,r).compare(new f(e,r))}function v(t,e,r){return m(t,e,r)>0}function w(t,e,r){return m(t,e,r)<0}function E(t,e,r){return 0===m(t,e,r)}function b(t,e,r){return 0!==m(t,e,r)}function S(t,e,r){return m(t,e,r)>=0}function O(t,e,r){return m(t,e,r)<=0}function _(t,e,r,i){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return E(t,r,i);case"!=":return b(t,r,i);case">":return v(t,r,i);case">=":return S(t,r,i);case"<":return w(t,r,i);case"<=":return O(t,r,i);default:throw new TypeError("Invalid operator: "+e)}}function R(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof R){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof R))return new R(t,e);t=t.trim().split(/\s+/).join(" "),r("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===P?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(t,e){return g(e,t)},e.major=function(t,e){return new f(t,e).major},e.minor=function(t,e){return new f(t,e).minor},e.patch=function(t,e){return new f(t,e).patch},e.compare=m,e.compareLoose=function(t,e){return m(t,e,!0)},e.compareBuild=function(t,e,r){var i=new f(t,r),s=new f(e,r);return i.compare(s)||i.compareBuild(s)},e.rcompare=function(t,e,r){return m(e,t,r)},e.sort=function(t,r){return t.sort((function(t,i){return e.compareBuild(t,i,r)}))},e.rsort=function(t,r){return t.sort((function(t,i){return e.compareBuild(i,t,r)}))},e.gt=v,e.lt=w,e.eq=E,e.neq=b,e.gte=S,e.lte=O,e.cmp=_,e.Comparator=R;var P={};function A(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof A)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new A(t.raw,e);if(t instanceof R)return new A(t.value,e);if(!(this instanceof A))return new A(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);this.format()}function x(t,e){for(var r=!0,i=t.slice(),s=i.pop();r&&i.length;)r=i.every((function(t){return s.intersects(t,e)})),s=i.pop();return r}function T(t){return!t||"x"===t.toLowerCase()||"*"===t}function I(t,e,r,i,s,n,o,a,l,c,h,u,p){return((e=T(r)?"":T(i)?">="+r+".0.0":T(s)?">="+r+"."+i+".0":">="+e)+" "+(a=T(l)?"":T(c)?"<"+(+l+1)+".0.0":T(h)?"<"+l+"."+(+c+1)+".0":u?"<="+l+"."+c+"."+h+"-"+u:"<="+a)).trim()}function C(t,e,i){for(var s=0;s<t.length;s++)if(!t[s].test(e))return!1;if(e.prerelease.length&&!i.includePrerelease){for(s=0;s<t.length;s++)if(r(t[s].semver),t[s].semver!==P&&t[s].semver.prerelease.length>0){var n=t[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}function k(t,e,r){try{e=new A(e,r)}catch(t){return!1}return e.test(t)}function L(t,e,r,i){var s,n,o,a,l;switch(t=new f(t,i),e=new A(e,i),r){case">":s=v,n=O,o=w,a=">",l=">=";break;case"<":s=w,n=S,o=v,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(k(t,e,i))return!1;for(var c=0;c<e.set.length;++c){var h=e.set[c],u=null,p=null;if(h.forEach((function(t){t.semver===P&&(t=new R(">=0.0.0")),u=u||t,p=p||t,s(t.semver,u.semver,i)?u=t:o(t.semver,p.semver,i)&&(p=t)})),u.operator===a||u.operator===l)return!1;if((!p.operator||p.operator===a)&&n(t,p.semver))return!1;if(p.operator===l&&o(t,p.semver))return!1}return!0}R.prototype.parse=function(t){var e=this.options.loose?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],r=t.match(e);if(!r)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new f(r[2],this.options.loose):this.semver=P},R.prototype.toString=function(){return this.value},R.prototype.test=function(t){if(r("Comparator.test",t,this.options.loose),this.semver===P||t===P)return!0;if("string"==typeof t)try{t=new f(t,this.options)}catch(t){return!1}return _(t,this.operator,this.semver,this.options)},R.prototype.intersects=function(t,e){if(!(t instanceof R))throw new TypeError("a Comparator is required");var r;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||(r=new A(t.value,e),k(this.value,r,e));if(""===t.operator)return""===t.value||(r=new A(this.value,e),k(t.semver,r,e));var i=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),s=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),n=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=_(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),l=_(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return i||s||n&&o||a||l},e.Range=A,A.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},A.prototype.toString=function(){return this.range},A.prototype.parseRange=function(t){var e=this.options.loose,i=e?n[a.HYPHENRANGELOOSE]:n[a.HYPHENRANGE];t=t.replace(i,I),r("hyphen replace",t),t=t.replace(n[a.COMPARATORTRIM],"$1$2$3"),r("comparator trim",t,n[a.COMPARATORTRIM]),t=(t=(t=t.replace(n[a.TILDETRIM],"$1~")).replace(n[a.CARETTRIM],"$1^")).split(/\s+/).join(" ");var s=e?n[a.COMPARATORLOOSE]:n[a.COMPARATOR],o=t.split(" ").map((function(t){return function(t,e){return r("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){r("caret",t,e);var i=e.loose?n[a.CARETLOOSE]:n[a.CARET];return t.replace(i,(function(e,i,s,n,o){var a;return r("caret",t,e,i,s,n,o),T(i)?a="":T(s)?a=">="+i+".0.0 <"+(+i+1)+".0.0":T(n)?a="0"===i?">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":">="+i+"."+s+".0 <"+(+i+1)+".0.0":o?(r("replaceCaret pr",o),a="0"===i?"0"===s?">="+i+"."+s+"."+n+"-"+o+" <"+i+"."+s+"."+(+n+1):">="+i+"."+s+"."+n+"-"+o+" <"+i+"."+(+s+1)+".0":">="+i+"."+s+"."+n+"-"+o+" <"+(+i+1)+".0.0"):(r("no pr"),a="0"===i?"0"===s?">="+i+"."+s+"."+n+" <"+i+"."+s+"."+(+n+1):">="+i+"."+s+"."+n+" <"+i+"."+(+s+1)+".0":">="+i+"."+s+"."+n+" <"+(+i+1)+".0.0"),r("caret return",a),a}))}(t,e)})).join(" ")}(t,e),r("caret",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){var i=e.loose?n[a.TILDELOOSE]:n[a.TILDE];return t.replace(i,(function(e,i,s,n,o){var a;return r("tilde",t,e,i,s,n,o),T(i)?a="":T(s)?a=">="+i+".0.0 <"+(+i+1)+".0.0":T(n)?a=">="+i+"."+s+".0 <"+i+"."+(+s+1)+".0":o?(r("replaceTilde pr",o),a=">="+i+"."+s+"."+n+"-"+o+" <"+i+"."+(+s+1)+".0"):a=">="+i+"."+s+"."+n+" <"+i+"."+(+s+1)+".0",r("tilde return",a),a}))}(t,e)})).join(" ")}(t,e),r("tildes",t),t=function(t,e){return r("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return function(t,e){t=t.trim();var i=e.loose?n[a.XRANGELOOSE]:n[a.XRANGE];return t.replace(i,(function(i,s,n,o,a,l){r("xRange",t,i,s,n,o,a,l);var c=T(n),h=c||T(o),u=h||T(a),p=u;return"="===s&&p&&(s=""),l=e.includePrerelease?"-0":"",c?i=">"===s||"<"===s?"<0.0.0-0":"*":s&&p?(h&&(o=0),a=0,">"===s?(s=">=",h?(n=+n+1,o=0,a=0):(o=+o+1,a=0)):"<="===s&&(s="<",h?n=+n+1:o=+o+1),i=s+n+"."+o+"."+a+l):h?i=">="+n+".0.0"+l+" <"+(+n+1)+".0.0"+l:u&&(i=">="+n+"."+o+".0"+l+" <"+n+"."+(+o+1)+".0"+l),r("xRange return",i),i}))}(t,e)})).join(" ")}(t,e),r("xrange",t),t=function(t,e){return r("replaceStars",t,e),t.trim().replace(n[a.STAR],"")}(t,e),r("stars",t),t}(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(t){return!!t.match(s)}))),o.map((function(t){return new R(t,this.options)}),this)},A.prototype.intersects=function(t,e){if(!(t instanceof A))throw new TypeError("a Range is required");return this.set.some((function(r){return x(r,e)&&t.set.some((function(t){return x(t,e)&&r.every((function(r){return t.every((function(t){return r.intersects(t,e)}))}))}))}))},e.toComparators=function(t,e){return new A(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},A.prototype.test=function(t){if(!t)return!1;if("string"==typeof t)try{t=new f(t,this.options)}catch(t){return!1}for(var e=0;e<this.set.length;e++)if(C(this.set[e],t,this.options))return!0;return!1},e.satisfies=k,e.maxSatisfying=function(t,e,r){var i=null,s=null;try{var n=new A(e,r)}catch(t){return null}return t.forEach((function(t){n.test(t)&&(i&&-1!==s.compare(t)||(s=new f(i=t,r)))})),i},e.minSatisfying=function(t,e,r){var i=null,s=null;try{var n=new A(e,r)}catch(t){return null}return t.forEach((function(t){n.test(t)&&(i&&1!==s.compare(t)||(s=new f(i=t,r)))})),i},e.minVersion=function(t,e){t=new A(t,e);var r=new f("0.0.0");if(t.test(r))return r;if(r=new f("0.0.0-0"),t.test(r))return r;r=null;for(var i=0;i<t.set.length;++i)t.set[i].forEach((function(t){var e=new f(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":r&&!v(r,e)||(r=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}));return r&&t.test(r)?r:null},e.validRange=function(t,e){try{return new A(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,r){return L(t,e,"<",r)},e.gtr=function(t,e,r){return L(t,e,">",r)},e.outside=L,e.prerelease=function(t,e){var r=d(t,e);return r&&r.prerelease.length?r.prerelease:null},e.intersects=function(t,e,r){return t=new A(t,r),e=new A(e,r),t.intersects(e)},e.coerce=function(t,e){if(t instanceof f)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;var r=null;if((e=e||{}).rtl){for(var i;(i=n[a.COERCERTL].exec(t))&&(!r||r.index+r[0].length!==t.length);)r&&i.index+i[0].length===r.index+r[0].length||(r=i),n[a.COERCERTL].lastIndex=i.index+i[1].length+i[2].length;n[a.COERCERTL].lastIndex=-1}else r=t.match(n[a.COERCE]);return null===r?null:d(r[2]+"."+(r[3]||"0")+"."+(r[4]||"0"),e)}},6544:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildConnectionString=void 0,e.buildConnectionString=function(t){return Object.entries(t).map((([t,e])=>function(t,e){if(null==e)return[t,""];if("boolean"==typeof e)return[t,e?"Yes":"No"];{const s=e.toString();return!function(t){if("{"!==t[0])return!1;for(let e=1;e<t.length;e++)if("}"===t[e]){if(e+1===t.length)return!0;if("}"!==t[e+1])return!1;e++}return!1}(r=s)&&(null===(i=r.match(/\[|]|{|}|\|\(|\)|,|;|\?|\*|=|!|@/))||void 0===i?void 0:i.length)?[t,`{${s.replace(/}/g,"}}")}}`]:[t,s]}var r,i}(t.trim(),e).join("="))).join(";")}},6762:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||i(e,t,r)},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.parseSqlConnectionString=e.parseConnectionString=void 0;const o=n(r(1674));e.parseConnectionString=o.default;const a=n(r(8861));e.parseSqlConnectionString=a.default,s(r(6544),e)},1674:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.key=0]="key",t[t.value=1]="value"}(r||(r={}));const i=Object.freeze({key:{terminator:"=",quotes:{}},value:{terminator:";",quotes:{'"':'"',"'":"'","{":"}"}}});e.default=function(t,e=i){const s={};let n=r.key,o=!1,a=!1,l=!1,c="",h="",u="",p=0;function d(){return n===r.key?e.key:e.value}function f(t){return d().terminator===t}function y(t){return Object.keys(d().quotes).some((e=>t===e))}function g(t){h+=t}function m(){switch(l||(h=h.trim()),n){case r.key:u=h.toLowerCase(),n=r.value;break;case r.value:n=r.key,s[u]=h,u=""}o=!1,a=!1,l=!1,c="",h=""}for(;p<t.length;){const e=t.charAt(p);if(a){if(f(e))m();else if(e.trim())throw new Error("Malformed connection string")}else o?l&&(l&&e===d().quotes[c])?e===t.charAt(p+1)?(g(e),p++):a=!0:!l&&f(e)?e===t.charAt(p+1)?(g(e),p++):m():g(e):e.trim()&&(o=!0,y(e)?(l=!0,c=e):g(e));p++}if(l&&!a)throw new Error("Connection string terminated unexpectedly");return m(),s}},8861:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SCHEMA=e.SchemaTypes=void 0;const s=i(r(1674));var n;function o(t){if(""===t.trim())return n.STRING;const e=parseInt(t,10);return Number.isNaN(e)||e.toString()!==t?["true","false","yes","no"].includes(t.toLowerCase())?n.BOOL:n.STRING:n.NUMBER}function a(t,e,r){if(r){const e=r(t);if(null!==e)return e}switch(e){case n.BOOL:return!!["true","yes","1"].includes(t.toLowerCase())||!["false","no","0"].includes(t.toLowerCase())&&t;case n.NUMBER:return parseInt(t,10)}return t}!function(t){t[t.BOOL=0]="BOOL",t[t.STRING=1]="STRING",t[t.NUMBER=2]="NUMBER"}(n=e.SchemaTypes||(e.SchemaTypes={})),e.SCHEMA={"Application Name":{type:n.STRING,aliases:["App"],validator:t=>"string"==typeof t&&t.length<=128},ApplicationIntent:{type:n.STRING,allowedValues:["ReadOnly","ReadWrite"],default:"ReadWrite"},"Asynchronous Processing":{type:n.BOOL,default:!1,aliases:["Async"]},AttachDBFilename:{type:n.STRING,aliases:["Extended Properties","Initial File Name"]},Authentication:{type:n.STRING,allowedValues:["Active Directory Integrated","Active Directory Password","Sql Password"]},"Column Encryption Setting":{type:n.STRING},"Connection Timeout":{type:n.NUMBER,aliases:["Connect Timeout","Timeout"],default:15},"Connection Lifetime":{type:n.NUMBER,aliases:["Load Balance Timeout"],default:0},ConnectRetryCount:{type:n.NUMBER,default:1,validator:t=>t>0&&t<=255},ConnectRetryInterval:{type:n.NUMBER,default:10},"Context Connection":{type:n.BOOL,default:!1},"Current Language":{aliases:["Language"],type:n.STRING,validator:t=>"string"==typeof t&&t.length<=128},"Data Source":{aliases:["Addr","Address","Server","Network Address"],type:n.STRING},Encrypt:{type:n.BOOL,default:!1},Enlist:{type:n.BOOL,default:!0},"Failover Partner":{type:n.STRING},"Initial Catalog":{type:n.STRING,aliases:["Database"],validator:t=>"string"==typeof t&&t.length<=128},"Integrated Security":{type:n.BOOL,aliases:["Trusted_Connection"],coerce:t=>"sspi"===t||null},"Max Pool Size":{type:n.NUMBER,default:100,validator:t=>t>=1},"Min Pool Size":{type:n.NUMBER,default:0,validator:t=>t>=0},MultipleActiveResultSets:{type:n.BOOL,default:!1},MultiSubnetFailover:{type:n.BOOL,default:!1},"Network Library":{type:n.STRING,aliases:["Network","Net"],allowedValues:["dbnmpntw","dbmsrpcn","dbmsadsn","dbmsgnet","dbmslpcn","dbmsspxn","dbmssocn","Dbmsvinn"]},"Packet Size":{type:n.NUMBER,default:8e3,validator:t=>t>=512&&t<=32768},Password:{type:n.STRING,aliases:["PWD"],validator:t=>"string"==typeof t&&t.length<=128},"Persist Security Info":{type:n.BOOL,aliases:["PersistSecurityInfo"],default:!1},PoolBlockingPeriod:{type:n.NUMBER,default:0,coerce(t){if("string"!=typeof t)return null;switch(t.toLowerCase()){case"alwaysblock":return 1;case"auto":return 0;case"neverblock":return 2}return null}},Pooling:{type:n.BOOL,default:!0},Replication:{type:n.BOOL,default:!1},"Transaction Binding":{type:n.STRING,allowedValues:["Implicit Unbind","Explicit Unbind"],default:"Implicit Unbind"},TransparentNetworkIPResolution:{type:n.BOOL,default:!0},TrustServerCertificate:{type:n.BOOL,default:!1},"Type System Version":{type:n.STRING,allowedValues:["SQL Server 2012","SQL Server 2008","SQL Server 2005","Latest"]},"User ID":{type:n.STRING,aliases:["UID"],validator:t=>"string"==typeof t&&t.length<=128},"User Instance":{type:n.BOOL,default:!1},"Workstation ID":{type:n.STRING,aliases:["WSID"],validator:t=>"string"==typeof t&&t.length<=128}},e.default=function(t,r=!1,i=!1,n=!1,l=e.SCHEMA){const c=Object.entries(l).reduce(((t,[e,r])=>{var i;return Object.assign(t,{[e.toLowerCase()]:r}),(null===(i=r.aliases)||void 0===i?void 0:i.reduce(((t,i)=>Object.assign(t,{[i.toLowerCase()]:{...r,canonical:e.toLowerCase()}})),t))||t}),{});return Object.entries((0,s.default)(t)).reduce(((t,[e,i])=>{if(!Object.prototype.hasOwnProperty.call(c,e))return Object.assign(t,{[e]:a(i,o(i))});let s=a(i,c[e].type,c[e].coerce);n&&!function(t,e,r){let i=!0;return r&&(i=r(t)),i&&(i=(null==e?void 0:e.includes(t))||!1),i}(s,c[e].allowedValues,c[e].validator)&&(s=c[e].default);const l=r&&c[e].canonical||e;return Object.assign(t,{[l]:s})}),{})}},4458:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(2225),n=r(27),o=r(484);class a{constructor(){this._token="",this._subscriptionId="",this._cloudSuffixes={},this._cloudEndpoints={}}static getAuthorizer(){return i(this,void 0,void 0,(function*(){return this._authorizer||(this._authorizer=new a,yield this._authorizer._initialize()),this._authorizer}))}get subscriptionID(){return this._subscriptionId}get baseUrl(){return this._cloudEndpoints.resourceManager||"https://management.azure.com/"}getCloudSuffixUrl(t){return this._cloudSuffixes[t]}getCloudEndpointUrl(t){return this._cloudEndpoints[t]}getToken(t,e){return i(this,void 0,void 0,(function*(){if(!this._token||t)try{let t=JSON.parse(yield a.executeAzCliCommand("account get-access-token",e||[]));s.setSecret(t),this._token=t.accessToken}catch(t){throw console.log("Failed to fetch Azure access token"),t}return this._token}))}static executeAzCliCommand(t,e){return i(this,void 0,void 0,(function*(){let r=yield a._getAzCliPath(),i="",o="";try{s.debug(`"${r}" ${t}`),yield n.exec(`"${r}" ${t}`,e,{silent:!0,listeners:{stdout:t=>{i+=t.toString()},stderr:t=>{o+=t.toString()}}})}catch(t){throw new Error(o)}return i}))}static _getAzCliPath(){return i(this,void 0,void 0,(function*(){return this._azCliPath||(this._azCliPath=yield o.which("az",!0)),this._azCliPath}))}_initialize(){return i(this,void 0,void 0,(function*(){let t=JSON.parse(yield a.executeAzCliCommand("account show")),e=JSON.parse(yield a.executeAzCliCommand("cloud show"));this._subscriptionId=t.id,this._cloudSuffixes=e.suffixes,this._cloudEndpoints=e.endpoints}))}}e.AzureCLIAuthorizer=a},2609:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(2225),n=r(4458);e.AuthorizerFactory=class{static getAuthorizer(){return i(this,void 0,void 0,(function*(){s.debug("try-get AzureCLIAuthorizer");try{return yield n.AzureCLIAuthorizer.getAuthorizer()}catch(t){throw s.debug(t),new Error("No credentails found. Add an Azure login script before this action.")}}))}}},804:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(2225),n=r(5937);class o{constructor(t,e,r,i){this.error=t,this.result=e,this.request=r,this.response=i}}e.ApiResult=o;class a{}function l(t){let e=new a;return e.statusCode=t.statusCode,e.message=t.body,t.body&&t.body.error&&(e.code=t.body.error.code,e.message=t.body.error.message,e.details=t.body.error.details,s.error(e.message)),e}e.AzureError=a,e.ToError=l,e.ServiceClient=class{constructor(t,e){this._webClient=new n.WebClient,this._authorizer=t,this.subscriptionId=this._authorizer.subscriptionID,this.baseUrl=this._authorizer.baseUrl,this.longRunningOperationRetryTimeout=e||0}getRequestUri(t,e,r,i){return this.getRequestUriForbaseUrl(this.baseUrl,t,e,r,i)}getRequestUriForbaseUrl(t,e,r,i,s){let n=t+e;n=n.replace("{subscriptionId}",encodeURIComponent(this.subscriptionId));for(let t in r)n=n.replace(t,encodeURIComponent(r[t]));return n=n.replace(/([^:]\/)\/+/gi,"$1"),i=i||[],s&&i.push("api-version="+encodeURIComponent(s)),i.length>0&&(n+="?"+i.join("&")),n}beginRequest(t,e){return i(this,void 0,void 0,(function*(){let r=yield this._authorizer.getToken(!1,e);t.headers=t.headers||{},t.headers.Authorization=`Bearer ${r}`,t.headers["Content-Type"]="application/json; charset=utf-8";let i=null;try{i=yield this._webClient.sendRequest(t),401===i.statusCode&&i.body&&i.body.error&&"ExpiredAuthenticationToken"===i.body.error.code&&(r=yield this._authorizer.getToken(!0,e),t.headers.Authorization=`Bearer ${r}`,i=yield this._webClient.sendRequest(t))}catch(t){let e=t.toString();if(-1!=e.indexOf("Hostname/IP doesn't match certificates's altnames")||-1!=e.indexOf("unable to verify the first certificate")||-1!=e.indexOf("unable to get local issuer certificate"))throw s.warning("You're probably using a self-signed certificate in the SSL certificate validation chain. To resolve them you need to export a variable named ACTIONS_AZURE_REST_IGNORE_SSL_ERRORS to the value true."),t}return i}))}accumulateResultFromPagedResult(t){return i(this,void 0,void 0,(function*(){let e=[];for(;t;){let r={method:"GET",uri:t},i=yield this.beginRequest(r);if(200!=i.statusCode||!i.body)return new o(l(i));i.body.value&&(e=e.concat(i.body.value)),t=i.body.nextLink}return new o(null,e)}))}}},9490:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=r(7723);class s{constructor(){s._options={};let t=`${process.env.ACTIONS_AZURE_REST_IGNORE_SSL_ERRORS}`;s._options.ignoreSslError=!!t&&"true"===t.toLowerCase(),s._instance=new i.HttpClient(`${process.env.AZURE_HTTP_USER_AGENT}`,void 0,s._options)}static GetInstance(){return void 0===s._instance&&new s,s._instance}static SetOptions(t){s._options=t}}e.RequestClient=s},5937:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(2225),n=r(7147),o=r(9490),a=["ETIMEDOUT","ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ECONNREFUSED","EHOSTUNREACH","EPIPE","EA_AGAIN"],l=[408,409,500,502,503,504];e.WebClient=class{constructor(){this._httpClient=o.RequestClient.GetInstance()}sendRequest(t,e){return i(this,void 0,void 0,(function*(){let r=0,i=e&&e.retryCount?e.retryCount:5,o=e&&e.retryIntervalInSeconds?e.retryIntervalInSeconds:2,c=e&&e.retriableErrorCodes?e.retriableErrorCodes:a,h=e&&e.retriableStatusCodes?e.retriableStatusCodes:l,u=o;for(;;)try{t.body&&"string"!=typeof t.body&&!t.body.readable&&(t.body=n.createReadStream(t.body.path));let e=yield this._sendRequestInternal(t);if(-1!=h.indexOf(e.statusCode)&&++r<i){s.debug(`Encountered a retriable status code: ${e.statusCode}. Message: '${e.statusMessage}'.`),yield this._sleep(u),u=u*o+o;continue}return e}catch(t){if(!(-1!=c.indexOf(t.code)&&++r<i))throw t.code&&s.error(t.code),t;s.debug(`Encountered a retriable error:${t.code}. Message: ${t.message}.`),yield this._sleep(u),u=u*o+o}}))}_sendRequestInternal(t){return i(this,void 0,void 0,(function*(){s.debug(`[${t.method}] ${t.uri}`);let e=yield this._httpClient.request(t.method,t.uri,t.body||"",t.headers);if(!e)throw new Error(`Unexpected end of request. Http request: [${t.method}] ${t.uri} returned a null Http response.`);return yield this._toWebResponse(e)}))}_toWebResponse(t){return i(this,void 0,void 0,(function*(){let e,r=yield t.readBody();if(r)try{e=JSON.parse(r)}catch(t){s.error(`Could not parse response body: ${r}.`),s.error(JSON.stringify(t))}return{statusCode:t.message.statusCode,statusMessage:t.message.statusMessage,headers:t.message.headers,body:e||r}}))}_sleep(t){return new Promise((e=>{setTimeout(e,1e3*t)}))}}},5623:t=>{"use strict";function e(t,e,s){t instanceof RegExp&&(t=r(t,s)),e instanceof RegExp&&(e=r(e,s));var n=i(t,e,s);return n&&{start:n[0],end:n[1],pre:s.slice(0,n[0]),body:s.slice(n[0]+t.length,n[1]),post:s.slice(n[1]+e.length)}}function r(t,e){var r=e.match(t);return r?r[0]:null}function i(t,e,r){var i,s,n,o,a,l=r.indexOf(t),c=r.indexOf(e,l+1),h=l;if(l>=0&&c>0){if(t===e)return[l,c];for(i=[],n=r.length;h>=0&&!a;)h==l?(i.push(h),l=r.indexOf(t,h+1)):1==i.length?a=[i.pop(),c]:((s=i.pop())<n&&(n=s,o=c),c=r.indexOf(e,h+1)),h=l<c&&l>=0?l:c;i.length&&(a=[n,o])}return a}t.exports=e,e.range=i},1924:(t,e,r)=>{"use strict";var i=r(210),s=r(5559),n=s(i("String.prototype.indexOf"));t.exports=function(t,e){var r=i(t,!!e);return"function"==typeof r&&n(t,".prototype.")>-1?s(r):r}},5559:(t,e,r)=>{"use strict";var i=r(8612),s=r(210),n=r(7771),o=r(4453),a=s("%Function.prototype.apply%"),l=s("%Function.prototype.call%"),c=s("%Reflect.apply%",!0)||i.call(l,a),h=r(4429),u=s("%Math.max%");t.exports=function(t){if("function"!=typeof t)throw new o("a function is required");var e=c(i,l,arguments);return n(e,1+u(0,t.length-(arguments.length-1)),!0)};var p=function(){return c(i,a,arguments)};h?h(t.exports,"apply",{value:p}):t.exports.apply=p},2296:(t,e,r)=>{"use strict";var i=r(4429),s=r(3464),n=r(4453),o=r(7296);t.exports=function(t,e,r){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new n("`obj` must be an object or a function`");if("string"!=typeof e&&"symbol"!=typeof e)throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new n("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,h=arguments.length>6&&arguments[6],u=!!o&&o(t,e);if(i)i(t,e,{configurable:null===c&&u?u.configurable:!c,enumerable:null===a&&u?u.enumerable:!a,value:r,writable:null===l&&u?u.writable:!l});else{if(!h&&(a||l||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");t[e]=r}}},4429:(t,e,r)=>{"use strict";var i=r(210)("%Object.defineProperty%",!0)||!1;if(i)try{i({},"a",{value:1})}catch(t){i=!1}t.exports=i},3981:t=>{"use strict";t.exports=EvalError},1648:t=>{"use strict";t.exports=Error},4726:t=>{"use strict";t.exports=RangeError},6712:t=>{"use strict";t.exports=ReferenceError},3464:t=>{"use strict";t.exports=SyntaxError},4453:t=>{"use strict";t.exports=TypeError},3915:t=>{"use strict";t.exports=URIError},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",r=Object.prototype.toString,i=Math.max,s="[object Function]",n=function(t,e){for(var r=[],i=0;i<t.length;i+=1)r[i]=t[i];for(var s=0;s<e.length;s+=1)r[s+t.length]=e[s];return r},o=function(t,e){for(var r=[],i=e||0,s=0;i<t.length;i+=1,s+=1)r[s]=t[i];return r},a=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r};t.exports=function(t){var l=this;if("function"!=typeof l||r.apply(l)!==s)throw new TypeError(e+l);for(var c,h=o(arguments,1),u=function(){if(this instanceof c){var e=l.apply(this,n(h,arguments));return Object(e)===e?e:this}return l.apply(t,n(h,arguments))},p=i(0,l.length-h.length),d=[],f=0;f<p;f++)d[f]="$"+f;if(c=Function("binder","return function ("+a(d,",")+"){ return binder.apply(this,arguments); }")(u),l.prototype){var y=function(){};y.prototype=l.prototype,c.prototype=new y,y.prototype=null}return c}},8612:(t,e,r)=>{"use strict";var i=r(7648);t.exports=Function.prototype.bind||i},210:(t,e,r)=>{"use strict";var i,s=r(1648),n=r(3981),o=r(4726),a=r(6712),l=r(3464),c=r(4453),h=r(3915),u=Function,p=function(t){try{return u('"use strict"; return ('+t+").constructor;")()}catch(t){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(t){d=null}var f=function(){throw new c},y=d?function(){try{return f}catch(t){try{return d(arguments,"callee").get}catch(t){return f}}}():f,g=r(1405)(),m=r(8185)(),v=Object.getPrototypeOf||(m?function(t){return t.__proto__}:null),w={},E="undefined"!=typeof Uint8Array&&v?v(Uint8Array):i,b={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":g&&v?v([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?i:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":s,"%eval%":eval,"%EvalError%":n,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":w,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":g&&v?v(v([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&g&&v?v((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&g&&v?v((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":g&&v?v(""[Symbol.iterator]()):i,"%Symbol%":g?Symbol:i,"%SyntaxError%":l,"%ThrowTypeError%":y,"%TypedArray%":E,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet};if(v)try{null.error}catch(t){var S=v(v(t));b["%Error.prototype%"]=S}var O=function t(e){var r;if("%AsyncFunction%"===e)r=p("async function () {}");else if("%GeneratorFunction%"===e)r=p("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=p("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var s=t("%AsyncGenerator%");s&&v&&(r=v(s.prototype))}return b[e]=r,r},_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=r(8612),P=r(8824),A=R.call(Function.call,Array.prototype.concat),x=R.call(Function.apply,Array.prototype.splice),T=R.call(Function.call,String.prototype.replace),I=R.call(Function.call,String.prototype.slice),C=R.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,L=/\\(\\)?/g,N=function(t){var e=I(t,0,1),r=I(t,-1);if("%"===e&&"%"!==r)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var i=[];return T(t,k,(function(t,e,r,s){i[i.length]=r?T(s,L,"$1"):e||t})),i},M=function(t,e){var r,i=t;if(P(_,i)&&(i="%"+(r=_[i])[0]+"%"),P(b,i)){var s=b[i];if(s===w&&(s=O(i)),void 0===s&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:s}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===C(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=N(t),i=r.length>0?r[0]:"",s=M("%"+i+"%",e),n=s.name,o=s.value,a=!1,h=s.alias;h&&(i=h[0],x(r,A([0,1],h)));for(var u=1,p=!0;u<r.length;u+=1){var f=r[u],y=I(f,0,1),g=I(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(a=!0),P(b,n="%"+(i+="."+f)+"%"))o=b[n];else if(null!=o){if(!(f in o)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(d&&u+1>=r.length){var m=d(o,f);o=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:o[f]}else p=P(o,f),o=o[f];p&&!a&&(b[n]=o)}}return o}},5146:(t,e,r)=>{var i=r(5623);t.exports=function(t){return t?("{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2)),g(function(t){return t.split("\\\\").join(s).split("\\{").join(n).split("\\}").join(o).split("\\,").join(a).split("\\.").join(l)}(t),!0).map(h)):[]};var s="\0SLASH"+Math.random()+"\0",n="\0OPEN"+Math.random()+"\0",o="\0CLOSE"+Math.random()+"\0",a="\0COMMA"+Math.random()+"\0",l="\0PERIOD"+Math.random()+"\0";function c(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(s).join("\\").split(n).join("{").split(o).join("}").split(a).join(",").split(l).join(".")}function u(t){if(!t)return[""];var e=[],r=i("{","}",t);if(!r)return t.split(",");var s=r.pre,n=r.body,o=r.post,a=s.split(",");a[a.length-1]+="{"+n+"}";var l=u(o);return o.length&&(a[a.length-1]+=l.shift(),a.push.apply(a,l)),e.push.apply(e,a),e}function p(t){return"{"+t+"}"}function d(t){return/^-?0\d/.test(t)}function f(t,e){return t<=e}function y(t,e){return t>=e}function g(t,e){var r=[],s=i("{","}",t);if(!s)return[t];var n=s.pre,a=s.post.length?g(s.post,!1):[""];if(/\$$/.test(s.pre))for(var l=0;l<a.length;l++){var h=n+"{"+s.body+"}"+a[l];r.push(h)}else{var m,v,w=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),E=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),b=w||E,S=s.body.indexOf(",")>=0;if(!b&&!S)return s.post.match(/,.*\}/)?g(t=s.pre+"{"+s.body+o+s.post):[t];if(b)m=s.body.split(/\.\./);else if(1===(m=u(s.body)).length&&1===(m=g(m[0],!1).map(p)).length)return a.map((function(t){return s.pre+m[0]+t}));if(b){var O=c(m[0]),_=c(m[1]),R=Math.max(m[0].length,m[1].length),P=3==m.length?Math.abs(c(m[2])):1,A=f;_<O&&(P*=-1,A=y);var x=m.some(d);v=[];for(var T=O;A(T,_);T+=P){var I;if(E)"\\"===(I=String.fromCharCode(T))&&(I="");else if(I=String(T),x){var C=R-I.length;if(C>0){var k=new Array(C+1).join("0");I=T<0?"-"+k+I.slice(1):k+I}}v.push(I)}}else{v=[];for(var L=0;L<m.length;L++)v.push.apply(v,g(m[L],!1))}for(L=0;L<v.length;L++)for(l=0;l<a.length;l++)h=n+v[L]+a[l],(!e||b||h)&&r.push(h)}return r}},7296:(t,e,r)=>{"use strict";var i=r(210)("%Object.getOwnPropertyDescriptor%",!0);if(i)try{i([],"length")}catch(t){i=null}t.exports=i},1044:(t,e,r)=>{"use strict";var i=r(4429),s=function(){return!!i};s.hasArrayLengthDefineBug=function(){if(!i)return null;try{return 1!==i([],"length",{value:1}).length}catch(t){return!0}},t.exports=s},8185:t=>{"use strict";var e={__proto__:null,foo:{}},r=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!(e instanceof r)}},1405:(t,e,r)=>{"use strict";var i="undefined"!=typeof Symbol&&Symbol,s=r(5419);t.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&s()}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var s=Object.getOwnPropertyDescriptor(t,e);if(42!==s.value||!0!==s.enumerable)return!1}return!0}},8824:(t,e,r)=>{"use strict";var i=Function.prototype.call,s=Object.prototype.hasOwnProperty,n=r(8612);t.exports=n.call(i,s)},631:(t,e,r)=>{var i="function"==typeof Map&&Map.prototype,s=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=i&&s&&"function"==typeof s.get?s.get:null,o=i&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,h=a&&Set.prototype.forEach,u="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,m=String.prototype.match,v=String.prototype.slice,w=String.prototype.replace,E=String.prototype.toUpperCase,b=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,_=Array.prototype.join,R=Array.prototype.slice,P=Math.floor,A="function"==typeof BigInt?BigInt.prototype.valueOf:null,x=Object.getOwnPropertySymbols,T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,L=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function N(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||S.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var i=t<0?-P(-t):P(t);if(i!==t){var s=String(i),n=v.call(e,s.length+1);return w.call(s,r,"$&_")+"."+w.call(w.call(n,/([0-9]{3})/g,"$&_"),/_$/,"")}}return w.call(e,r,"$&_")}var M=r(2794),$=M.custom,j=B($)?$:null;function D(t,e,r){var i="double"===(r.quoteStyle||e)?'"':"'";return i+t+i}function F(t){return w.call(String(t),/"/g,"&quot;")}function U(t){return!("[object Array]"!==W(t)||C&&"object"==typeof t&&C in t)}function q(t){return!("[object RegExp]"!==W(t)||C&&"object"==typeof t&&C in t)}function B(t){if(I)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,i,s){var a=r||{};if(z(a,"quoteStyle")&&"single"!==a.quoteStyle&&"double"!==a.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(z(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!z(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(a,"indent")&&null!==a.indent&&"\t"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var y=a.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return V(e,a);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var E=String(e);return y?N(e,E):E}if("bigint"==typeof e){var S=String(e)+"n";return y?N(e,S):S}var P=void 0===a.depth?5:a.depth;if(void 0===i&&(i=0),i>=P&&P>0&&"object"==typeof e)return U(e)?"[Array]":"[Object]";var x,$=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=_.call(Array(t.indent+1)," ")}return{base:r,prev:_.call(Array(e+1),r)}}(a,i);if(void 0===s)s=[];else if(H(s,e)>=0)return"[Circular]";function G(e,r,n){if(r&&(s=R.call(s)).push(r),n){var o={depth:a.depth};return z(a,"quoteStyle")&&(o.quoteStyle=a.quoteStyle),t(e,o,i+1,s)}return t(e,a,i+1,s)}if("function"==typeof e&&!q(e)){var X=function(t){if(t.name)return t.name;var e=m.call(g.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),tt=Z(e,G);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(tt.length>0?" { "+_.call(tt,", ")+" }":"")}if(B(e)){var et=I?w.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):T.call(e);return"object"!=typeof e||I?et:Y(et)}if((x=e)&&"object"==typeof x&&("undefined"!=typeof HTMLElement&&x instanceof HTMLElement||"string"==typeof x.nodeName&&"function"==typeof x.getAttribute)){for(var rt="<"+b.call(String(e.nodeName)),it=e.attributes||[],st=0;st<it.length;st++)rt+=" "+it[st].name+"="+D(F(it[st].value),"double",a);return rt+=">",e.childNodes&&e.childNodes.length&&(rt+="..."),rt+"</"+b.call(String(e.nodeName))+">"}if(U(e)){if(0===e.length)return"[]";var nt=Z(e,G);return $&&!function(t){for(var e=0;e<t.length;e++)if(H(t[e],"\n")>=0)return!1;return!0}(nt)?"["+J(nt,$)+"]":"[ "+_.call(nt,", ")+" ]"}if(function(t){return!("[object Error]"!==W(t)||C&&"object"==typeof t&&C in t)}(e)){var ot=Z(e,G);return"cause"in Error.prototype||!("cause"in e)||k.call(e,"cause")?0===ot.length?"["+String(e)+"]":"{ ["+String(e)+"] "+_.call(ot,", ")+" }":"{ ["+String(e)+"] "+_.call(O.call("[cause]: "+G(e.cause),ot),", ")+" }"}if("object"==typeof e&&l){if(j&&"function"==typeof e[j]&&M)return M(e,{depth:P-i});if("symbol"!==l&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!n||!t||"object"!=typeof t)return!1;try{n.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var at=[];return o&&o.call(e,(function(t,r){at.push(G(r,e,!0)+" => "+G(t,e))})),Q("Map",n.call(e),at,$)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{n.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var lt=[];return h&&h.call(e,(function(t){lt.push(G(t,e))})),Q("Set",c.call(e),lt,$)}if(function(t){if(!u||!t||"object"!=typeof t)return!1;try{u.call(t,u);try{p.call(t,p)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return K("WeakMap");if(function(t){if(!p||!t||"object"!=typeof t)return!1;try{p.call(t,p);try{u.call(t,u)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return K("WeakSet");if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{return d.call(t),!0}catch(t){}return!1}(e))return K("WeakRef");if(function(t){return!("[object Number]"!==W(t)||C&&"object"==typeof t&&C in t)}(e))return Y(G(Number(e)));if(function(t){if(!t||"object"!=typeof t||!A)return!1;try{return A.call(t),!0}catch(t){}return!1}(e))return Y(G(A.call(e)));if(function(t){return!("[object Boolean]"!==W(t)||C&&"object"==typeof t&&C in t)}(e))return Y(f.call(e));if(function(t){return!("[object String]"!==W(t)||C&&"object"==typeof t&&C in t)}(e))return Y(G(String(e)));if("undefined"!=typeof window&&e===window)return"{ [object Window] }";if(e===global)return"{ [object globalThis] }";if(!function(t){return!("[object Date]"!==W(t)||C&&"object"==typeof t&&C in t)}(e)&&!q(e)){var ct=Z(e,G),ht=L?L(e)===Object.prototype:e instanceof Object||e.constructor===Object,ut=e instanceof Object?"":"null prototype",pt=!ht&&C&&Object(e)===e&&C in e?v.call(W(e),8,-1):ut?"Object":"",dt=(ht||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(pt||ut?"["+_.call(O.call([],pt||[],ut||[]),": ")+"] ":"");return 0===ct.length?dt+"{}":$?dt+"{"+J(ct,$)+"}":dt+"{ "+_.call(ct,", ")+" }"}return String(e)};var G=Object.prototype.hasOwnProperty||function(t){return t in this};function z(t,e){return G.call(t,e)}function W(t){return y.call(t)}function H(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function V(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return V(v.call(t,0,e.maxStringLength),e)+i}return D(w.call(w.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,X),"single",e)}function X(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+E.call(e.toString(16))}function Y(t){return"Object("+t+")"}function K(t){return t+" { ? }"}function Q(t,e,r,i){return t+" ("+e+") {"+(i?J(r,i):_.call(r,", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+_.call(t,","+r)+"\n"+e.prev}function Z(t,e){var r=U(t),i=[];if(r){i.length=t.length;for(var s=0;s<t.length;s++)i[s]=z(t,s)?e(t[s],t):""}var n,o="function"==typeof x?x(t):[];if(I){n={};for(var a=0;a<o.length;a++)n["$"+o[a]]=o[a]}for(var l in t)z(t,l)&&(r&&String(Number(l))===l&&l<t.length||I&&n["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?i.push(e(l,t)+": "+e(t[l],t)):i.push(l+": "+e(t[l],t))));if("function"==typeof x)for(var c=0;c<o.length;c++)k.call(t,o[c])&&i.push("["+e(o[c])+"]: "+e(t[o[c]],t));return i}},2794:(t,e,r)=>{t.exports=r(3837).inspect},2257:(t,e,r)=>{const i=Symbol("SemVer ANY");class s{static get ANY(){return i}constructor(t,e){if(e=n(e),t instanceof s){if(t.loose===!!e.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),c("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===i?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(t){const e=this.options.loose?o[a.COMPARATORLOOSE]:o[a.COMPARATOR],r=t.match(e);if(!r)throw new TypeError(`Invalid comparator: ${t}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new h(r[2],this.options.loose):this.semver=i}toString(){return this.value}test(t){if(c("Comparator.test",t,this.options.loose),this.semver===i||t===i)return!0;if("string"==typeof t)try{t=new h(t,this.options)}catch(t){return!1}return l(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof s))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new u(t.value,e).test(this.value):""===t.operator?""===t.value||new u(this.value,e).test(t.semver):!((e=n(e)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===t.value)||!e.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))||(!this.operator.startsWith(">")||!t.operator.startsWith(">"))&&(!this.operator.startsWith("<")||!t.operator.startsWith("<"))&&(this.semver.version!==t.semver.version||!this.operator.includes("=")||!t.operator.includes("="))&&!(l(this.semver,"<",t.semver,e)&&this.operator.startsWith(">")&&t.operator.startsWith("<"))&&!(l(this.semver,">",t.semver,e)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}}t.exports=s;const n=r(2893),{safeRe:o,t:a}=r(5765),l=r(7539),c=r(4225),h=r(6376),u=r(6902)},6902:(t,e,r)=>{class i{constructor(t,e){if(e=n(e),t instanceof i)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new i(t.raw,e);if(t instanceof o)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map((t=>this.parseRange(t.trim()))).filter((t=>t.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter((t=>!g(t[0]))),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&m(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((t=>t.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(t){const e=((this.options.includePrerelease&&f)|(this.options.loose&&y))+":"+t,r=s.get(e);if(r)return r;const i=this.options.loose,n=i?c[h.HYPHENRANGELOOSE]:c[h.HYPHENRANGE];t=t.replace(n,T(this.options.includePrerelease)),a("hyphen replace",t),t=t.replace(c[h.COMPARATORTRIM],u),a("comparator trim",t),t=t.replace(c[h.TILDETRIM],p),a("tilde trim",t),t=t.replace(c[h.CARETTRIM],d),a("caret trim",t);let l=t.split(" ").map((t=>w(t,this.options))).join(" ").split(/\s+/).map((t=>x(t,this.options)));i&&(l=l.filter((t=>(a("loose invalid filter",t,this.options),!!t.match(c[h.COMPARATORLOOSE]))))),a("range list",l);const m=new Map,v=l.map((t=>new o(t,this.options)));for(const t of v){if(g(t))return[t];m.set(t.value,t)}m.size>1&&m.has("")&&m.delete("");const E=[...m.values()];return s.set(e,E),E}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Range is required");return this.set.some((r=>v(r,e)&&t.set.some((t=>v(t,e)&&r.every((r=>t.every((t=>r.intersects(t,e)))))))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(I(this.set[e],t,this.options))return!0;return!1}}t.exports=i;const s=new(r(9659)),n=r(2893),o=r(2257),a=r(4225),l=r(6376),{safeRe:c,t:h,comparatorTrimReplace:u,tildeTrimReplace:p,caretTrimReplace:d}=r(5765),{FLAG_INCLUDE_PRERELEASE:f,FLAG_LOOSE:y}=r(3295),g=t=>"<0.0.0-0"===t.value,m=t=>""===t.value,v=(t,e)=>{let r=!0;const i=t.slice();let s=i.pop();for(;r&&i.length;)r=i.every((t=>s.intersects(t,e))),s=i.pop();return r},w=(t,e)=>(a("comp",t,e),t=O(t,e),a("caret",t),t=b(t,e),a("tildes",t),t=R(t,e),a("xrange",t),t=A(t,e),a("stars",t),t),E=t=>!t||"x"===t.toLowerCase()||"*"===t,b=(t,e)=>t.trim().split(/\s+/).map((t=>S(t,e))).join(" "),S=(t,e)=>{const r=e.loose?c[h.TILDELOOSE]:c[h.TILDE];return t.replace(r,((e,r,i,s,n)=>{let o;return a("tilde",t,e,r,i,s,n),E(r)?o="":E(i)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:E(s)?o=`>=${r}.${i}.0 <${r}.${+i+1}.0-0`:n?(a("replaceTilde pr",n),o=`>=${r}.${i}.${s}-${n} <${r}.${+i+1}.0-0`):o=`>=${r}.${i}.${s} <${r}.${+i+1}.0-0`,a("tilde return",o),o}))},O=(t,e)=>t.trim().split(/\s+/).map((t=>_(t,e))).join(" "),_=(t,e)=>{a("caret",t,e);const r=e.loose?c[h.CARETLOOSE]:c[h.CARET],i=e.includePrerelease?"-0":"";return t.replace(r,((e,r,s,n,o)=>{let l;return a("caret",t,e,r,s,n,o),E(r)?l="":E(s)?l=`>=${r}.0.0${i} <${+r+1}.0.0-0`:E(n)?l="0"===r?`>=${r}.${s}.0${i} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${i} <${+r+1}.0.0-0`:o?(a("replaceCaret pr",o),l="0"===r?"0"===s?`>=${r}.${s}.${n}-${o} <${r}.${s}.${+n+1}-0`:`>=${r}.${s}.${n}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${n}-${o} <${+r+1}.0.0-0`):(a("no pr"),l="0"===r?"0"===s?`>=${r}.${s}.${n}${i} <${r}.${s}.${+n+1}-0`:`>=${r}.${s}.${n}${i} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${n} <${+r+1}.0.0-0`),a("caret return",l),l}))},R=(t,e)=>(a("replaceXRanges",t,e),t.split(/\s+/).map((t=>P(t,e))).join(" ")),P=(t,e)=>{t=t.trim();const r=e.loose?c[h.XRANGELOOSE]:c[h.XRANGE];return t.replace(r,((r,i,s,n,o,l)=>{a("xRange",t,r,i,s,n,o,l);const c=E(s),h=c||E(n),u=h||E(o),p=u;return"="===i&&p&&(i=""),l=e.includePrerelease?"-0":"",c?r=">"===i||"<"===i?"<0.0.0-0":"*":i&&p?(h&&(n=0),o=0,">"===i?(i=">=",h?(s=+s+1,n=0,o=0):(n=+n+1,o=0)):"<="===i&&(i="<",h?s=+s+1:n=+n+1),"<"===i&&(l="-0"),r=`${i+s}.${n}.${o}${l}`):h?r=`>=${s}.0.0${l} <${+s+1}.0.0-0`:u&&(r=`>=${s}.${n}.0${l} <${s}.${+n+1}.0-0`),a("xRange return",r),r}))},A=(t,e)=>(a("replaceStars",t,e),t.trim().replace(c[h.STAR],"")),x=(t,e)=>(a("replaceGTE0",t,e),t.trim().replace(c[e.includePrerelease?h.GTE0PRE:h.GTE0],"")),T=t=>(e,r,i,s,n,o,a,l,c,h,u,p)=>`${r=E(i)?"":E(s)?`>=${i}.0.0${t?"-0":""}`:E(n)?`>=${i}.${s}.0${t?"-0":""}`:o?`>=${r}`:`>=${r}${t?"-0":""}`} ${l=E(c)?"":E(h)?`<${+c+1}.0.0-0`:E(u)?`<${c}.${+h+1}.0-0`:p?`<=${c}.${h}.${u}-${p}`:t?`<${c}.${h}.${+u+1}-0`:`<=${l}`}`.trim(),I=(t,e,r)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let r=0;r<t.length;r++)if(a(t[r].semver),t[r].semver!==o.ANY&&t[r].semver.prerelease.length>0){const i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}},6376:(t,e,r)=>{const i=r(4225),{MAX_LENGTH:s,MAX_SAFE_INTEGER:n}=r(3295),{safeRe:o,t:a}=r(5765),l=r(2893),{compareIdentifiers:c}=r(6742);class h{constructor(t,e){if(e=l(e),t instanceof h){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>s)throw new TypeError(`version is longer than ${s} characters`);i("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const r=t.trim().match(e.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<n)return e}return t})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(i("SemVer.compare",this.version,this.options,t),!(t instanceof h)){if("string"==typeof t&&t===this.version)return 0;t=new h(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof h||(t=new h(t,this.options)),c(this.major,t.major)||c(this.minor,t.minor)||c(this.patch,t.patch)}comparePre(t){if(t instanceof h||(t=new h(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const r=this.prerelease[e],s=t.prerelease[e];if(i("prerelease compare",e,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return c(r,s)}while(++e)}compareBuild(t){t instanceof h||(t=new h(t,this.options));let e=0;do{const r=this.build[e],s=t.build[e];if(i("build compare",e,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return c(r,s)}while(++e)}inc(t,e,r){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,r),this.inc("pre",e,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,r),this.inc("pre",e,r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(r)?1:0;if(!e&&!1===r)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[t];else{let i=this.prerelease.length;for(;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);if(-1===i){if(e===this.prerelease.join(".")&&!1===r)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let i=[e,t];!1===r&&(i=[e]),0===c(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=h},3507:(t,e,r)=>{const i=r(3959);t.exports=(t,e)=>{const r=i(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null}},7539:(t,e,r)=>{const i=r(8718),s=r(1194),n=r(1312),o=r(5903),a=r(1544),l=r(2056);t.exports=(t,e,r,c)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t===r;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof r&&(r=r.version),t!==r;case"":case"=":case"==":return i(t,r,c);case"!=":return s(t,r,c);case">":return n(t,r,c);case">=":return o(t,r,c);case"<":return a(t,r,c);case"<=":return l(t,r,c);default:throw new TypeError(`Invalid operator: ${e}`)}}},9038:(t,e,r)=>{const i=r(6376),s=r(3959),{safeRe:n,t:o}=r(5765);t.exports=(t,e)=>{if(t instanceof i)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let r=null;if((e=e||{}).rtl){const i=e.includePrerelease?n[o.COERCERTLFULL]:n[o.COERCERTL];let s;for(;(s=i.exec(t))&&(!r||r.index+r[0].length!==t.length);)r&&s.index+s[0].length===r.index+r[0].length||(r=s),i.lastIndex=s.index+s[1].length+s[2].length;i.lastIndex=-1}else r=t.match(e.includePrerelease?n[o.COERCEFULL]:n[o.COERCE]);if(null===r)return null;const a=r[2],l=r[3]||"0",c=r[4]||"0",h=e.includePrerelease&&r[5]?`-${r[5]}`:"",u=e.includePrerelease&&r[6]?`+${r[6]}`:"";return s(`${a}.${l}.${c}${h}${u}`,e)}},8880:(t,e,r)=>{const i=r(6376);t.exports=(t,e,r)=>{const s=new i(t,r),n=new i(e,r);return s.compare(n)||s.compareBuild(n)}},7880:(t,e,r)=>{const i=r(6269);t.exports=(t,e)=>i(t,e,!0)},6269:(t,e,r)=>{const i=r(6376);t.exports=(t,e,r)=>new i(t,r).compare(new i(e,r))},2378:(t,e,r)=>{const i=r(3959);t.exports=(t,e)=>{const r=i(t,null,!0),s=i(e,null,!0),n=r.compare(s);if(0===n)return null;const o=n>0,a=o?r:s,l=o?s:r,c=!!a.prerelease.length;if(l.prerelease.length&&!c)return l.patch||l.minor?a.patch?"patch":a.minor?"minor":"major":"major";const h=c?"pre":"";return r.major!==s.major?h+"major":r.minor!==s.minor?h+"minor":r.patch!==s.patch?h+"patch":"prerelease"}},8718:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>0===i(t,e,r)},1312:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>i(t,e,r)>0},5903:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>i(t,e,r)>=0},253:(t,e,r)=>{const i=r(6376);t.exports=(t,e,r,s,n)=>{"string"==typeof r&&(n=s,s=r,r=void 0);try{return new i(t instanceof i?t.version:t,r).inc(e,s,n).version}catch(t){return null}}},1544:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>i(t,e,r)<0},2056:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>i(t,e,r)<=0},8679:(t,e,r)=>{const i=r(6376);t.exports=(t,e)=>new i(t,e).major},7789:(t,e,r)=>{const i=r(6376);t.exports=(t,e)=>new i(t,e).minor},1194:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>0!==i(t,e,r)},3959:(t,e,r)=>{const i=r(6376);t.exports=(t,e,r=!1)=>{if(t instanceof i)return t;try{return new i(t,e)}catch(t){if(!r)return null;throw t}}},2358:(t,e,r)=>{const i=r(6376);t.exports=(t,e)=>new i(t,e).patch},7559:(t,e,r)=>{const i=r(3959);t.exports=(t,e)=>{const r=i(t,e);return r&&r.prerelease.length?r.prerelease:null}},9795:(t,e,r)=>{const i=r(6269);t.exports=(t,e,r)=>i(e,t,r)},3657:(t,e,r)=>{const i=r(8880);t.exports=(t,e)=>t.sort(((t,r)=>i(r,t,e)))},5712:(t,e,r)=>{const i=r(6902);t.exports=(t,e,r)=>{try{e=new i(e,r)}catch(t){return!1}return e.test(t)}},1100:(t,e,r)=>{const i=r(8880);t.exports=(t,e)=>t.sort(((t,r)=>i(t,r,e)))},6397:(t,e,r)=>{const i=r(3959);t.exports=(t,e)=>{const r=i(t,e);return r?r.version:null}},1249:(t,e,r)=>{const i=r(5765),s=r(3295),n=r(6376),o=r(6742),a=r(3959),l=r(6397),c=r(3507),h=r(253),u=r(2378),p=r(8679),d=r(7789),f=r(2358),y=r(7559),g=r(6269),m=r(9795),v=r(7880),w=r(8880),E=r(1100),b=r(3657),S=r(1312),O=r(1544),_=r(8718),R=r(1194),P=r(5903),A=r(2056),x=r(7539),T=r(9038),I=r(2257),C=r(6902),k=r(5712),L=r(1042),N=r(5775),M=r(1657),$=r(5316),j=r(9042),D=r(6826),F=r(7606),U=r(32),q=r(2937),B=r(7908),G=r(799);t.exports={parse:a,valid:l,clean:c,inc:h,diff:u,major:p,minor:d,patch:f,prerelease:y,compare:g,rcompare:m,compareLoose:v,compareBuild:w,sort:E,rsort:b,gt:S,lt:O,eq:_,neq:R,gte:P,lte:A,cmp:x,coerce:T,Comparator:I,Range:C,satisfies:k,toComparators:L,maxSatisfying:N,minSatisfying:M,minVersion:$,validRange:j,outside:D,gtr:F,ltr:U,intersects:q,simplifyRange:B,subset:G,SemVer:n,re:i.re,src:i.src,tokens:i.t,SEMVER_SPEC_VERSION:s.SEMVER_SPEC_VERSION,RELEASE_TYPES:s.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},3295:t=>{const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},4225:t=>{const e="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=e},6742:t=>{const e=/^[0-9]+$/,r=(t,r)=>{const i=e.test(t),s=e.test(r);return i&&s&&(t=+t,r=+r),t===r?0:i&&!s?-1:s&&!i?1:t<r?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(t,e)=>r(e,t)}},9659:t=>{t.exports=class{constructor(){this.max=1e3,this.map=new Map}get(t){const e=this.map.get(t);return void 0===e?void 0:(this.map.delete(t),this.map.set(t,e),e)}delete(t){return this.map.delete(t)}set(t,e){if(!this.delete(t)&&void 0!==e){if(this.map.size>=this.max){const t=this.map.keys().next().value;this.delete(t)}this.map.set(t,e)}return this}}},2893:t=>{const e=Object.freeze({loose:!0}),r=Object.freeze({});t.exports=t=>t?"object"!=typeof t?e:t:r},5765:(t,e,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:i,MAX_SAFE_BUILD_LENGTH:s,MAX_LENGTH:n}=r(3295),o=r(4225),a=(e=t.exports={}).re=[],l=e.safeRe=[],c=e.src=[],h=e.t={};let u=0;const p=[["\\s",1],["\\d",n],["[a-zA-Z0-9-]",s]],d=(t,e,r)=>{const i=(t=>{for(const[e,r]of p)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t})(e),s=u++;o(t,s,e),h[t]=s,c[s]=e,a[s]=new RegExp(e,r?"g":void 0),l[s]=new RegExp(i,r?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","\\d+"),d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),d("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[h.NUMERICIDENTIFIER]}|${c[h.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NUMERICIDENTIFIERLOOSE]}|${c[h.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),d("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),d("FULL",`^${c[h.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),d("LOOSE",`^${c[h.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),d("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),d("COERCEPLAIN",`(^|[^\\d])(\\d{1,${i}})(?:\\.(\\d{1,${i}}))?(?:\\.(\\d{1,${i}}))?`),d("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),d("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?`+`(?:${c[h.BUILD]})?(?:$|[^\\d])`),d("COERCERTL",c[h.COERCE],!0),d("COERCERTLFULL",c[h.COERCEFULL],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",d("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",d("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7606:(t,e,r)=>{const i=r(6826);t.exports=(t,e,r)=>i(t,e,">",r)},2937:(t,e,r)=>{const i=r(6902);t.exports=(t,e,r)=>(t=new i(t,r),e=new i(e,r),t.intersects(e,r))},32:(t,e,r)=>{const i=r(6826);t.exports=(t,e,r)=>i(t,e,"<",r)},5775:(t,e,r)=>{const i=r(6376),s=r(6902);t.exports=(t,e,r)=>{let n=null,o=null,a=null;try{a=new s(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(n&&-1!==o.compare(t)||(n=t,o=new i(n,r)))})),n}},1657:(t,e,r)=>{const i=r(6376),s=r(6902);t.exports=(t,e,r)=>{let n=null,o=null,a=null;try{a=new s(e,r)}catch(t){return null}return t.forEach((t=>{a.test(t)&&(n&&1!==o.compare(t)||(n=t,o=new i(n,r)))})),n}},5316:(t,e,r)=>{const i=r(6376),s=r(6902),n=r(1312);t.exports=(t,e)=>{t=new s(t,e);let r=new i("0.0.0");if(t.test(r))return r;if(r=new i("0.0.0-0"),t.test(r))return r;r=null;for(let e=0;e<t.set.length;++e){const s=t.set[e];let o=null;s.forEach((t=>{const e=new i(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":o&&!n(e,o)||(o=e);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${t.operator}`)}})),!o||r&&!n(r,o)||(r=o)}return r&&t.test(r)?r:null}},6826:(t,e,r)=>{const i=r(6376),s=r(2257),{ANY:n}=s,o=r(6902),a=r(5712),l=r(1312),c=r(1544),h=r(2056),u=r(5903);t.exports=(t,e,r,p)=>{let d,f,y,g,m;switch(t=new i(t,p),e=new o(e,p),r){case">":d=l,f=h,y=c,g=">",m=">=";break;case"<":d=c,f=u,y=l,g="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,p))return!1;for(let r=0;r<e.set.length;++r){const i=e.set[r];let o=null,a=null;if(i.forEach((t=>{t.semver===n&&(t=new s(">=0.0.0")),o=o||t,a=a||t,d(t.semver,o.semver,p)?o=t:y(t.semver,a.semver,p)&&(a=t)})),o.operator===g||o.operator===m)return!1;if((!a.operator||a.operator===g)&&f(t,a.semver))return!1;if(a.operator===m&&y(t,a.semver))return!1}return!0}},7908:(t,e,r)=>{const i=r(5712),s=r(6269);t.exports=(t,e,r)=>{const n=[];let o=null,a=null;const l=t.sort(((t,e)=>s(t,e,r)));for(const t of l)i(t,e,r)?(a=t,o||(o=t)):(a&&n.push([o,a]),a=null,o=null);o&&n.push([o,null]);const c=[];for(const[t,e]of n)t===e?c.push(t):e||t!==l[0]?e?t===l[0]?c.push(`<=${e}`):c.push(`${t} - ${e}`):c.push(`>=${t}`):c.push("*");const h=c.join(" || "),u="string"==typeof e.raw?e.raw:String(e);return h.length<u.length?h:e}},799:(t,e,r)=>{const i=r(6902),s=r(2257),{ANY:n}=s,o=r(5712),a=r(6269),l=[new s(">=0.0.0-0")],c=[new s(">=0.0.0")],h=(t,e,r)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===n){if(1===e.length&&e[0].semver===n)return!0;t=r.includePrerelease?l:c}if(1===e.length&&e[0].semver===n){if(r.includePrerelease)return!0;e=c}const i=new Set;let s,h,d,f,y,g,m;for(const e of t)">"===e.operator||">="===e.operator?s=u(s,e,r):"<"===e.operator||"<="===e.operator?h=p(h,e,r):i.add(e.semver);if(i.size>1)return null;if(s&&h){if(d=a(s.semver,h.semver,r),d>0)return null;if(0===d&&(">="!==s.operator||"<="!==h.operator))return null}for(const t of i){if(s&&!o(t,String(s),r))return null;if(h&&!o(t,String(h),r))return null;for(const i of e)if(!o(t,String(i),r))return!1;return!0}let v=!(!h||r.includePrerelease||!h.semver.prerelease.length)&&h.semver,w=!(!s||r.includePrerelease||!s.semver.prerelease.length)&&s.semver;v&&1===v.prerelease.length&&"<"===h.operator&&0===v.prerelease[0]&&(v=!1);for(const t of e){if(m=m||">"===t.operator||">="===t.operator,g=g||"<"===t.operator||"<="===t.operator,s)if(w&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===w.major&&t.semver.minor===w.minor&&t.semver.patch===w.patch&&(w=!1),">"===t.operator||">="===t.operator){if(f=u(s,t,r),f===t&&f!==s)return!1}else if(">="===s.operator&&!o(s.semver,String(t),r))return!1;if(h)if(v&&t.semver.prerelease&&t.semver.prerelease.length&&t.semver.major===v.major&&t.semver.minor===v.minor&&t.semver.patch===v.patch&&(v=!1),"<"===t.operator||"<="===t.operator){if(y=p(h,t,r),y===t&&y!==h)return!1}else if("<="===h.operator&&!o(h.semver,String(t),r))return!1;if(!t.operator&&(h||s)&&0!==d)return!1}return!(s&&g&&!h&&0!==d||h&&m&&!s&&0!==d||w||v)},u=(t,e,r)=>{if(!t)return e;const i=a(t.semver,e.semver,r);return i>0?t:i<0||">"===e.operator&&">="===t.operator?e:t},p=(t,e,r)=>{if(!t)return e;const i=a(t.semver,e.semver,r);return i<0?t:i>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,r={})=>{if(t===e)return!0;t=new i(t,r),e=new i(e,r);let s=!1;t:for(const i of t.set){for(const t of e.set){const e=h(i,t,r);if(s=s||null!==e,e)continue t}if(s)return!1}return!0}},1042:(t,e,r)=>{const i=r(6902);t.exports=(t,e)=>new i(t,e).set.map((t=>t.map((t=>t.value)).join(" ").trim().split(" ")))},9042:(t,e,r)=>{const i=r(6902);t.exports=(t,e)=>{try{return new i(t,e).range||"*"}catch(t){return null}}},7771:(t,e,r)=>{"use strict";var i=r(210),s=r(2296),n=r(1044)(),o=r(7296),a=r(4453),l=i("%Math.floor%");t.exports=function(t,e){if("function"!=typeof t)throw new a("`fn` is not a function");if("number"!=typeof e||e<0||e>4294967295||l(e)!==e)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,c=!0;if("length"in t&&o){var h=o(t,"length");h&&!h.configurable&&(i=!1),h&&!h.writable&&(c=!1)}return(i||c||!r)&&(n?s(t,"length",e,!0,!0):s(t,"length",e)),t}},7478:(t,e,r)=>{"use strict";var i=r(210),s=r(1924),n=r(631),o=i("%TypeError%"),a=i("%WeakMap%",!0),l=i("%Map%",!0),c=s("WeakMap.prototype.get",!0),h=s("WeakMap.prototype.set",!0),u=s("WeakMap.prototype.has",!0),p=s("Map.prototype.get",!0),d=s("Map.prototype.set",!0),f=s("Map.prototype.has",!0),y=function(t,e){for(var r,i=t;null!==(r=i.next);i=r)if(r.key===e)return i.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,i={assert:function(t){if(!i.has(t))throw new o("Side channel does not contain "+n(t))},get:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(t)return c(t,i)}else if(l){if(e)return p(e,i)}else if(r)return function(t,e){var r=y(t,e);return r&&r.value}(r,i)},has:function(i){if(a&&i&&("object"==typeof i||"function"==typeof i)){if(t)return u(t,i)}else if(l){if(e)return f(e,i)}else if(r)return function(t,e){return!!y(t,e)}(r,i);return!1},set:function(i,s){a&&i&&("object"==typeof i||"function"==typeof i)?(t||(t=new a),h(t,i,s)):l?(e||(e=new l),d(e,i,s)):(r||(r={key:{},next:null}),function(t,e,r){var i=y(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}}(r,i,s))}};return i}},6679:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SqlPackageAction=e.ActionType=void 0;const l=n(r(1017)),c=n(r(2225)),h=n(r(27)),u=a(r(5731)),p=a(r(2573)),d=a(r(4738)),f=a(r(9769));var y,g;!function(t){t[t.DacpacAction=0]="DacpacAction",t[t.SqlAction=1]="SqlAction",t[t.BuildAndPublish=2]="BuildAndPublish"}(y=e.ActionType||(e.ActionType={})),function(t){t[t.Publish=0]="Publish",t[t.Extract=1]="Extract",t[t.Export=2]="Export",t[t.Import=3]="Import",t[t.DriftReport=4]="DriftReport",t[t.DeployReport=5]="DeployReport",t[t.Script=6]="Script"}(g=e.SqlPackageAction||(e.SqlPackageAction={})),e.default=class{constructor(t){this._inputs=t}execute(){return o(this,void 0,void 0,(function*(){if(this._inputs.actionType===y.DacpacAction)yield this._executeDacpacAction(this._inputs);else if(this._inputs.actionType===y.SqlAction)yield this._executeSqlFile(this._inputs);else{if(this._inputs.actionType!==y.BuildAndPublish)throw new Error(`Invalid AzureSqlAction '${this._inputs.actionType}'.`);{const t=this._inputs,e=yield this._executeBuildProject(t),r={actionType:y.DacpacAction,connectionConfig:t.connectionConfig,filePath:e,additionalArguments:t.additionalArguments,sqlpackageAction:t.sqlpackageAction,sqlpackagePath:t.sqlpackagePath};yield this._executeDacpacAction(r)}}}))}_executeDacpacAction(t){return o(this,void 0,void 0,(function*(){c.debug("Begin executing sqlpackage");let e=yield u.default.getSqlPackagePath(t),r=this._getSqlPackageArguments(t);yield h.exec(`"${e}" ${r}`),console.log(`Successfully executed action ${g[t.sqlpackageAction]} on target database.`)}))}_executeSqlFile(t){return o(this,void 0,void 0,(function*(){c.debug("Begin executing sql script");let e=f.default.buildSqlCmdCallWithConnectionInfo(t.connectionConfig);e+=` -i "${t.filePath}"`,t.additionalArguments&&(e+=` ${t.additionalArguments}`),yield h.exec(e),console.log("Successfully executed SQL file on target database.")}))}_executeBuildProject(t){var e,r;return o(this,void 0,void 0,(function*(){c.debug("Begin building project");const i=l.basename(t.filePath,d.default.sqlprojExtension),s=null!==(e=t.buildArguments)&&void 0!==e?e:"",n=yield p.default.parseCommandArguments(s);let o="";const a=yield p.default.findArgument(n,"--output","-o");if(a)o=a;else{const e=null!==(r=yield p.default.findArgument(n,"--configuration","-c"))&&void 0!==r?r:"Debug";o=l.join(l.dirname(t.filePath),"bin",e)}let u="";yield h.exec(`dotnet build "${t.filePath}" -p:NetCoreBuild=true ${s}`,[],{listeners:{stderr:t=>u+=t.toString(),stdout:t=>u+=t.toString()}});try{if(u.includes("Build succeeded."))if(u.includes("0 Warning(s)"))c.summary.addHeading(":white_check_mark: SQL project build succeeded.");else{c.summary.addHeading(":warning: SQL project build succeeded with warnings."),c.summary.addEOL();let t=u.split(/\r?\n/).filter((t=>t.includes("Build warning")||t.includes("StaticCodeAnalysis warning")));t=[...new Set(t)],t.forEach((t=>{t="- **"+(t=t.lastIndexOf("[")>0?t.substring(0,t.lastIndexOf("[")-1):t).substring(t.indexOf(":")+2)+"** "+t.substring(0,t.indexOf(":")),c.summary.addRaw(t,!0)})),c.summary.addRaw("See the full build log for more details.")}else c.summary.addHeading(":x: Build failed.")}catch(t){c.notice(`Error parsing build output for job summary: ${t}`)}const f=l.join(o,i+d.default.dacpacExtension);return console.log(`Successfully built database project to ${f}`),f}))}_getSqlPackageArguments(t){let e="";switch(t.sqlpackageAction){case g.Publish:case g.Script:case g.DeployReport:e+=`/Action:${g[t.sqlpackageAction]} /TargetConnectionString:"${t.connectionConfig.EscapedConnectionString}" /SourceFile:"${t.filePath}"`;break;case g.DriftReport:e+=`/Action:${g[t.sqlpackageAction]} /TargetConnectionString:"${t.connectionConfig.EscapedConnectionString}"`;break;default:throw new Error(`Not supported SqlPackage action: '${g[t.sqlpackageAction]}'`)}return t.additionalArguments&&(e+=" "+t.additionalArguments),e}}},5731:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const l=n(r(2225)),c=n(r(27)),h=n(r(1017)),u=n(r(7147)),p=n(r(7824)),d=a(r(1283)),f=n(r(1249)),y=r(6679),g="win32"===process.platform,m="linux"===process.platform,v="~/.dotnet/tools/sqlpackage";class w{static getSqlPackagePath(t){return o(this,void 0,void 0,(function*(){if(t.sqlpackagePath){if(!u.existsSync(t.sqlpackagePath))throw new Error(`SqlPackage not found at provided path: ${t.sqlpackagePath}`);return l.debug(`Return the cached path of SqlPackage executable: ${t.sqlpackagePath}`),t.sqlpackagePath}return this._sqlPackagePath?(l.debug(`Return the cached path of SqlPackage executable: ${this._sqlPackagePath}`),this._sqlPackagePath):(this._sqlPackagePath=g?yield this._getSqlPackageExecutablePath():m?this._getSqlPackageBinaryPathLinux():this._getSqlPackageBinaryPathMac(),this._sqlPackagePath)}))}static getRegistrySubKeys(t){return new Promise((e=>{l.debug(`Getting sub-keys at registry path: HKLM:${t}`),new d.default({hive:d.default.HKLM,key:t}).keys(((t,r)=>t?"":e(r)))}))}static getRegistryValue(t,e){return new Promise((r=>{l.debug(`Getting registry value ${e} at path: HKLM:${t.key}`),t.get(e,((t,e)=>{r(t?"":e.value)}))}))}static registryKeyExists(t){return l.debug(`Checking if registry key 'HKLM:${t}' exists.`),new Promise((e=>{new d.default({hive:d.default.HKLM,key:t}).keyExists(((t,r)=>{e(!t&&r)}))}))}static resolveFilePath(t){let e=t;if(p.hasMagic(t)){let r=p.sync(t);if(0===r.length)throw new Error(`No files found matching pattern ${t}`);if(r.length>1)throw new Error(`Muliple files found matching pattern ${t}`);e=r[0]}if(!u.existsSync(e))throw new Error(`Unable to find file at location: ${e}`);return e}static getSqlpackageActionTypeFromString(t){if(!t)return y.SqlPackageAction.Publish;switch(t.trim().toLowerCase()){case"publish":return y.SqlPackageAction.Publish;case"driftreport":return y.SqlPackageAction.DriftReport;case"deployreport":return y.SqlPackageAction.DeployReport;case"script":return y.SqlPackageAction.Script;default:throw new Error(`Action ${t} is invalid. Supported action types are: Publish, Script, DriftReport, or DeployReport.`)}}static _getSqlPackageExecutablePath(){return o(this,void 0,void 0,(function*(){l.debug("Getting location of SqlPackage");let t=[],e=yield this._getSqlPackageExeInstalledDotnetTool();void 0===e||""===e.sqlPackagePath?l.debug("SqlPackage installed with dotnet tool not found on machine."):t.push(e);let r=yield this._getSqlPackageInstalledWithSSMS();void 0===r||""===r.sqlPackagePath?l.debug("SqlPackage installed with SSMS not found on machine."):t.push(r);let i=yield this._getSqlPackageInstalledWithDacMsi();void 0===i||""===i.sqlPackagePath?l.debug("SqlPackage installed with DacFramework MSI not found on machine."):t.push(i);let s=yield this._getSqlPackageInstalledWithSSDT();void 0===s||""===s.sqlPackagePath?l.debug("SqlPackage installed with SSDT not found on machine."):t.push(s),t.sort(((t,e)=>f.compareBuild(e.sqlPackageVersion,t.sqlPackageVersion)));let n=t.pop();if(void 0===n||""===n.sqlPackagePath)throw new Error("Unable to find the location of SqlPackage");return l.debug(`SqlPackage ${n.sqlPackageVersion} selected at location: ${n.sqlPackagePath}`),n.sqlPackagePath}))}static _getSqlPackageExecutableVersion(t){return o(this,void 0,void 0,(function*(){let e="";yield c.exec(`"${t}"`,["/version"],{listeners:{stdout:t=>e+=t.toString()}});let r=f.coerce(e.trim());return f.valid(r)&&null!==r?r:(l.debug(`Unable to parse version ${e} of SqlPackage at location ${t}`),new f.SemVer("0.0.0"))}))}static _getSqlPackageExeInstalledDotnetTool(){return o(this,void 0,void 0,(function*(){let t=h.join(process.env.USERPROFILE,".dotnet","tools"),e=h.join(t,"SqlPackage.exe");if(u.existsSync(e)){let t=yield this._getSqlPackageExecutableVersion(e);return l.debug(`SqlPackage version ${t} (installed with dotnet tool) found at location: ${e}`),{sqlPackagePath:e,sqlPackageVersion:t}}return this._emptySqlPackageInstall()}))}static _getSqlPackageInstalledWithSSDT(){return o(this,void 0,void 0,(function*(){let t=yield this._getLatestVisualStudioInstallationPath();if(t){let e=h.join(t,"Common7","IDE","Extensions","Microsoft","SQLDB","DAC"),r=this._getSqlPackageInVSDacDirectory(e);if(r[0])return r}let e=h.join("\\","SOFTWARE","Microsoft","VisualStudio"),r=h.join("\\","SOFTWARE","Wow6432Node","Microsoft","VisualStudio");if(!(yield w.registryKeyExists(e))&&(e=r,!(yield w.registryKeyExists(e))))return this._emptySqlPackageInstall();let i=yield w.getRegistrySubKeys(e),s=this._getVersionsRegistryKeys(i);for(let t of s){let e=yield w.getRegistryValue(t,"InstallDir"),r=h.join(e,"Common7","IDE","Extensions","Microsoft","SQLDB","DAC"),i=this._getSqlPackageInVSDacDirectory(r);if(i[0])return i}return l.debug("Dac Framework (installed with Visual Studio) not found on machine."),this._emptySqlPackageInstall()}))}static _getSqlPackageInVSDacDirectory(t){return o(this,void 0,void 0,(function*(){if(u.existsSync(t)){let e=u.readdirSync(t).filter((t=>!isNaN(h.basename(t)))).sort(((t,e)=>{let r=h.basename(t),i=h.basename(e);return r>i?-1:r<i?1:0})).map((e=>h.join(t,e)));for(let t of e){let e=h.join(t,"SqlPackage.exe");if(u.existsSync(e)){let t=yield this._getSqlPackageExecutableVersion(e);return l.debug(`Dac Framework version ${t} installed with Visual Studio found at ${e}`),{sqlPackagePath:e,sqlPackageVersion:t}}}}return this._emptySqlPackageInstall()}))}static _getLatestVisualStudioInstallationPath(){return o(this,void 0,void 0,(function*(){let t=h.join(process.env["ProgramFiles(x86)"],"Microsoft Visual Studio","Installer","vswhere.exe"),e="";try{yield c.exec(`"${t}"`,["-latest","-format","json"],{silent:!0,listeners:{stdout:t=>e+=t.toString()}})}catch(t){return l.debug(`Unable to find the location of latest Visual Studio Installation path using vswhere.exe. ${t}`),""}l.debug(e);let r=JSON.parse(e);return r[0]&&r[0].installationPath}))}static _getSqlPackageInstalledWithDacMsi(){return o(this,void 0,void 0,(function*(){let t=h.join("\\","SOFTWARE","Microsoft","Microsoft SQL Server","Data-Tier Application Framework"),e=h.join("\\","SOFTWARE","Wow6432Node","Microsoft","Microsoft SQL Server","Data-Tier Application Framework");if(!(yield w.registryKeyExists(t))&&(t=e,!(yield w.registryKeyExists(t))))return this._emptySqlPackageInstall();let r=yield w.getRegistrySubKeys(t),i=this._getVersionsRegistryKeys(r);for(let t of i){let e=yield w.getRegistryValue(t,"InstallDir");if(e){let t=h.join(e,"SqlPackage.exe");if(u.existsSync(t)){let e=yield this._getSqlPackageExecutableVersion(t);return l.debug(`SqlPackage version ${e} (installed with DacFramework) found at location: ${t}`),{sqlPackagePath:t,sqlPackageVersion:e}}}}return this._emptySqlPackageInstall()}))}static _getSqlPackageInstalledWithSSMS(){return o(this,void 0,void 0,(function*(){let t=h.join("\\","SOFTWARE","Microsoft","Microsoft SQL Server"),e=h.join("\\","SOFTWARE","Wow6432Node","Microsoft","Microsoft SQL Server");if(!(yield w.registryKeyExists(t))&&(t=e,!(yield w.registryKeyExists(t))))return this._emptySqlPackageInstall();let r=yield w.getRegistrySubKeys(t),i=this._getVersionsRegistryKeys(r);for(let t of i){let e=yield w.getRegistryValue(t,"VerSpecificRootDir");if(e){let t=h.join(e,"Dac","bin","SqlPackage.exe");if(u.existsSync(t)){let e=yield this._getSqlPackageExecutableVersion(t);return l.debug(`SqlPackage version ${e} (installed with SSMS) found at location: ${t}`),{sqlPackagePath:t,sqlPackageVersion:e}}}}return this._emptySqlPackageInstall()}))}static _getVersionsRegistryKeys(t){return t.filter((t=>!isNaN(t.key.split("\\").slice(-1)[0]))).sort(((t,e)=>{let r=parseInt(t.key.split("\\").slice(-1)[0]),i=parseInt(e.key.split("\\").slice(-1)[0]);return r>i?-1:r<i?1:0}))}static _emptySqlPackageInstall(){return{sqlPackagePath:"",sqlPackageVersion:new f.SemVer("0.0.0")}}static _getSqlPackageBinaryPathLinux(){return u.existsSync(v)?v:"sqlpackage"}static _getSqlPackageBinaryPathMac(){throw new Error("This action is not supported on a Mac environment.")}}e.default=w,w._sqlPackagePath=""},5169:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(804),n="2021-11-01";class o{constructor(t){this._authorizer=t,this._restClient=new s.ServiceClient(t)}static getResourceManager(t,e){return i(this,void 0,void 0,(function*(){let r=new o(e);return yield r._populateSqlServerData(t),r}))}getSqlServer(){return this._resource}addFirewallRule(t,e){return i(this,void 0,void 0,(function*(){let r=new Date,i=`ClientIPAddress_${r.getFullYear()}-${r.getMonth()}-${r.getDay()}_${t}`,o={method:"PUT",uri:this._restClient.getRequestUri(`/${this._resource.id}/firewallRules/${i}`,{},[],n),body:JSON.stringify({properties:{startIpAddress:t,endIpAddress:e}})};try{let t=yield this._restClient.beginRequest(o);if(200!==t.statusCode&&201!==t.statusCode)throw(0,s.ToError)(t);return t.body}catch(t){if(t instanceof s.AzureError)throw new Error(JSON.stringify(t));throw t}}))}removeFirewallRule(t){return i(this,void 0,void 0,(function*(){let e={method:"DELETE",uri:this._restClient.getRequestUri(`/${this._resource.id}/firewallRules/${t.name}`,{},[],n)};try{let t=yield this._restClient.beginRequest(e);if(200!==t.statusCode&&204!==t.statusCode)throw(0,s.ToError)(t)}catch(t){if(t instanceof s.AzureError)throw new Error(JSON.stringify(t));throw t}}))}_populateSqlServerData(t){return i(this,void 0,void 0,(function*(){let e=this._authorizer.getCloudSuffixUrl("sqlServerHostname");t.endsWith(e)&&(t=t.slice(0,t.lastIndexOf(e)));let r={method:"GET",uri:this._restClient.getRequestUri("//subscriptions/{subscriptionId}/providers/Microsoft.Sql/servers",{},[],n)};try{let e=yield this._restClient.beginRequest(r);if(200!==e.statusCode)throw(0,s.ToError)(e);let i=e.body&&e.body.value;if(!(i&&i.length>0))throw new Error(`Unable to get details of SQL server ${t}. No SQL servers were found in the subscription ${this._authorizer.subscriptionID}.`);if(this._resource=i.filter((e=>e.name===t))[0],!this._resource)throw new Error(`Unable to get details of SQL server ${t}. Sql server '${t}' was not found in the subscription ${this._authorizer.subscriptionID}.`)}catch(t){if(t instanceof s.AzureError)throw new Error(JSON.stringify(t));throw t}}))}}e.default=o},4738:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{}e.default=r,r.ipv4MatchPattern=/\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\b/,r.connectionStringTester=/^[;\s]*([\w\s]+=(?:('[^']*(''[^']*)*')|("[^"]*(""[^"]*)*")|((?!['"])[^;]*)))(;[;\s]*([\w\s]+=(?:('[^']*(''[^']*)*')|("[^"]*(""[^"]*)*")|((?!['"])[^;]*))))*[;\s]*$/,r.connectionStringParserRegex=/(?<key>[\w\s]+)=(?<val>('[^']*(''[^']*)*')|("[^"]*(""[^"]*)*")|((?!['"])[^;]*))/g,r.dacpacExtension=".dacpac",r.sqlFileExtension=".sql",r.sqlprojExtension=".sqlproj",r.sqlcmdPasswordEnvVarName="SQLCMDPASSWORD"},2573:function(t,e){"use strict";var r=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{static parseCommandArguments(t){return r(this,void 0,void 0,(function*(){let e={};const r=t.match(/(\-\-?[A-Za-z\-]+(?:$|\s+)(?:[^\s"'\-]+|"[^"]*"|'[^']*')?)/g);return null==r||r.forEach((t=>{const r=t.trim().indexOf(" ");if(r>=0){const i=t.substring(0,r),s=t.substring(r).trim();e[i]=s}else e[t]=void 0})),e}))}static findArgument(t,e,i){var s;return r(this,void 0,void 0,(function*(){return null!==(s=t[e])&&void 0!==s?s:i?t[i]:void 0}))}}},2873:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const a=n(r(2225));e.default=class{constructor(t){this._resourceManager=t}addFirewallRule(t){return o(this,void 0,void 0,(function*(){t?(console.log("Client does not have access to server. Adding firewall exception for client's IP address."),this._firewallRule=yield this._resourceManager.addFirewallRule(t,t),a.debug(JSON.stringify(this._firewallRule)),console.log(`Successfully added firewall rule ${this._firewallRule.name}.`)):a.debug("Client has access to Sql server. Skip adding firewall exception.")}))}removeFirewallRule(){return o(this,void 0,void 0,(function*(){this._firewallRule&&(console.log(`Removing firewall rule '${this._firewallRule.name}'.`),yield this._resourceManager.removeFirewallRule(this._firewallRule),console.log("Successfully removed firewall rule."))}))}}},4413:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.sqlcmdVersion=e.sqlcmdToolName=void 0;const l=n(r(2225)),c=n(r(4392)),h=n(r(1017)),u=a(r(1171));e.sqlcmdToolName="go-sqlcmd",e.sqlcmdVersion="1.6.0",e.default=class{static setupSqlcmd(){return o(this,void 0,void 0,(function*(){let t=c.find(e.sqlcmdToolName,e.sqlcmdVersion);if(!t){const r=yield this.downloadAndExtractSqlcmd();t=yield c.cacheDir(r,e.sqlcmdToolName,e.sqlcmdVersion)}l.addPath(t)}))}static downloadAndExtractSqlcmd(){return o(this,void 0,void 0,(function*(){let t;switch(process.platform){case"linux":return t=yield c.downloadTool(`https://github.com/microsoft/go-sqlcmd/releases/download/v${e.sqlcmdVersion}/sqlcmd-v${e.sqlcmdVersion}-linux-x64.tar.bz2`),yield c.extractTar(t,void 0,"xj");case"win32":const r=h.join(process.env.RUNNER_TEMP||"",(0,u.default)()+".zip");return t=yield c.downloadTool(`https://github.com/microsoft/go-sqlcmd/releases/download/v${e.sqlcmdVersion}/sqlcmd-v${e.sqlcmdVersion}-windows-x64.zip`,r),yield c.extractZip(t);default:throw new Error(`Runner OS is not supported: ${process.platform}`)}}))}}},6068:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const a=n(r(2225)),l=r(6762),c=o(r(4738));e.default=class{constructor(t){this._validateConnectionString(t),this._rawConnectionString=t,this._parsedConnectionString=(0,l.parseSqlConnectionString)(t,!0,!0),this._maskSecrets(),this._validateconfig()}get Server(){let t=this._parsedConnectionString["data source"];return(null==t?void 0:t.includes(","))&&(t=t.split(",")[0].trim()),(null==t?void 0:t.startsWith("tcp:"))&&(t=t.slice(4).trim()),t}get Port(){const t=this._parsedConnectionString["data source"];if(t&&t.includes(","))return parseInt(t.split(",")[1].trim())}get Database(){return this._parsedConnectionString["initial catalog"]}get UserId(){return this._parsedConnectionString["user id"]}get Password(){return this._parsedConnectionString.password}get FormattedAuthentication(){const t=this._parsedConnectionString.authentication;return null==t?void 0:t.replace(/\s/g,"").toLowerCase()}get EscapedConnectionString(){let t="";const e=Array.from(this._rawConnectionString.matchAll(c.default.connectionStringParserRegex));for(const r of e)if(r.groups){const e=r.groups.key.trim();let i=r.groups.val.trim();i.startsWith('"')&&i.endsWith('"')&&(i='""'+i.slice(1,-1)+'""'),t+=`${e}=${i};`}return t}_validateConnectionString(t){if(!c.default.connectionStringTester.test(t))throw new Error("Invalid connection string. A valid connection string is a series of keyword/value pairs separated by semi-colons. If there are any special characters like quotes or semi-colons in the keyword value, enclose the value within quotes. Refer to this link for more info on connection string https://aka.ms/sqlconnectionstring")}_maskSecrets(){this.UserId&&a.setSecret(this.UserId),this.Password&&a.setSecret(this.Password)}_validateconfig(){if(!this.Server)throw new Error("Invalid connection string. Please ensure 'Server' or 'Data Source' is provided in the connection string.");if(!this.Database)throw new Error("Invalid connection string. Please ensure 'Database' or 'Initial Catalog' is provided in the connection string.");switch(this.FormattedAuthentication){case void 0:case"sqlpassword":case"activedirectorypassword":if(!this.UserId)throw new Error("Invalid connection string. Please ensure 'User' or 'User ID' is provided in the connection string.");if(!this.Password)throw new Error("Invalid connection string. Please ensure 'Password' is provided in the connection string.");break;case"activedirectoryserviceprincipal":if(!this.UserId)throw new Error("Invalid connection string. Please ensure client ID is provided in the 'User' or 'User ID' field of the connection string.");if(!this.Password)throw new Error("Invalid connection string. Please ensure client secret is provided in the 'Password' field of the connection string.")}}}},9769:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const l=n(r(2225)),c=n(r(27)),h=a(r(4738));e.default=class{static detectIPAddress(t){return o(this,void 0,void 0,(function*(){let e=yield this.tryConnection(t,!0);if(e.success)return"";if(e.ipAddress)return e.ipAddress;if(e=yield this.tryConnection(t,!1),e.success)return"";if(e.ipAddress)return e.ipAddress;throw new Error(`Failed to add firewall rule. Unable to detect client IP Address. ${e.errorMessage}`)}))}static tryConnection(t,e){return o(this,void 0,void 0,(function*(){const r=e?"master":t.Database;let i="";try{l.debug(`Validating if client has access to '${r}' on '${t.Server}'.`);let e=this.buildSqlCmdCallWithConnectionInfo(t,r);return e+=" -Q \"SELECT 'Validating connection from GitHub SQL Action'\"",yield c.exec(e,[],{silent:!0,listeners:{stderr:t=>i+=t.toString(),stdout:t=>i+=t.toString()}}),{success:!0}}catch(t){return l.debug(`${t.message}`),l.debug(`SqlCmd stderr: ${i}`),{success:!1,errorMessage:i,ipAddress:this.parseErrorForIpAddress(i)}}}))}static parseErrorForIpAddress(t){let e;const r=t.match(h.default.ipv4MatchPattern);return r&&(e=r[0]),e}static buildSqlCmdCallWithConnectionInfo(t,e){var r;let i;switch(process.platform){case"win32":i="sqlcmd.exe";break;case"linux":case"darwin":i="sqlcmd";break;default:throw new Error(`Platform ${process.platform} is not supported.`)}e||(e=t.Database);let s=`"${i}" -S ${t.Server},${null!==(r=t.Port)&&void 0!==r?r:1433} -d ${e}`;switch(t.FormattedAuthentication){case void 0:case"sqlpassword":s+=` -U "${t.UserId}"`,l.exportVariable(h.default.sqlcmdPasswordEnvVarName,t.Password);break;case"activedirectorydefault":s+=" --authentication-method=ActiveDirectoryDefault";break;case"activedirectorypassword":s+=` --authentication-method=ActiveDirectoryPassword -U "${t.UserId}"`,l.exportVariable(h.default.sqlcmdPasswordEnvVarName,t.Password);break;case"activedirectoryserviceprincipal":s+=` --authentication-method=ActiveDirectoryServicePrincipal -U "${t.UserId}"`,l.exportVariable(h.default.sqlcmdPasswordEnvVarName,t.Password);break;default:throw new Error(`Authentication type ${t.FormattedAuthentication} is not supported.`)}return s}}},8519:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e},o=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const l=n(r(2225)),c=n(r(6113)),h=n(r(1017)),u=r(2609),p=n(r(6679)),d=a(r(5169)),f=a(r(2873)),y=a(r(5731)),g=a(r(6068)),m=a(r(9769)),v=a(r(4738)),w=a(r(4413)),E=process.env.AZURE_HTTP_USER_AGENT?`${process.env.AZURE_HTTP_USER_AGENT}`:"";function b(){return o(this,void 0,void 0,(function*(){let t;yield w.default.setupSqlcmd();try{!function(){const t=c.createHash("sha256").update(`${process.env.GITHUB_REPOSITORY}`).digest("hex"),e=(E?`${E}+`:"")+`GITHUBACTIONS_AzureSqlAction_${t}`;l.exportVariable("AZURE_HTTP_USER_AGENT",e)}();const e=function(){l.debug("Get action inputs.");const t=l.getInput("connection-string",{required:!0}),e=new g.default(t);let r=l.getInput("path",{required:!0});r=y.default.resolveFilePath(r);const i=l.getInput("action");switch(h.extname(r).toLowerCase()){case v.default.sqlFileExtension:return{actionType:p.ActionType.SqlAction,connectionConfig:e,filePath:r,additionalArguments:l.getInput("arguments")||void 0,skipFirewallCheck:l.getBooleanInput("skip-firewall-check"),noJobSummary:l.getBooleanInput("no-job-summary")};case v.default.dacpacExtension:if(!i)throw new Error("The action input must be specified when using a .dacpac file.");return{actionType:p.ActionType.DacpacAction,connectionConfig:e,filePath:r,sqlpackageAction:y.default.getSqlpackageActionTypeFromString(i),sqlpackagePath:l.getInput("sqlpackage-path")||void 0,additionalArguments:l.getInput("arguments")||void 0,skipFirewallCheck:l.getBooleanInput("skip-firewall-check"),noJobSummary:l.getBooleanInput("no-job-summary")};case v.default.sqlprojExtension:if(!i)throw new Error("The action input must be specified when using a .sqlproj file.");return{actionType:p.ActionType.BuildAndPublish,connectionConfig:e,filePath:r,buildArguments:l.getInput("build-arguments")||void 0,sqlpackageAction:y.default.getSqlpackageActionTypeFromString(i),sqlpackagePath:l.getInput("sqlpackage-path")||void 0,additionalArguments:l.getInput("arguments")||void 0,skipFirewallCheck:l.getBooleanInput("skip-firewall-check"),noJobSummary:l.getBooleanInput("no-job-summary")};default:throw new Error(`Invalid file type provided as input ${r}. File must be a .sql, .dacpac, or .sqlproj file.`)}}(),r=new p.default(e);if(!0!==e.skipFirewallCheck){const r=yield m.default.detectIPAddress(e.connectionConfig);if(r){l.debug(`Temporarily adding '${r}' to the firewall of ${e.connectionConfig.Server}.`);let i=yield u.AuthorizerFactory.getAuthorizer(),s=yield d.default.getResourceManager(e.connectionConfig.Server,i);t=new f.default(s),yield t.addFirewallRule(r)}}yield r.execute(),1!=e.noJobSummary&&l.summary.write()}catch(t){l.setFailed(t.message)}finally{t&&(yield t.removeFirewallRule()),l.exportVariable("AZURE_HTTP_USER_AGENT",E)}}))}e.default=b,b()},6149:(t,e,r)=>{t.exports=r(5468)},5468:(t,e,r)=>{"use strict";r(1808);var i,s=r(4404),n=r(3685),o=r(5687),a=r(2361),l=(r(9491),r(3837));function c(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||n.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",(function(t,r,i,s){for(var n=u(r,i,s),o=0,a=e.requests.length;o<a;++o){var l=e.requests[o];if(l.host===n.host&&l.port===n.port)return e.requests.splice(o,1),void l.request.onSocket(t)}t.destroy(),e.removeSocket(t)}))}function h(t,e){var r=this;c.prototype.createSocket.call(r,t,(function(i){var n=t.request.getHeader("host"),o=p({},r.options,{socket:i,servername:n?n.replace(/:.*$/,""):t.host}),a=s.connect(0,o);r.sockets[r.sockets.indexOf(i)]=a,e(a)}))}function u(t,e,r){return"string"==typeof t?{host:t,port:e,localAddress:r}:t}function p(t){for(var e=1,r=arguments.length;e<r;++e){var i=arguments[e];if("object"==typeof i)for(var s=Object.keys(i),n=0,o=s.length;n<o;++n){var a=s[n];void 0!==i[a]&&(t[a]=i[a])}}return t}e.httpOverHttp=function(t){var e=new c(t);return e.request=n.request,e},e.httpsOverHttp=function(t){var e=new c(t);return e.request=n.request,e.createSocket=h,e.defaultPort=443,e},e.httpOverHttps=function(t){var e=new c(t);return e.request=o.request,e},e.httpsOverHttps=function(t){var e=new c(t);return e.request=o.request,e.createSocket=h,e.defaultPort=443,e},l.inherits(c,a.EventEmitter),c.prototype.addRequest=function(t,e,r,i){var s=this,n=p({request:t},s.options,u(e,r,i));s.sockets.length>=this.maxSockets?s.requests.push(n):s.createSocket(n,(function(e){function r(){s.emit("free",e,n)}function i(t){s.removeSocket(e),e.removeListener("free",r),e.removeListener("close",i),e.removeListener("agentRemove",i)}e.on("free",r),e.on("close",i),e.on("agentRemove",i),t.onSocket(e)}))},c.prototype.createSocket=function(t,e){var r=this,s={};r.sockets.push(s);var n=p({},r.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(n.localAddress=t.localAddress),n.proxyAuth&&(n.headers=n.headers||{},n.headers["Proxy-Authorization"]="Basic "+new Buffer(n.proxyAuth).toString("base64")),i("making CONNECT request");var o=r.request(n);function a(n,a,l){var c;return o.removeAllListeners(),a.removeAllListeners(),200!==n.statusCode?(i("tunneling socket could not be established, statusCode=%d",n.statusCode),a.destroy(),(c=new Error("tunneling socket could not be established, statusCode="+n.statusCode)).code="ECONNRESET",t.request.emit("error",c),void r.removeSocket(s)):l.length>0?(i("got illegal response body from proxy"),a.destroy(),(c=new Error("got illegal response body from proxy")).code="ECONNRESET",t.request.emit("error",c),void r.removeSocket(s)):(i("tunneling connection has established"),r.sockets[r.sockets.indexOf(s)]=a,e(a))}o.useChunkedEncodingByDefault=!1,o.once("response",(function(t){t.upgrade=!0})),o.once("upgrade",(function(t,e,r){process.nextTick((function(){a(t,e,r)}))})),o.once("connect",a),o.once("error",(function(e){o.removeAllListeners(),i("tunneling socket could not be established, cause=%s\n",e.message,e.stack);var n=new Error("tunneling socket could not be established, cause="+e.message);n.code="ECONNRESET",t.request.emit("error",n),r.removeSocket(s)})),o.end()},c.prototype.removeSocket=function(t){var e=this.sockets.indexOf(t);if(-1!==e){this.sockets.splice(e,1);var r=this.requests.shift();r&&this.createSocket(r,(function(t){r.request.onSocket(t)}))}},i=process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments);"string"==typeof t[0]?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:function(){},e.debug=i},7723:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?s(t.value):new r((function(e){e(t.value)})).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(7310),n=r(3685),o=r(5687),a=r(1320);let l,c;var h;!function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"}(h=e.HttpCodes||(e.HttpCodes={}));const u=[h.MovedPermanently,h.ResourceMoved,h.SeeOther,h.TemporaryRedirect,h.PermanentRedirect],p=[h.BadGateway,h.ServiceUnavailable,h.GatewayTimeout],d=["ECONNRESET","ENOTFOUND","ESOCKETTIMEDOUT","ETIMEDOUT","ECONNREFUSED"],f=["OPTIONS","GET","DELETE","HEAD"];class y{constructor(t){this.message=t}readBody(){return new Promise(((t,e)=>i(this,void 0,void 0,(function*(){const r=[],s=a.obtainContentCharset(this),n=this.message.headers["content-encoding"]||"",o=new RegExp("(gzip$)|(gzip, *deflate)").test(n);this.message.on("data",(function(t){const e="string"==typeof t?Buffer.from(t,s):t;r.push(e)})).on("end",(function(){return i(this,void 0,void 0,(function*(){const e=Buffer.concat(r);if(o){const r=yield a.decompressGzippedContent(e,s);t(r)}else t(e.toString(s))}))})).on("error",(function(t){e(t)}))}))))}}var g;e.HttpClientResponse=y,e.isHttps=function(t){return"https:"===s.parse(t).protocol},function(t){t.HTTP_PROXY="HTTP_PROXY",t.HTTPS_PROXY="HTTPS_PROXY",t.NO_PROXY="NO_PROXY"}(g||(g={})),e.HttpClient=class{constructor(t,e,i){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=e||[];let s=process.env[g.NO_PROXY];s&&(this._httpProxyBypassHosts=[],s.split(",").forEach((t=>{this._httpProxyBypassHosts.push(a.buildProxyBypassRegexFromEnv(t))}))),this.requestOptions=i,i&&(null!=i.ignoreSslError&&(this._ignoreSslError=i.ignoreSslError),this._socketTimeout=i.socketTimeout,this._httpProxy=i.proxy,i.proxy&&i.proxy.proxyBypassHosts&&(this._httpProxyBypassHosts=[],i.proxy.proxyBypassHosts.forEach((t=>{this._httpProxyBypassHosts.push(new RegExp(t,"i"))}))),this._certConfig=i.cert,this._certConfig&&(l=r(7147),this._certConfig.caFile&&l.existsSync(this._certConfig.caFile)&&(this._ca=l.readFileSync(this._certConfig.caFile,"utf8")),this._certConfig.certFile&&l.existsSync(this._certConfig.certFile)&&(this._cert=l.readFileSync(this._certConfig.certFile,"utf8")),this._certConfig.keyFile&&l.existsSync(this._certConfig.keyFile)&&(this._key=l.readFileSync(this._certConfig.keyFile,"utf8"))),null!=i.allowRedirects&&(this._allowRedirects=i.allowRedirects),null!=i.allowRedirectDowngrade&&(this._allowRedirectDowngrade=i.allowRedirectDowngrade),null!=i.maxRedirects&&(this._maxRedirects=Math.max(i.maxRedirects,0)),null!=i.keepAlive&&(this._keepAlive=i.keepAlive),null!=i.allowRetries&&(this._allowRetries=i.allowRetries),null!=i.maxRetries&&(this._maxRetries=i.maxRetries))}options(t,e){return this.request("OPTIONS",t,null,e||{})}get(t,e){return this.request("GET",t,null,e||{})}del(t,e){return this.request("DELETE",t,null,e||{})}post(t,e,r){return this.request("POST",t,e,r||{})}patch(t,e,r){return this.request("PATCH",t,e,r||{})}put(t,e,r){return this.request("PUT",t,e,r||{})}head(t,e){return this.request("HEAD",t,null,e||{})}sendStream(t,e,r,i){return this.request(t,e,r,i)}request(t,e,r,n){return i(this,void 0,void 0,(function*(){if(this._disposed)throw new Error("Client has already been disposed.");let i,o=s.parse(e),a=this._prepareRequest(t,o,n),l=this._allowRetries&&-1!=f.indexOf(t)?this._maxRetries+1:1,c=0;for(;c<l;){try{i=yield this.requestRaw(a,r)}catch(t){if(c++,t&&t.code&&d.indexOf(t.code)>-1&&c<l){yield this._performExponentialBackoff(c);continue}throw t}if(i&&i.message&&i.message.statusCode===h.Unauthorized){let t;for(let e=0;e<this.handlers.length;e++)if(this.handlers[e].canHandleAuthentication(i)){t=this.handlers[e];break}return t?t.handleAuthentication(this,a,r):i}let e=this._maxRedirects;for(;-1!=u.indexOf(i.message.statusCode)&&this._allowRedirects&&e>0;){const l=i.message.headers.location;if(!l)break;let c=s.parse(l);if("https:"==o.protocol&&o.protocol!=c.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");yield i.readBody(),a=this._prepareRequest(t,c,n),i=yield this.requestRaw(a,r),e--}if(-1==p.indexOf(i.message.statusCode))return i;c+=1,c<l&&(yield i.readBody(),yield this._performExponentialBackoff(c))}return i}))}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,e){return new Promise(((r,i)=>{this.requestRawWithCallback(t,e,(function(t,e){t&&i(t),r(e)}))}))}requestRawWithCallback(t,e,r){let i;"string"==typeof e&&(t.options.headers["Content-Length"]=Buffer.byteLength(e,"utf8"));let s=!1,n=(t,e)=>{s||(s=!0,r(t,e))},o=t.httpModule.request(t.options,(t=>{let e=new y(t);n(null,e)}));o.on("socket",(t=>{i=t})),o.setTimeout(this._socketTimeout||18e4,(()=>{i&&i.destroy(),n(new Error("Request timeout: "+t.options.path),null)})),o.on("error",(function(t){n(t,null)})),e&&"string"==typeof e&&o.write(e,"utf8"),e&&"string"!=typeof e?(e.on("close",(function(){o.end()})),e.pipe(o)):o.end()}_prepareRequest(t,e,r){const i={};i.parsedUrl=e;const a="https:"===i.parsedUrl.protocol;i.httpModule=a?o:n;const l=a?443:80;return i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):l,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.timeout=this.requestOptions&&this.requestOptions.socketTimeout||this._socketTimeout,this._socketTimeout=i.options.timeout,i.options.headers=this._mergeHeaders(r),null!=this.userAgent&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers&&!this._isPresigned(s.format(e))&&this.handlers.forEach((t=>{t.prepareRequest(i.options)})),i}_isPresigned(t){if(this.requestOptions&&this.requestOptions.presignedUrlPatterns){const e=this.requestOptions.presignedUrlPatterns;for(let r=0;r<e.length;r++)if(t.match(e[r]))return!0}return!1}_mergeHeaders(t){const e=t=>Object.keys(t).reduce(((e,r)=>(e[r.toLowerCase()]=t[r],e)),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},e(this.requestOptions.headers),e(t)):e(t||{})}_getAgent(t){let e,i=this._getProxy(t),s=i.proxyUrl&&i.proxyUrl.hostname&&!this._isMatchInBypassProxyList(t);if(this._keepAlive&&s&&(e=this._proxyAgent),this._keepAlive&&!s&&(e=this._agent),e)return e;const a="https:"===t.protocol;let l=100;if(this.requestOptions&&(l=this.requestOptions.maxSockets||n.globalAgent.maxSockets),s){c||(c=r(6149));const t={maxSockets:l,keepAlive:this._keepAlive,proxy:{proxyAuth:i.proxyAuth,host:i.proxyUrl.hostname,port:i.proxyUrl.port}};let s;const n="https:"===i.proxyUrl.protocol;s=a?n?c.httpsOverHttps:c.httpsOverHttp:n?c.httpOverHttps:c.httpOverHttp,e=s(t),this._proxyAgent=e}if(this._keepAlive&&!e){const t={keepAlive:this._keepAlive,maxSockets:l};e=a?new o.Agent(t):new n.Agent(t),this._agent=e}return e||(e=a?o.globalAgent:n.globalAgent),a&&this._ignoreSslError&&(e.options=Object.assign(e.options||{},{rejectUnauthorized:!1})),a&&this._certConfig&&(e.options=Object.assign(e.options||{},{ca:this._ca,cert:this._cert,key:this._key,passphrase:this._certConfig.passphrase})),e}_getProxy(t){let e,r,i="https:"===t.protocol,n=this._httpProxy,o=process.env[g.HTTPS_PROXY],a=process.env[g.HTTP_PROXY];return n||(o&&i?n={proxyUrl:o}:a&&(n={proxyUrl:a})),n&&(n.proxyUrl.length>0&&(e=s.parse(n.proxyUrl)),(n.proxyUsername||n.proxyPassword)&&(r=n.proxyUsername+":"+n.proxyPassword)),{proxyUrl:e,proxyAuth:r}}_isMatchInBypassProxyList(t){if(!this._httpProxyBypassHosts)return!1;let e=!1;return this._httpProxyBypassHosts.forEach((r=>{r.test(t.href)&&(e=!0)})),e}_performExponentialBackoff(t){t=Math.min(10,t);const e=5*Math.pow(2,t);return new Promise((t=>setTimeout((()=>t()),e)))}}},1320:function(t,e,r){"use strict";var i=this&&this.__awaiter||function(t,e,r,i){return new(r||(r=Promise))((function(s,n){function o(t){try{l(i.next(t))}catch(t){n(t)}}function a(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){t.done?s(t.value):new r((function(e){e(t.value)})).then(o,a)}l((i=i.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const s=r(6322),n=r(7310),o=r(1017),a=r(9796);e.getUrl=function(t,e,r){const i=o.posix||o;let a="";if(e)if(t){const r=n.parse(e),s=n.parse(t);s.protocol=s.protocol||r.protocol,s.auth=s.auth||r.auth,s.host=s.host||r.host,s.pathname=i.resolve(r.pathname,s.pathname),!s.pathname.endsWith("/")&&t.endsWith("/")&&(s.pathname+="/"),a=n.format(s)}else a=e;else a=t;return r?function(t,e){const r=t.replace(/\?$/g,""),i=s.stringify(e.params,function(t){return{addQueryPrefix:!0,delimiter:(t.options||{}).separator||"&",allowDots:(t.options||{}).shouldAllowDots||!1,arrayFormat:(t.options||{}).arrayFormat||"repeat",encodeValuesOnly:(t.options||{}).shouldOnlyEncodeValues||!0}}(e));return`${r}${i}`}(a,r):a},e.decompressGzippedContent=function(t,e){return i(this,void 0,void 0,(function*(){return new Promise(((r,s)=>i(this,void 0,void 0,(function*(){a.gunzip(t,(function(t,i){t?s(t):r(i.toString(e||"utf-8"))}))}))))}))},e.buildProxyBypassRegexFromEnv=function(t){try{return new RegExp(t,"i")}catch(e){if(e instanceof SyntaxError&&(t||"").startsWith("*")){let e=t.replace("*","(.*)");return new RegExp(e,"i")}throw e}},e.obtainContentCharset=function(t){const e=(t.message.headers["content-type"]||"").match(/charset=([^;,\r\n]+)/i);return e&&e[1]&&-1!=["ascii","utf8","utf16le","ucs2","base64","binary","hex"].indexOf(e[1])?e[1]:"utf-8"}},8303:t=>{"use strict";var e=String.prototype.replace,r=/%20/g,i="RFC3986";t.exports={default:i,formatters:{RFC1738:function(t){return e.call(t,r,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:i}},6322:(t,e,r)=>{"use strict";var i=r(2367),s=r(1578),n=r(8303);t.exports={formats:n,parse:s,stringify:i}},1578:(t,e,r)=>{"use strict";var i=r(549),s=Object.prototype.hasOwnProperty,n=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:i.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},l=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,r,i){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(n),c=a?n.slice(0,a.index):n,h=[];if(c){if(!r.plainObjects&&s.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var u=0;r.depth>0&&null!==(a=o.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&s.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(a[1])}return a&&h.push("["+n.slice(a.index)+"]"),function(t,e,r,i){for(var s=i?e:l(e,r),n=t.length-1;n>=0;--n){var o,a=t[n];if("[]"===a&&r.parseArrays)o=[].concat(s);else{o=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,h=parseInt(c,10);r.parseArrays||""!==c?!isNaN(h)&&a!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[])[h]=s:"__proto__"!==c&&(o[c]=s):o={0:s}}s=o}return s}(h,e,r,i)}};t.exports=function(t,e){var r=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||i.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var h="string"==typeof t?function(t,e){var r,c={},h=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,p=h.split(e.delimiter,u),d=-1,f=e.charset;if(e.charsetSentinel)for(r=0;r<p.length;++r)0===p[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===p[r]?f="utf-8":"utf8=%26%2310003%3B"===p[r]&&(f="iso-8859-1"),d=r,r=p.length);for(r=0;r<p.length;++r)if(r!==d){var y,g,m=p[r],v=m.indexOf("]="),w=-1===v?m.indexOf("="):v+1;-1===w?(y=e.decoder(m,o.decoder,f,"key"),g=e.strictNullHandling?null:""):(y=e.decoder(m.slice(0,w),o.decoder,f,"key"),g=i.maybeMap(l(m.slice(w+1),e),(function(t){return e.decoder(t,o.decoder,f,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===f&&(g=a(g)),m.indexOf("[]=")>-1&&(g=n(g)?[g]:g),s.call(c,y)?c[y]=i.combine(c[y],g):c[y]=g}return c}(t,r):t,u=r.plainObjects?Object.create(null):{},p=Object.keys(h),d=0;d<p.length;++d){var f=p[d],y=c(f,h[f],r,"string"==typeof t);u=i.merge(u,y,r)}return!0===r.allowSparse?u:i.compact(u)}},2367:(t,e,r)=>{"use strict";var i=r(7478),s=r(549),n=r(8303),o=Object.prototype.hasOwnProperty,a={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},l=Array.isArray,c=String.prototype.split,h=Array.prototype.push,u=function(t,e){h.apply(t,l(e)?e:[e])},p=Date.prototype.toISOString,d=n.default,f={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:s.encode,encodeValuesOnly:!1,format:d,formatter:n.formatters[d],indices:!1,serializeDate:function(t){return p.call(t)},skipNulls:!1,strictNullHandling:!1},y={},g=function t(e,r,n,o,a,h,p,d,g,m,v,w,E,b,S,O){for(var _,R=e,P=O,A=0,x=!1;void 0!==(P=P.get(y))&&!x;){var T=P.get(e);if(A+=1,void 0!==T){if(T===A)throw new RangeError("Cyclic object value");x=!0}void 0===P.get(y)&&(A=0)}if("function"==typeof d?R=d(r,R):R instanceof Date?R=v(R):"comma"===n&&l(R)&&(R=s.maybeMap(R,(function(t){return t instanceof Date?v(t):t}))),null===R){if(a)return p&&!b?p(r,f.encoder,S,"key",w):r;R=""}if("string"==typeof(_=R)||"number"==typeof _||"boolean"==typeof _||"symbol"==typeof _||"bigint"==typeof _||s.isBuffer(R)){if(p){var I=b?r:p(r,f.encoder,S,"key",w);if("comma"===n&&b){for(var C=c.call(String(R),","),k="",L=0;L<C.length;++L)k+=(0===L?"":",")+E(p(C[L],f.encoder,S,"value",w));return[E(I)+(o&&l(R)&&1===C.length?"[]":"")+"="+k]}return[E(I)+"="+E(p(R,f.encoder,S,"value",w))]}return[E(r)+"="+E(String(R))]}var N,M=[];if(void 0===R)return M;if("comma"===n&&l(R))N=[{value:R.length>0?R.join(",")||null:void 0}];else if(l(d))N=d;else{var $=Object.keys(R);N=g?$.sort(g):$}for(var j=o&&l(R)&&1===R.length?r+"[]":r,D=0;D<N.length;++D){var F=N[D],U="object"==typeof F&&void 0!==F.value?F.value:R[F];if(!h||null!==U){var q=l(R)?"function"==typeof n?n(j,F):j:j+(m?"."+F:"["+F+"]");O.set(e,A);var B=i();B.set(y,O),u(M,t(U,q,n,o,a,h,p,d,g,m,v,w,E,b,S,B))}}return M};t.exports=function(t,e){var r,s=t,c=function(t){if(!t)return f;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||f.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=n.default;if(void 0!==t.format){if(!o.call(n.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var i=n.formatters[r],s=f.filter;return("function"==typeof t.filter||l(t.filter))&&(s=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:f.addQueryPrefix,allowDots:void 0===t.allowDots?f.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:f.charsetSentinel,delimiter:void 0===t.delimiter?f.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:f.encode,encoder:"function"==typeof t.encoder?t.encoder:f.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:f.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:f.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:f.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:f.strictNullHandling}}(e);"function"==typeof c.filter?s=(0,c.filter)("",s):l(c.filter)&&(r=c.filter);var h,p=[];if("object"!=typeof s||null===s)return"";h=e&&e.arrayFormat in a?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var d=a[h];if(e&&"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var y="comma"===d&&e&&e.commaRoundTrip;r||(r=Object.keys(s)),c.sort&&r.sort(c.sort);for(var m=i(),v=0;v<r.length;++v){var w=r[v];c.skipNulls&&null===s[w]||u(p,g(s[w],w,d,y,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,m))}var E=p.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),E.length>0?b+E:""}},549:(t,e,r)=>{"use strict";var i=r(8303),s=Object.prototype.hasOwnProperty,n=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),a=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},i=0;i<t.length;++i)void 0!==t[i]&&(r[i]=t[i]);return r};t.exports={arrayToObject:a,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],i=0;i<e.length;++i)for(var s=e[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var c=a[l],h=o[c];"object"==typeof h&&null!==h&&-1===r.indexOf(h)&&(e.push({obj:o,prop:c}),r.push(h))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(n(r)){for(var i=[],s=0;s<r.length;++s)void 0!==r[s]&&i.push(r[s]);e.obj[e.prop]=i}}}(e),t},decode:function(t,e,r){var i=t.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(t){return i}},encode:function(t,e,r,s,n){if(0===t.length)return t;var a=t;if("symbol"==typeof t?a=Symbol.prototype.toString.call(t):"string"!=typeof t&&(a=String(t)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var l="",c=0;c<a.length;++c){var h=a.charCodeAt(c);45===h||46===h||95===h||126===h||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||n===i.RFC1738&&(40===h||41===h)?l+=a.charAt(c):h<128?l+=o[h]:h<2048?l+=o[192|h>>6]+o[128|63&h]:h<55296||h>=57344?l+=o[224|h>>12]+o[128|h>>6&63]+o[128|63&h]:(c+=1,h=65536+((1023&h)<<10|1023&a.charCodeAt(c)),l+=o[240|h>>18]+o[128|h>>12&63]+o[128|h>>6&63]+o[128|63&h])}return l},isBuffer:function(t){return!(!t||"object"!=typeof t||!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t)))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(n(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(e(t[i]));return r}return e(t)},merge:function t(e,r,i){if(!r)return e;if("object"!=typeof r){if(n(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(i&&(i.plainObjects||i.allowPrototypes)||!s.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var o=e;return n(e)&&!n(r)&&(o=a(e,i)),n(e)&&n(r)?(r.forEach((function(r,n){if(s.call(e,n)){var o=e[n];o&&"object"==typeof o&&r&&"object"==typeof r?e[n]=t(o,r,i):e.push(r)}else e[n]=r})),e):Object.keys(r).reduce((function(e,n){var o=r[n];return s.call(e,n)?e[n]=t(e[n],o,i):e[n]=o,e}),o)}}},5327:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var i=r||0,s=e;return[s[t[i++]],s[t[i++]],s[t[i++]],s[t[i++]],"-",s[t[i++]],s[t[i++]],"-",s[t[i++]],s[t[i++]],"-",s[t[i++]],s[t[i++]],"-",s[t[i++]],s[t[i++]],s[t[i++]],s[t[i++]],s[t[i++]],s[t[i++]]].join("")}},556:(t,e,r)=>{var i=r(6113);t.exports=function(){return i.randomBytes(16)}},1171:(t,e,r)=>{var i=r(556),s=r(5327);t.exports=function(t,e,r){var n=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var o=(t=t||{}).random||(t.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,e)for(var a=0;a<16;++a)e[n+a]=o[a];return e||s(o)}},1283:(t,e,r)=>{var i=r(3837),s=r(1017),n=r(2081).spawn,o="HKLM",a="HKCU",l="HKCR",c="HKCC",h=[o,a,l,"HKU",c],u="REG_SZ",p="REG_MULTI_SZ",d="REG_EXPAND_SZ",f="REG_DWORD",y="REG_QWORD",g="REG_BINARY",m="REG_NONE",v=[u,p,d,f,y,g,m],w=/(\\[a-zA-Z0-9_\s]+)*/,E=/^(HKEY_LOCAL_MACHINE|HKEY_CURRENT_USER|HKEY_CLASSES_ROOT|HKEY_USERS|HKEY_CURRENT_CONFIG)(.*)$/,b=/^(.*)\s(REG_SZ|REG_MULTI_SZ|REG_EXPAND_SZ|REG_DWORD|REG_QWORD|REG_BINARY|REG_NONE)\s+([^\s].*)$/;function S(t,e){if(!(this instanceof S))return new S(t,e);Error.captureStackTrace(this,S),this.__defineGetter__("name",(function(){return S.name})),this.__defineGetter__("message",(function(){return t})),this.__defineGetter__("code",(function(){return e}))}function O(t){var e={stdout:"",stderr:""};return t.stdout.on("data",(function(t){e.stdout+=t.toString()})),t.stderr.on("data",(function(t){e.stderr+=t.toString()})),e}function _(t,e,r){var s=r.stdout.trim(),n=r.stderr.trim();return new S(i.format("%s command exited with code %d:\n%s\n%s",t,e,s,n),e)}function R(t,e){e&&t.push("/reg:"+function(t){if("x64"==t)return"64";if("x86"==t)return"32";throw new Error("illegal architecture: "+t+" (use x86 or x64)")}(e))}function P(){return"win32"===process.platform?s.join(process.env.windir,"system32","reg.exe"):"REG"}function A(t,e,r,i,s,n,o){if(!(this instanceof A))return new A(t,e,r,i,s,n,o);var a=t,l=e,c=r,h=i,u=s,p=n,d=o;this.__defineGetter__("host",(function(){return a})),this.__defineGetter__("hive",(function(){return l})),this.__defineGetter__("key",(function(){return c})),this.__defineGetter__("name",(function(){return h})),this.__defineGetter__("type",(function(){return u})),this.__defineGetter__("value",(function(){return p})),this.__defineGetter__("arch",(function(){return d}))}function x(t){if(!(this instanceof x))return new x(t);var e=t||{},r=""+(e.host||""),i=""+(e.hive||o),s=""+(e.key||""),n=e.arch||null;if(this.__defineGetter__("host",(function(){return r})),this.__defineGetter__("hive",(function(){return i})),this.__defineGetter__("key",(function(){return s})),this.__defineGetter__("path",(function(){return(0==r.length?"":"\\\\"+r+"\\")+i+s})),this.__defineGetter__("arch",(function(){return n})),this.__defineGetter__("parent",(function(){var t=s.lastIndexOf("\\");return new x({host:this.host,hive:this.hive,key:-1==t?"":s.substring(0,t),arch:this.arch})})),-1==h.indexOf(i))throw new Error("illegal hive specified.");if(!w.test(s))throw new Error("illegal key specified.");if(n&&"x64"!=n&&"x86"!=n)throw new Error("illegal architecture specified (use x86 or x64)")}i.inherits(S,Error),i.inherits(A,Object),x.HKLM=o,x.HKCU=a,x.HKCR=l,x.HKU="HKU",x.HKCC=c,x.HIVES=h,x.REG_SZ=u,x.REG_MULTI_SZ=p,x.REG_EXPAND_SZ=d,x.REG_DWORD=f,x.REG_QWORD=y,x.REG_BINARY=g,x.REG_NONE=m,x.REG_TYPES=v,x.DEFAULT_VALUE="",x.prototype.values=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["QUERY",this.path];R(e,this.arch);var r=n(P(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,o=null,a=O(r);return r.on("close",(function(e){if(!o)if(0!==e)t(_("QUERY",e,a),null);else{for(var r=[],n=[],l=i.split("\n"),c=0,h=0,u=l.length;h<u;h++){var p=l[h].trim();p.length>0&&(0!=c&&r.push(p),++c)}for(h=0,u=r.length;h<u;h++){var d,f,y,g=b.exec(r[h]);g&&(d=g[1].trim(),f=g[2].trim(),y=g[3],n.push(new A(s.host,s.hive,s.key,d,f,y,s.arch)))}t(null,n)}})),r.stdout.on("data",(function(t){i+=t.toString()})),r.on("error",(function(e){o=e,t(e)})),this},x.prototype.keys=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["QUERY",this.path];R(e,this.arch);var r=n(P(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i="",s=this,o=null,a=O(r);return r.on("close",(function(e){o||0!==e&&t(_("QUERY",e,a),null)})),r.stdout.on("data",(function(t){i+=t.toString()})),r.stdout.on("end",(function(){for(var e=[],r=[],n=i.split("\n"),o=0,a=n.length;o<a;o++){var l=n[o].trim();l.length>0&&e.push(l)}for(o=0,a=e.length;o<a;o++){var c,h=E.exec(e[o]);h&&(h[1],(c=h[2])&&c!==s.key&&r.push(new x({host:s.host,hive:s.hive,key:c,arch:s.arch})))}t(null,r)})),r.on("error",(function(e){o=e,t(e)})),this},x.prototype.get=function(t,e){if("function"!=typeof e)throw new TypeError("must specify a callback");var r=["QUERY",this.path];""==t?r.push("/ve"):r=r.concat(["/v",t]),R(r,this.arch);var i=n(P(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),s="",o=this,a=null,l=O(i);return i.on("close",(function(t){if(!a)if(0!==t)e(_("QUERY",t,l),null);else{for(var r=[],i=null,n=s.split("\n"),c=0,h=0,u=n.length;h<u;h++){var p=n[h].trim();p.length>0&&(0!=c&&r.push(p),++c)}var d,f,y,g=r[r.length-1]||"",m=b.exec(g);m&&(d=m[1].trim(),f=m[2].trim(),y=m[3],i=new A(o.host,o.hive,o.key,d,f,y,o.arch)),e(null,i)}})),i.stdout.on("data",(function(t){s+=t.toString()})),i.on("error",(function(t){a=t,e(t)})),this},x.prototype.set=function(t,e,r,i){if("function"!=typeof i)throw new TypeError("must specify a callback");if(-1==v.indexOf(e))throw Error("illegal type specified.");var s=["ADD",this.path];""==t?s.push("/ve"):s=s.concat(["/v",t]),R(s=s.concat(["/t",e,"/d",r,"/f"]),this.arch);var o=n(P(),s,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),a=null,l=O(o);return o.on("close",(function(t){a||i(0!==t?_("ADD",t,l):null)})),o.stdout.on("data",(function(t){})),o.on("error",(function(t){a=t,i(t)})),this},x.prototype.remove=function(t,e){if("function"!=typeof e)throw new TypeError("must specify a callback");var r=t?["DELETE",this.path,"/f","/v",t]:["DELETE",this.path,"/f","/ve"];R(r,this.arch);var i=n(P(),r,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),s=null,o=O(i);return i.on("close",(function(t){s||(0!==t?e(_("DELETE",t,o),null):e(null))})),i.stdout.on("data",(function(t){})),i.on("error",(function(t){s=t,e(t)})),this},x.prototype.clear=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["DELETE",this.path,"/f","/va"];R(e,this.arch);var r=n(P(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=O(r);return r.on("close",(function(e){i||(0!==e?t(_("DELETE",e,s),null):t(null))})),r.stdout.on("data",(function(t){})),r.on("error",(function(e){i=e,t(e)})),this},x.prototype.erase=x.prototype.clear,x.prototype.destroy=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["DELETE",this.path,"/f"];R(e,this.arch);var r=n(P(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=O(r);return r.on("close",(function(e){i||(0!==e?t(_("DELETE",e,s),null):t(null))})),r.stdout.on("data",(function(t){})),r.on("error",(function(e){i=e,t(e)})),this},x.prototype.create=function(t){if("function"!=typeof t)throw new TypeError("must specify a callback");var e=["ADD",this.path,"/f"];R(e,this.arch);var r=n(P(),e,{cwd:void 0,env:process.env,stdio:["ignore","pipe","pipe"]}),i=null,s=O(r);return r.on("close",(function(e){i||(0!==e?t(_("ADD",e,s),null):t(null))})),r.stdout.on("data",(function(t){})),r.on("error",(function(e){i=e,t(e)})),this},x.prototype.keyExists=function(t){return this.values((function(e,r){if(e)return 1==e.code?t(null,!1):t(e);t(null,!0)})),this},x.prototype.valueExists=function(t,e){return this.get(t,(function(t,r){if(t)return 1==t.code?e(null,!1):e(t);e(null,!0)})),this},t.exports=x},9491:t=>{"use strict";t.exports=require("assert")},2081:t=>{"use strict";t.exports=require("child_process")},6113:t=>{"use strict";t.exports=require("crypto")},2361:t=>{"use strict";t.exports=require("events")},7147:t=>{"use strict";t.exports=require("fs")},3685:t=>{"use strict";t.exports=require("http")},5687:t=>{"use strict";t.exports=require("https")},1808:t=>{"use strict";t.exports=require("net")},5673:t=>{"use strict";t.exports=require("node:events")},7561:t=>{"use strict";t.exports=require("node:fs")},3977:t=>{"use strict";t.exports=require("node:fs/promises")},9411:t=>{"use strict";t.exports=require("node:path")},4492:t=>{"use strict";t.exports=require("node:stream")},6915:t=>{"use strict";t.exports=require("node:string_decoder")},1041:t=>{"use strict";t.exports=require("node:url")},2037:t=>{"use strict";t.exports=require("os")},1017:t=>{"use strict";t.exports=require("path")},2781:t=>{"use strict";t.exports=require("stream")},4404:t=>{"use strict";t.exports=require("tls")},7310:t=>{"use strict";t.exports=require("url")},3837:t=>{"use strict";t.exports=require("util")},9796:t=>{"use strict";t.exports=require("zlib")},9978:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Glob=void 0;const i=r(5152),s=r(2917),n=r(1041),o=r(1087),a=r(553),l="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";class c{absolute;cwd;root;dot;dotRelative;follow;ignore;magicalBraces;mark;matchBase;maxDepth;nobrace;nocase;nodir;noext;noglobstar;pattern;platform;realpath;scurry;stat;signal;windowsPathsNoEscape;withFileTypes;opts;patterns;constructor(t,e){if(!e)throw new TypeError("glob options required");if(this.withFileTypes=!!e.withFileTypes,this.signal=e.signal,this.follow=!!e.follow,this.dot=!!e.dot,this.dotRelative=!!e.dotRelative,this.nodir=!!e.nodir,this.mark=!!e.mark,e.cwd?(e.cwd instanceof URL||e.cwd.startsWith("file://"))&&(e.cwd=(0,n.fileURLToPath)(e.cwd)):this.cwd="",this.cwd=e.cwd||"",this.root=e.root,this.magicalBraces=!!e.magicalBraces,this.nobrace=!!e.nobrace,this.noext=!!e.noext,this.realpath=!!e.realpath,this.absolute=e.absolute,this.noglobstar=!!e.noglobstar,this.matchBase=!!e.matchBase,this.maxDepth="number"==typeof e.maxDepth?e.maxDepth:1/0,this.stat=!!e.stat,this.ignore=e.ignore,this.withFileTypes&&void 0!==this.absolute)throw new Error("cannot set absolute and withFileTypes:true");if("string"==typeof t&&(t=[t]),this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(t=t.map((t=>t.replace(/\\/g,"/")))),this.matchBase){if(e.noglobstar)throw new TypeError("base matching requires globstar");t=t.map((t=>t.includes("/")?t:`./**/${t}`))}if(this.pattern=t,this.platform=e.platform||l,this.opts={...e,platform:this.platform},e.scurry){if(this.scurry=e.scurry,void 0!==e.nocase&&e.nocase!==e.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const t="win32"===e.platform?s.PathScurryWin32:"darwin"===e.platform?s.PathScurryDarwin:e.platform?s.PathScurryPosix:s.PathScurry;this.scurry=new t(this.cwd,{nocase:e.nocase,fs:e.fs})}this.nocase=this.scurry.nocase;const r="darwin"===this.platform||"win32"===this.platform,a={...e,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:r,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},c=this.pattern.map((t=>new i.Minimatch(t,a))),[h,u]=c.reduce(((t,e)=>(t[0].push(...e.set),t[1].push(...e.globParts),t)),[[],[]]);this.patterns=h.map(((t,e)=>{const r=u[e];if(!r)throw new Error("invalid pattern object");return new o.Pattern(t,r,0,this.platform)}))}async walk(){return[...await new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walk()]}walkSync(){return[...new a.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).walkSync()]}stream(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).stream()}streamSync(){return new a.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}e.Glob=c},9808:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasMagic=void 0;const i=r(5152);e.hasMagic=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new i.Minimatch(r,e).hasMagic())return!0;return!1}},314:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Ignore=void 0;const i=r(5152),s=r(1087),n="object"==typeof process&&process&&"string"==typeof process.platform?process.platform:"linux";e.Ignore=class{relative;relativeChildren;absolute;absoluteChildren;constructor(t,{nobrace:e,nocase:r,noext:o,noglobstar:a,platform:l=n}){this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[];const c={dot:!0,nobrace:e,nocase:r,noext:o,noglobstar:a,optimizationLevel:2,platform:l,nocomment:!0,nonegate:!0};for(const e of t){const t=new i.Minimatch(e,c);for(let e=0;e<t.set.length;e++){const r=t.set[e],n=t.globParts[e];if(!r||!n)throw new Error("invalid pattern object");for(;"."===r[0]&&"."===n[0];)r.shift(),n.shift();const o=new s.Pattern(r,n,0,l),a=new i.Minimatch(o.globString(),c),h="**"===n[n.length-1],u=o.isAbsolute();u?this.absolute.push(a):this.relative.push(a),h&&(u?this.absoluteChildren.push(a):this.relativeChildren.push(a))}}}ignored(t){const e=t.fullpath(),r=`${e}/`,i=t.relative()||".",s=`${i}/`;for(const t of this.relative)if(t.match(i)||t.match(s))return!0;for(const t of this.absolute)if(t.match(e)||t.match(r))return!0;return!1}childrenIgnored(t){const e=t.fullpath()+"/",r=(t.relative()||".")+"/";for(const t of this.relativeChildren)if(t.match(r))return!0;for(const t of this.absoluteChildren)if(t.match(e))return!0;return!1}}},7824:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.glob=e.hasMagic=e.Glob=e.unescape=e.escape=e.sync=e.iterate=e.iterateSync=e.stream=e.streamSync=e.globIterate=e.globIterateSync=e.globSync=e.globStream=e.globStreamSync=void 0;const i=r(5152),s=r(9978),n=r(9808);function o(t,e={}){return new s.Glob(t,e).streamSync()}function a(t,e={}){return new s.Glob(t,e).stream()}function l(t,e={}){return new s.Glob(t,e).walkSync()}async function c(t,e={}){return new s.Glob(t,e).walk()}function h(t,e={}){return new s.Glob(t,e).iterateSync()}function u(t,e={}){return new s.Glob(t,e).iterate()}e.globStreamSync=o,e.globStream=a,e.globSync=l,e.globIterateSync=h,e.globIterate=u,e.streamSync=o,e.stream=Object.assign(a,{sync:o}),e.iterateSync=h,e.iterate=Object.assign(u,{sync:h}),e.sync=Object.assign(l,{stream:o,iterate:h});var p=r(5152);Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return p.escape}}),Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return p.unescape}});var d=r(9978);Object.defineProperty(e,"Glob",{enumerable:!0,get:function(){return d.Glob}});var f=r(9808);Object.defineProperty(e,"hasMagic",{enumerable:!0,get:function(){return f.hasMagic}}),e.glob=Object.assign(c,{glob:c,globSync:l,sync:e.sync,globStream:a,stream:e.stream,globStreamSync:o,streamSync:e.streamSync,globIterate:u,iterate:e.iterate,globIterateSync:h,iterateSync:e.iterateSync,Glob:s.Glob,hasMagic:n.hasMagic,escape:i.escape,unescape:i.unescape}),e.glob.glob=e.glob},1087:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Pattern=void 0;const i=r(5152);class s{#t;#e;#r;length;#i;#s;#n;#o;#a;#l;#c=!0;constructor(t,e,r,i){if(!(t.length>=1))throw new TypeError("empty pattern list");if(!(e.length>=1))throw new TypeError("empty glob list");if(e.length!==t.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=t.length,r<0||r>=this.length)throw new TypeError("index out of range");if(this.#t=t,this.#e=e,this.#r=r,this.#i=i,0===this.#r)if(this.isUNC()){const[t,e,r,i,...s]=this.#t,[n,o,a,l,...c]=this.#e;""===s[0]&&(s.shift(),c.shift());const h=[t,e,r,i,""].join("/"),u=[n,o,a,l,""].join("/");this.#t=[h,...s],this.#e=[u,...c],this.length=this.#t.length}else if(this.isDrive()||this.isAbsolute()){const[t,...e]=this.#t,[r,...i]=this.#e;""===e[0]&&(e.shift(),i.shift());const s=t+"/",n=r+"/";this.#t=[s,...e],this.#e=[n,...i],this.length=this.#t.length}}pattern(){return this.#t[this.#r]}isString(){return"string"==typeof this.#t[this.#r]}isGlobstar(){return this.#t[this.#r]===i.GLOBSTAR}isRegExp(){return this.#t[this.#r]instanceof RegExp}globString(){return this.#n=this.#n||(0===this.#r?this.isAbsolute()?this.#e[0]+this.#e.slice(1).join("/"):this.#e.join("/"):this.#e.slice(this.#r).join("/"))}hasMore(){return this.length>this.#r+1}rest(){return void 0!==this.#s?this.#s:this.hasMore()?(this.#s=new s(this.#t,this.#e,this.#r+1,this.#i),this.#s.#l=this.#l,this.#s.#a=this.#a,this.#s.#o=this.#o,this.#s):this.#s=null}isUNC(){const t=this.#t;return void 0!==this.#a?this.#a:this.#a="win32"===this.#i&&0===this.#r&&""===t[0]&&""===t[1]&&"string"==typeof t[2]&&!!t[2]&&"string"==typeof t[3]&&!!t[3]}isDrive(){const t=this.#t;return void 0!==this.#o?this.#o:this.#o="win32"===this.#i&&0===this.#r&&this.length>1&&"string"==typeof t[0]&&/^[a-z]:$/i.test(t[0])}isAbsolute(){const t=this.#t;return void 0!==this.#l?this.#l:this.#l=""===t[0]&&t.length>1||this.isDrive()||this.isUNC()}root(){const t=this.#t[0];return"string"==typeof t&&this.isAbsolute()&&0===this.#r?t:""}checkFollowGlobstar(){return!(0===this.#r||!this.isGlobstar()||!this.#c)}markFollowGlobstar(){return!(0===this.#r||!this.isGlobstar()||!this.#c||(this.#c=!1,0))}}e.Pattern=s},6441:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Processor=e.SubWalks=e.MatchRecord=e.HasWalkedCache=void 0;const i=r(5152);class s{store;constructor(t=new Map){this.store=t}copy(){return new s(new Map(this.store))}hasWalked(t,e){return this.store.get(t.fullpath())?.has(e.globString())}storeWalked(t,e){const r=t.fullpath(),i=this.store.get(r);i?i.add(e.globString()):this.store.set(r,new Set([e.globString()]))}}e.HasWalkedCache=s;class n{store=new Map;add(t,e,r){const i=(e?2:0)|(r?1:0),s=this.store.get(t);this.store.set(t,void 0===s?i:i&s)}entries(){return[...this.store.entries()].map((([t,e])=>[t,!!(2&e),!!(1&e)]))}}e.MatchRecord=n;class o{store=new Map;add(t,e){if(!t.canReaddir())return;const r=this.store.get(t);r?r.find((t=>t.globString()===e.globString()))||r.push(e):this.store.set(t,[e])}get(t){const e=this.store.get(t);if(!e)throw new Error("attempting to walk unknown path");return e}entries(){return this.keys().map((t=>[t,this.store.get(t)]))}keys(){return[...this.store.keys()].filter((t=>t.canReaddir()))}}e.SubWalks=o;class a{hasWalkedCache;matches=new n;subwalks=new o;patterns;follow;dot;opts;constructor(t,e){this.opts=t,this.follow=!!t.follow,this.dot=!!t.dot,this.hasWalkedCache=e?e.copy():new s}processPatterns(t,e){this.patterns=e;const r=e.map((e=>[t,e]));for(let[t,e]of r){this.hasWalkedCache.storeWalked(t,e);const r=e.root(),s=e.isAbsolute()&&!1!==this.opts.absolute;if(r){t=t.resolve("/"===r&&void 0!==this.opts.root?this.opts.root:r);const i=e.rest();if(!i){this.matches.add(t,!0,!1);continue}e=i}if(t.isENOENT())continue;let n,o,a=!1;for(;"string"==typeof(n=e.pattern())&&(o=e.rest());){const r=t.resolve(n);t=r,e=o,a=!0}if(n=e.pattern(),o=e.rest(),a){if(this.hasWalkedCache.hasWalked(t,e))continue;this.hasWalkedCache.storeWalked(t,e)}if("string"!=typeof n)if(n===i.GLOBSTAR){(!t.isSymbolicLink()||this.follow||e.checkFollowGlobstar())&&this.subwalks.add(t,e);const r=o?.pattern(),i=o?.rest();if(o&&(""!==r&&"."!==r||i)){if(".."===r){const e=t.parent||t;i?this.hasWalkedCache.hasWalked(e,i)||this.subwalks.add(e,i):this.matches.add(e,s,!0)}}else this.matches.add(t,s,""===r||"."===r)}else n instanceof RegExp&&this.subwalks.add(t,e);else{const e=".."===n||""===n||"."===n;this.matches.add(t.resolve(n),s,e)}}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new a(this.opts,this.hasWalkedCache)}filterEntries(t,e){const r=this.subwalks.get(t),s=this.child();for(const t of e)for(const e of r){const r=e.isAbsolute(),n=e.pattern(),o=e.rest();n===i.GLOBSTAR?s.testGlobstar(t,e,o,r):n instanceof RegExp?s.testRegExp(t,n,o,r):s.testString(t,n,o,r)}return s}testGlobstar(t,e,r,i){if(!this.dot&&t.name.startsWith(".")||(e.hasMore()||this.matches.add(t,i,!1),t.canReaddir()&&(this.follow||!t.isSymbolicLink()?this.subwalks.add(t,e):t.isSymbolicLink()&&(r&&e.checkFollowGlobstar()?this.subwalks.add(t,r):e.markFollowGlobstar()&&this.subwalks.add(t,e)))),r){const e=r.pattern();if("string"==typeof e&&".."!==e&&""!==e&&"."!==e)this.testString(t,e,r.rest(),i);else if(".."===e){const e=t.parent||t;this.subwalks.add(e,r)}else e instanceof RegExp&&this.testRegExp(t,e,r.rest(),i)}}testRegExp(t,e,r,i){e.test(t.name)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}testString(t,e,r,i){t.isNamed(e)&&(r?this.subwalks.add(t,r):this.matches.add(t,i,!1))}}e.Processor=a},553:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobStream=e.GlobWalker=e.GlobUtil=void 0;const i=r(1938),s=r(314),n=r(6441);class o{path;patterns;opts;seen=new Set;paused=!1;aborted=!1;#h=[];#u;#p;signal;maxDepth;constructor(t,e,r){this.patterns=t,this.path=e,this.opts=r,this.#p=r.posix||"win32"!==r.platform?"/":"\\",r.ignore&&(this.#u=((t,e)=>"string"==typeof t?new s.Ignore([t],e):Array.isArray(t)?new s.Ignore(t,e):t)(r.ignore,r)),this.maxDepth=r.maxDepth||1/0,r.signal&&(this.signal=r.signal,this.signal.addEventListener("abort",(()=>{this.#h.length=0})))}#d(t){return this.seen.has(t)||!!this.#u?.ignored?.(t)}#f(t){return!!this.#u?.childrenIgnored?.(t)}pause(){this.paused=!0}resume(){if(this.signal?.aborted)return;let t;for(this.paused=!1;!this.paused&&(t=this.#h.shift());)t()}onResume(t){this.signal?.aborted||(this.paused?this.#h.push(t):t())}async matchCheck(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||await t.realpath(),!r)return;t=r}const i=t.isUnknown()||this.opts.stat?await t.lstat():t;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const t=await i.realpath();t&&(t.isUnknown()||this.opts.stat)&&await t.lstat()}return this.matchCheckTest(i,e)}matchCheckTest(t,e){return!t||!(this.maxDepth===1/0||t.depth()<=this.maxDepth)||e&&!t.canReaddir()||this.opts.nodir&&t.isDirectory()||this.opts.nodir&&this.opts.follow&&t.isSymbolicLink()&&t.realpathCached()?.isDirectory()||this.#d(t)?void 0:t}matchCheckSync(t,e){if(e&&this.opts.nodir)return;let r;if(this.opts.realpath){if(r=t.realpathCached()||t.realpathSync(),!r)return;t=r}const i=t.isUnknown()||this.opts.stat?t.lstatSync():t;if(this.opts.follow&&this.opts.nodir&&i?.isSymbolicLink()){const t=i.realpathSync();t&&(t?.isUnknown()||this.opts.stat)&&t.lstatSync()}return this.matchCheckTest(i,e)}matchFinish(t,e){if(this.#d(t))return;const r=void 0===this.opts.absolute?e:this.opts.absolute;this.seen.add(t);const i=this.opts.mark&&t.isDirectory()?this.#p:"";if(this.opts.withFileTypes)this.matchEmit(t);else if(r){const e=this.opts.posix?t.fullpathPosix():t.fullpath();this.matchEmit(e+i)}else{const e=this.opts.posix?t.relativePosix():t.relative(),r=this.opts.dotRelative&&!e.startsWith(".."+this.#p)?"."+this.#p:"";this.matchEmit(e?r+e+i:"."+i)}}async match(t,e,r){const i=await this.matchCheck(t,r);i&&this.matchFinish(i,e)}matchSync(t,e,r){const i=this.matchCheckSync(t,r);i&&this.matchFinish(i,e)}walkCB(t,e,r){this.signal?.aborted&&r(),this.walkCB2(t,e,new n.Processor(this.opts),r)}walkCB2(t,e,r,i){if(this.#f(t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2(t,e,r,i)));r.processPatterns(t,e);let s=1;const n=()=>{0==--s&&i()};for(const[t,e,i]of r.matches.entries())this.#d(t)||(s++,this.match(t,e,i).then((()=>n())));for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;s++;const e=t.readdirCached();t.calledReaddir()?this.walkCB3(t,e,r,n):t.readdirCB(((e,i)=>this.walkCB3(t,i,r,n)),!0)}n()}walkCB3(t,e,r,i){r=r.filterEntries(t,e);let s=1;const n=()=>{0==--s&&i()};for(const[t,e,i]of r.matches.entries())this.#d(t)||(s++,this.match(t,e,i).then((()=>n())));for(const[t,e]of r.subwalks.entries())s++,this.walkCB2(t,e,r.child(),n);n()}walkCBSync(t,e,r){this.signal?.aborted&&r(),this.walkCB2Sync(t,e,new n.Processor(this.opts),r)}walkCB2Sync(t,e,r,i){if(this.#f(t))return i();if(this.signal?.aborted&&i(),this.paused)return void this.onResume((()=>this.walkCB2Sync(t,e,r,i)));r.processPatterns(t,e);let s=1;const n=()=>{0==--s&&i()};for(const[t,e,i]of r.matches.entries())this.#d(t)||this.matchSync(t,e,i);for(const t of r.subwalkTargets()){if(this.maxDepth!==1/0&&t.depth()>=this.maxDepth)continue;s++;const e=t.readdirSync();this.walkCB3Sync(t,e,r,n)}n()}walkCB3Sync(t,e,r,i){r=r.filterEntries(t,e);let s=1;const n=()=>{0==--s&&i()};for(const[t,e,i]of r.matches.entries())this.#d(t)||this.matchSync(t,e,i);for(const[t,e]of r.subwalks.entries())s++,this.walkCB2Sync(t,e,r.child(),n);n()}}e.GlobUtil=o,e.GlobWalker=class extends o{matches;constructor(t,e,r){super(t,e,r),this.matches=new Set}matchEmit(t){this.matches.add(t)}async walk(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise(((t,e)=>{this.walkCB(this.path,this.patterns,(()=>{this.signal?.aborted?e(this.signal.reason):t(this.matches)}))})),this.matches}walkSync(){if(this.signal?.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>{if(this.signal?.aborted)throw this.signal.reason})),this.matches}},e.GlobStream=class extends o{results;constructor(t,e,r){super(t,e,r),this.results=new i.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",(()=>this.resume())),this.results.on("resume",(()=>this.resume()))}matchEmit(t){this.results.write(t),this.results.flowing||this.pause()}stream(){const t=this.path;return t.isUnknown()?t.lstat().then((()=>{this.walkCB(t,this.patterns,(()=>this.results.end()))})):this.walkCB(t,this.patterns,(()=>this.results.end())),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,(()=>this.results.end())),this.results}}},3319:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertValidPattern=void 0,e.assertValidPattern=t=>{if("string"!=typeof t)throw new TypeError("invalid pattern");if(t.length>65536)throw new TypeError("pattern is too long")}},3548:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AST=void 0;const i=r(6711),s=r(2027),n=new Set(["!","?","+","*","@"]),o=t=>n.has(t),a="(?!\\.)",l=new Set(["[","."]),c=new Set(["..","."]),h=new Set("().*{}+?[]^$\\!"),u="[^/]*?",p="[^/]+?";class d{type;#y;#g;#m=!1;#v=[];#w;#E;#b;#S=!1;#O;#_;#R=!1;constructor(t,e,r={}){this.type=t,t&&(this.#g=!0),this.#w=e,this.#y=this.#w?this.#w.#y:this,this.#O=this.#y===this?r:this.#y.#O,this.#b=this.#y===this?[]:this.#y.#b,"!"!==t||this.#y.#S||this.#b.push(this),this.#E=this.#w?this.#w.#v.length:0}get hasMagic(){if(void 0!==this.#g)return this.#g;for(const t of this.#v)if("string"!=typeof t&&(t.type||t.hasMagic))return this.#g=!0;return this.#g}toString(){return void 0!==this.#_?this.#_:this.type?this.#_=this.type+"("+this.#v.map((t=>String(t))).join("|")+")":this.#_=this.#v.map((t=>String(t))).join("")}#P(){if(this!==this.#y)throw new Error("should only call on root");if(this.#S)return this;let t;for(this.toString(),this.#S=!0;t=this.#b.pop();){if("!"!==t.type)continue;let e=t,r=e.#w;for(;r;){for(let i=e.#E+1;!r.type&&i<r.#v.length;i++)for(const e of t.#v){if("string"==typeof e)throw new Error("string part in extglob AST??");e.copyIn(r.#v[i])}e=r,r=e.#w}}return this}push(...t){for(const e of t)if(""!==e){if("string"!=typeof e&&!(e instanceof d&&e.#w===this))throw new Error("invalid part: "+e);this.#v.push(e)}}toJSON(){const t=null===this.type?this.#v.slice().map((t=>"string"==typeof t?t:t.toJSON())):[this.type,...this.#v.map((t=>t.toJSON()))];return this.isStart()&&!this.type&&t.unshift([]),this.isEnd()&&(this===this.#y||this.#y.#S&&"!"===this.#w?.type)&&t.push({}),t}isStart(){if(this.#y===this)return!0;if(!this.#w?.isStart())return!1;if(0===this.#E)return!0;const t=this.#w;for(let e=0;e<this.#E;e++){const r=t.#v[e];if(!(r instanceof d&&"!"===r.type))return!1}return!0}isEnd(){if(this.#y===this)return!0;if("!"===this.#w?.type)return!0;if(!this.#w?.isEnd())return!1;if(!this.type)return this.#w?.isEnd();const t=this.#w?this.#w.#v.length:0;return this.#E===t-1}copyIn(t){"string"==typeof t?this.push(t):this.push(t.clone(this))}clone(t){const e=new d(this.type,t);for(const t of this.#v)e.copyIn(t);return e}static#A(t,e,r,i){let s=!1,n=!1,a=-1,l=!1;if(null===e.type){let c=r,h="";for(;c<t.length;){const r=t.charAt(c++);if(s||"\\"===r)s=!s,h+=r;else if(n)c===a+1?"^"!==r&&"!"!==r||(l=!0):"]"!==r||c===a+2&&l||(n=!1),h+=r;else if("["!==r)if(i.noext||!o(r)||"("!==t.charAt(c))h+=r;else{e.push(h),h="";const s=new d(r,e);c=d.#A(t,s,c,i),e.push(s)}else n=!0,a=c,l=!1,h+=r}return e.push(h),c}let c=r+1,h=new d(null,e);const u=[];let p="";for(;c<t.length;){const r=t.charAt(c++);if(s||"\\"===r)s=!s,p+=r;else if(n)c===a+1?"^"!==r&&"!"!==r||(l=!0):"]"!==r||c===a+2&&l||(n=!1),p+=r;else if("["!==r)if(o(r)&&"("===t.charAt(c)){h.push(p),p="";const e=new d(r,h);h.push(e),c=d.#A(t,e,c,i)}else if("|"!==r){if(")"===r)return""===p&&0===e.#v.length&&(e.#R=!0),h.push(p),p="",e.push(...u,h),c;p+=r}else h.push(p),p="",u.push(h),h=new d(null,e);else n=!0,a=c,l=!1,p+=r}return e.type=null,e.#g=void 0,e.#v=[t.substring(r-1)],c}static fromGlob(t,e={}){const r=new d(null,void 0,e);return d.#A(t,r,0,e),r}toMMPattern(){if(this!==this.#y)return this.#y.toMMPattern();const t=this.toString(),[e,r,i,s]=this.toRegExpSource();if(!(i||this.#g||this.#O.nocase&&!this.#O.nocaseMagicOnly&&t.toUpperCase()!==t.toLowerCase()))return r;const n=(this.#O.nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${e}$`,n),{_src:e,_glob:t})}get options(){return this.#O}toRegExpSource(t){const e=t??!!this.#O.dot;if(this.#y===this&&this.#P(),!this.type){const r=this.isStart()&&this.isEnd(),i=this.#v.map((e=>{const[i,s,n,o]="string"==typeof e?d.#x(e,this.#g,r):e.toRegExpSource(t);return this.#g=this.#g||n,this.#m=this.#m||o,i})).join("");let n="";if(this.isStart()&&"string"==typeof this.#v[0]&&(1!==this.#v.length||!c.has(this.#v[0]))){const r=l,s=e&&r.has(i.charAt(0))||i.startsWith("\\.")&&r.has(i.charAt(2))||i.startsWith("\\.\\.")&&r.has(i.charAt(4)),o=!e&&!t&&r.has(i.charAt(0));n=s?"(?!(?:^|/)\\.\\.?(?:$|/))":o?a:""}let o="";return this.isEnd()&&this.#y.#S&&"!"===this.#w?.type&&(o="(?:$|\\/)"),[n+i+o,(0,s.unescape)(i),this.#g=!!this.#g,this.#m]}const r="*"===this.type||"+"===this.type,i="!"===this.type?"(?:(?!(?:":"(?:";let n=this.#T(e);if(this.isStart()&&this.isEnd()&&!n&&"!"!==this.type){const t=this.toString();return this.#v=[t],this.type=null,this.#g=void 0,[t,(0,s.unescape)(this.toString()),!1,!1]}let o=!r||t||e?"":this.#T(!0);o===n&&(o=""),o&&(n=`(?:${n})(?:${o})*?`);let h="";return h="!"===this.type&&this.#R?(this.isStart()&&!e?a:"")+p:i+n+("!"===this.type?"))"+(!this.isStart()||e||t?"":a)+u+")":"@"===this.type?")":"?"===this.type?")?":"+"===this.type&&o?")":"*"===this.type&&o?")?":`)${this.type}`),[h,(0,s.unescape)(n),this.#g=!!this.#g,this.#m]}#T(t){return this.#v.map((e=>{if("string"==typeof e)throw new Error("string type in extglob ast??");const[r,i,s,n]=e.toRegExpSource(t);return this.#m=this.#m||n,r})).filter((t=>!(this.isStart()&&this.isEnd()&&!t))).join("|")}static#x(t,e,r=!1){let n=!1,o="",a=!1;for(let s=0;s<t.length;s++){const l=t.charAt(s);if(n)n=!1,o+=(h.has(l)?"\\":"")+l;else if("\\"!==l){if("["===l){const[r,n,l,c]=(0,i.parseClass)(t,s);if(l){o+=r,a=a||n,s+=l-1,e=e||c;continue}}"*"!==l?"?"!==l?o+=l.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+="[^/]",e=!0):(o+=r&&"*"===t?p:u,e=!0)}else s===t.length-1?o+="\\\\":n=!0}return[o,(0,s.unescape)(t),!!e,a]}}e.AST=d},6711:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseClass=void 0;const r={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},i=t=>t.replace(/[[\]\\-]/g,"\\$&"),s=t=>t.join("");e.parseClass=(t,e)=>{const n=e;if("["!==t.charAt(n))throw new Error("not in a brace expression");const o=[],a=[];let l=n+1,c=!1,h=!1,u=!1,p=!1,d=n,f="";t:for(;l<t.length;){const e=t.charAt(l);if("!"!==e&&"^"!==e||l!==n+1){if("]"===e&&c&&!u){d=l+1;break}if(c=!0,"\\"!==e||u){if("["===e&&!u)for(const[e,[i,s,c]]of Object.entries(r))if(t.startsWith(e,l)){if(f)return["$.",!1,t.length-n,!0];l+=e.length,c?a.push(i):o.push(i),h=h||s;continue t}u=!1,f?(e>f?o.push(i(f)+"-"+i(e)):e===f&&o.push(i(e)),f="",l++):t.startsWith("-]",l+1)?(o.push(i(e+"-")),l+=2):t.startsWith("-",l+1)?(f=e,l+=2):(o.push(i(e)),l++)}else u=!0,l++}else p=!0,l++}if(d<l)return["",!1,0,!1];if(!o.length&&!a.length)return["$.",!1,t.length-n,!0];if(0===a.length&&1===o.length&&/^\\?.$/.test(o[0])&&!p){return[(y=2===o[0].length?o[0].slice(-1):o[0],y.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,d-n,!1]}var y;const g="["+(p?"^":"")+s(o)+"]",m="["+(p?"":"^")+s(a)+"]";return[o.length&&a.length?"("+g+"|"+m+")":o.length?g:m,h,d-n,!0]}},9789:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escape=void 0,e.escape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&")},5152:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=e.escape=e.AST=e.Minimatch=e.match=e.makeRe=e.braceExpand=e.defaults=e.filter=e.GLOBSTAR=e.sep=e.minimatch=void 0;const s=i(r(5146)),n=r(3319),o=r(3548),a=r(9789),l=r(2027);e.minimatch=(t,e,r={})=>((0,n.assertValidPattern)(e),!(!r.nocomment&&"#"===e.charAt(0))&&new k(e,r).match(t));const c=/^\*+([^+@!?\*\[\(]*)$/,h=t=>e=>!e.startsWith(".")&&e.endsWith(t),u=t=>e=>e.endsWith(t),p=t=>(t=t.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(t)),d=t=>(t=t.toLowerCase(),e=>e.toLowerCase().endsWith(t)),f=/^\*+\.\*+$/,y=t=>!t.startsWith(".")&&t.includes("."),g=t=>"."!==t&&".."!==t&&t.includes("."),m=/^\.\*+$/,v=t=>"."!==t&&".."!==t&&t.startsWith("."),w=/^\*+$/,E=t=>0!==t.length&&!t.startsWith("."),b=t=>0!==t.length&&"."!==t&&".."!==t,S=/^\?+([^+@!?\*\[\(]*)?$/,O=([t,e=""])=>{const r=A([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},_=([t,e=""])=>{const r=x([t]);return e?(e=e.toLowerCase(),t=>r(t)&&t.toLowerCase().endsWith(e)):r},R=([t,e=""])=>{const r=x([t]);return e?t=>r(t)&&t.endsWith(e):r},P=([t,e=""])=>{const r=A([t]);return e?t=>r(t)&&t.endsWith(e):r},A=([t])=>{const e=t.length;return t=>t.length===e&&!t.startsWith(".")},x=([t])=>{const e=t.length;return t=>t.length===e&&"."!==t&&".."!==t},T="object"==typeof process&&process?"object"==typeof process.env&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix";e.sep="win32"===T?"\\":"/",e.minimatch.sep=e.sep,e.GLOBSTAR=Symbol("globstar **"),e.minimatch.GLOBSTAR=e.GLOBSTAR,e.filter=(t,r={})=>i=>(0,e.minimatch)(i,t,r),e.minimatch.filter=e.filter;const I=(t,e={})=>Object.assign({},t,e);e.defaults=t=>{if(!t||"object"!=typeof t||!Object.keys(t).length)return e.minimatch;const r=e.minimatch;return Object.assign(((e,i,s={})=>r(e,i,I(t,s))),{Minimatch:class extends r.Minimatch{constructor(e,r={}){super(e,I(t,r))}static defaults(e){return r.defaults(I(t,e)).Minimatch}},AST:class extends r.AST{constructor(e,r,i={}){super(e,r,I(t,i))}static fromGlob(e,i={}){return r.AST.fromGlob(e,I(t,i))}},unescape:(e,i={})=>r.unescape(e,I(t,i)),escape:(e,i={})=>r.escape(e,I(t,i)),filter:(e,i={})=>r.filter(e,I(t,i)),defaults:e=>r.defaults(I(t,e)),makeRe:(e,i={})=>r.makeRe(e,I(t,i)),braceExpand:(e,i={})=>r.braceExpand(e,I(t,i)),match:(e,i,s={})=>r.match(e,i,I(t,s)),sep:r.sep,GLOBSTAR:e.GLOBSTAR})},e.minimatch.defaults=e.defaults,e.braceExpand=(t,e={})=>((0,n.assertValidPattern)(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:(0,s.default)(t)),e.minimatch.braceExpand=e.braceExpand,e.makeRe=(t,e={})=>new k(t,e).makeRe(),e.minimatch.makeRe=e.makeRe,e.match=(t,e,r={})=>{const i=new k(e,r);return t=t.filter((t=>i.match(t))),i.options.nonull&&!t.length&&t.push(e),t},e.minimatch.match=e.match;const C=/[?*]|[+@!]\(.*?\)|\[|\]/;class k{options;set;pattern;windowsPathsNoEscape;nonegate;negate;comment;empty;preserveMultipleSlashes;partial;globSet;globParts;nocase;isWindows;platform;windowsNoMagicRoot;regexp;constructor(t,e={}){(0,n.assertValidPattern)(t),e=e||{},this.options=e,this.pattern=t,this.platform=e.platform||T,this.isWindows="win32"===this.platform,this.windowsPathsNoEscape=!!e.windowsPathsNoEscape||!1===e.allowWindowsEscape,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!e.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!e.nonegate,this.comment=!1,this.empty=!1,this.partial=!!e.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=void 0!==e.windowsNoMagicRoot?e.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const t of this.set)for(const e of t)if("string"!=typeof e)return!0;return!1}debug(...t){}make(){const t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],e.debug&&(this.debug=(...t)=>console.error(...t)),this.debug(this.pattern,this.globSet);const r=this.globSet.map((t=>this.slashSplit(t)));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let i=this.globParts.map(((t,e,r)=>{if(this.isWindows&&this.windowsNoMagicRoot){const e=!(""!==t[0]||""!==t[1]||"?"!==t[2]&&C.test(t[2])||C.test(t[3])),r=/^[a-z]:/i.test(t[0]);if(e)return[...t.slice(0,4),...t.slice(4).map((t=>this.parse(t)))];if(r)return[t[0],...t.slice(1).map((t=>this.parse(t)))]}return t.map((t=>this.parse(t)))}));if(this.debug(this.pattern,i),this.set=i.filter((t=>-1===t.indexOf(!1))),this.isWindows)for(let t=0;t<this.set.length;t++){const e=this.set[t];""===e[0]&&""===e[1]&&"?"===this.globParts[t][2]&&"string"==typeof e[3]&&/^[a-z]:$/i.test(e[3])&&(e[2]="?")}this.debug(this.pattern,this.set)}preprocess(t){if(this.options.noglobstar)for(let e=0;e<t.length;e++)for(let r=0;r<t[e].length;r++)"**"===t[e][r]&&(t[e][r]="*");const{optimizationLevel:e=1}=this.options;return e>=2?(t=this.firstPhasePreProcess(t),t=this.secondPhasePreProcess(t)):t=e>=1?this.levelOneOptimize(t):this.adjascentGlobstarOptimize(t),t}adjascentGlobstarOptimize(t){return t.map((t=>{let e=-1;for(;-1!==(e=t.indexOf("**",e+1));){let r=e;for(;"**"===t[r+1];)r++;r!==e&&t.splice(e,r-e)}return t}))}levelOneOptimize(t){return t.map((t=>0===(t=t.reduce(((t,e)=>{const r=t[t.length-1];return"**"===e&&"**"===r?t:".."===e&&r&&".."!==r&&"."!==r&&"**"!==r?(t.pop(),t):(t.push(e),t)}),[])).length?[""]:t))}levelTwoFileOptimize(t){Array.isArray(t)||(t=this.slashSplit(t));let e=!1;do{if(e=!1,!this.preserveMultipleSlashes){for(let r=1;r<t.length-1;r++){const i=t[r];1===r&&""===i&&""===t[0]||"."!==i&&""!==i||(e=!0,t.splice(r,1),r--)}"."!==t[0]||2!==t.length||"."!==t[1]&&""!==t[1]||(e=!0,t.pop())}let r=0;for(;-1!==(r=t.indexOf("..",r+1));){const i=t[r-1];i&&"."!==i&&".."!==i&&"**"!==i&&(e=!0,t.splice(r-1,2),r-=2)}}while(e);return 0===t.length?[""]:t}firstPhasePreProcess(t){let e=!1;do{e=!1;for(let r of t){let i=-1;for(;-1!==(i=r.indexOf("**",i+1));){let s=i;for(;"**"===r[s+1];)s++;s>i&&r.splice(i+1,s-i);let n=r[i+1];const o=r[i+2],a=r[i+3];if(".."!==n)continue;if(!o||"."===o||".."===o||!a||"."===a||".."===a)continue;e=!0,r.splice(i,1);const l=r.slice(0);l[i]="**",t.push(l),i--}if(!this.preserveMultipleSlashes){for(let t=1;t<r.length-1;t++){const i=r[t];1===t&&""===i&&""===r[0]||"."!==i&&""!==i||(e=!0,r.splice(t,1),t--)}"."!==r[0]||2!==r.length||"."!==r[1]&&""!==r[1]||(e=!0,r.pop())}let s=0;for(;-1!==(s=r.indexOf("..",s+1));){const t=r[s-1];if(t&&"."!==t&&".."!==t&&"**"!==t){e=!0;const t=1===s&&"**"===r[s+1]?["."]:[];r.splice(s-1,2,...t),0===r.length&&r.push(""),s-=2}}}}while(e);return t}secondPhasePreProcess(t){for(let e=0;e<t.length-1;e++)for(let r=e+1;r<t.length;r++){const i=this.partsMatch(t[e],t[r],!this.preserveMultipleSlashes);i&&(t[e]=i,t[r]=[])}return t.filter((t=>t.length))}partsMatch(t,e,r=!1){let i=0,s=0,n=[],o="";for(;i<t.length&&s<e.length;)if(t[i]===e[s])n.push("b"===o?e[s]:t[i]),i++,s++;else if(r&&"**"===t[i]&&e[s]===t[i+1])n.push(t[i]),i++;else if(r&&"**"===e[s]&&t[i]===e[s+1])n.push(e[s]),s++;else if("*"!==t[i]||!e[s]||!this.options.dot&&e[s].startsWith(".")||"**"===e[s]){if("*"!==e[s]||!t[i]||!this.options.dot&&t[i].startsWith(".")||"**"===t[i])return!1;if("a"===o)return!1;o="b",n.push(e[s]),i++,s++}else{if("b"===o)return!1;o="a",n.push(t[i]),i++,s++}return t.length===e.length&&n}parseNegate(){if(this.nonegate)return;const t=this.pattern;let e=!1,r=0;for(let i=0;i<t.length&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.slice(r)),this.negate=e}matchOne(t,r,i=!1){const s=this.options;if(this.isWindows){const e="string"==typeof t[0]&&/^[a-z]:$/i.test(t[0]),i=!e&&""===t[0]&&""===t[1]&&"?"===t[2]&&/^[a-z]:$/i.test(t[3]),s="string"==typeof r[0]&&/^[a-z]:$/i.test(r[0]),n=i?3:e?0:void 0,o=!s&&""===r[0]&&""===r[1]&&"?"===r[2]&&"string"==typeof r[3]&&/^[a-z]:$/i.test(r[3])?3:s?0:void 0;if("number"==typeof n&&"number"==typeof o){const[e,i]=[t[n],r[o]];e.toLowerCase()===i.toLowerCase()&&(r[o]=e,o>n?r=r.slice(o):n>o&&(t=t.slice(n)))}}const{optimizationLevel:n=1}=this.options;n>=2&&(t=this.levelTwoFileOptimize(t)),this.debug("matchOne",this,{file:t,pattern:r}),this.debug("matchOne",t.length,r.length);for(var o=0,a=0,l=t.length,c=r.length;o<l&&a<c;o++,a++){this.debug("matchOne loop");var h=r[a],u=t[o];if(this.debug(r,h,u),!1===h)return!1;if(h===e.GLOBSTAR){this.debug("GLOBSTAR",[r,h,u]);var p=o,d=a+1;if(d===c){for(this.debug("** at the end");o<l;o++)if("."===t[o]||".."===t[o]||!s.dot&&"."===t[o].charAt(0))return!1;return!0}for(;p<l;){var f=t[p];if(this.debug("\nglobstar while",t,p,r,d,f),this.matchOne(t.slice(p),r.slice(d),i))return this.debug("globstar found match!",p,l,f),!0;if("."===f||".."===f||!s.dot&&"."===f.charAt(0)){this.debug("dot detected!",t,p,r,d);break}this.debug("globstar swallow a segment, and continue"),p++}return!(!i||(this.debug("\n>>> no match, partial?",t,p,r,d),p!==l))}let n;if("string"==typeof h?(n=u===h,this.debug("string match",h,u,n)):(n=h.test(u),this.debug("pattern match",h,u,n)),!n)return!1}if(o===l&&a===c)return!0;if(o===l)return i;if(a===c)return o===l-1&&""===t[o];throw new Error("wtf?")}braceExpand(){return(0,e.braceExpand)(this.pattern,this.options)}parse(t){(0,n.assertValidPattern)(t);const r=this.options;if("**"===t)return e.GLOBSTAR;if(""===t)return"";let i,s=null;(i=t.match(w))?s=r.dot?b:E:(i=t.match(c))?s=(r.nocase?r.dot?d:p:r.dot?u:h)(i[1]):(i=t.match(S))?s=(r.nocase?r.dot?_:O:r.dot?R:P)(i):(i=t.match(f))?s=r.dot?g:y:(i=t.match(m))&&(s=v);const a=o.AST.fromGlob(t,this.options).toMMPattern();return s&&"object"==typeof a&&Reflect.defineProperty(a,"test",{value:s}),a}makeRe(){if(this.regexp||!1===this.regexp)return this.regexp;const t=this.set;if(!t.length)return this.regexp=!1,this.regexp;const r=this.options,i=r.noglobstar?"[^/]*?":r.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(r.nocase?["i"]:[]);let n=t.map((t=>{const r=t.map((t=>{if(t instanceof RegExp)for(const e of t.flags.split(""))s.add(e);return"string"==typeof t?t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):t===e.GLOBSTAR?e.GLOBSTAR:t._src}));return r.forEach(((t,s)=>{const n=r[s+1],o=r[s-1];t===e.GLOBSTAR&&o!==e.GLOBSTAR&&(void 0===o?void 0!==n&&n!==e.GLOBSTAR?r[s+1]="(?:\\/|"+i+"\\/)?"+n:r[s]=i:void 0===n?r[s-1]=o+"(?:\\/|"+i+")?":n!==e.GLOBSTAR&&(r[s-1]=o+"(?:\\/|\\/"+i+"\\/)"+n,r[s+1]=e.GLOBSTAR))})),r.filter((t=>t!==e.GLOBSTAR)).join("/")})).join("|");const[o,a]=t.length>1?["(?:",")"]:["",""];n="^"+o+n+a+"$",this.negate&&(n="^(?!"+n+").+$");try{this.regexp=new RegExp(n,[...s].join(""))}catch(t){this.regexp=!1}return this.regexp}slashSplit(t){return this.preserveMultipleSlashes?t.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(t)?["",...t.split(/\/+/)]:t.split(/\/+/)}match(t,e=this.partial){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;const r=this.options;this.isWindows&&(t=t.split("\\").join("/"));const i=this.slashSplit(t);this.debug(this.pattern,"split",i);const s=this.set;this.debug(this.pattern,"set",s);let n=i[i.length-1];if(!n)for(let t=i.length-2;!n&&t>=0;t--)n=i[t];for(let t=0;t<s.length;t++){const o=s[t];let a=i;if(r.matchBase&&1===o.length&&(a=[n]),this.matchOne(a,o,e))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(t){return e.minimatch.defaults(t).Minimatch}}e.Minimatch=k;var L=r(3548);Object.defineProperty(e,"AST",{enumerable:!0,get:function(){return L.AST}});var N=r(9789);Object.defineProperty(e,"escape",{enumerable:!0,get:function(){return N.escape}});var M=r(2027);Object.defineProperty(e,"unescape",{enumerable:!0,get:function(){return M.unescape}}),e.minimatch.AST=o.AST,e.minimatch.Minimatch=k,e.minimatch.escape=a.escape,e.minimatch.unescape=l.unescape},2027:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.unescape=void 0,e.unescape=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},1938:function(t,e,r){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Minipass=e.isWritable=e.isReadable=e.isStream=void 0;const s="object"==typeof process&&process?process:{stdout:null,stderr:null},n=r(5673),o=i(r(4492)),a=r(6915);e.isStream=t=>!!t&&"object"==typeof t&&(t instanceof G||t instanceof o.default||(0,e.isReadable)(t)||(0,e.isWritable)(t)),e.isReadable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.pipe&&t.pipe!==o.default.Writable.prototype.pipe,e.isWritable=t=>!!t&&"object"==typeof t&&t instanceof n.EventEmitter&&"function"==typeof t.write&&"function"==typeof t.end;const l=Symbol("EOF"),c=Symbol("maybeEmitEnd"),h=Symbol("emittedEnd"),u=Symbol("emittingEnd"),p=Symbol("emittedError"),d=Symbol("closed"),f=Symbol("read"),y=Symbol("flush"),g=Symbol("flushChunk"),m=Symbol("encoding"),v=Symbol("decoder"),w=Symbol("flowing"),E=Symbol("paused"),b=Symbol("resume"),S=Symbol("buffer"),O=Symbol("pipes"),_=Symbol("bufferLength"),R=Symbol("bufferPush"),P=Symbol("bufferShift"),A=Symbol("objectMode"),x=Symbol("destroyed"),T=Symbol("error"),I=Symbol("emitData"),C=Symbol("emitEnd"),k=Symbol("emitEnd2"),L=Symbol("async"),N=Symbol("abort"),M=Symbol("aborted"),$=Symbol("signal"),j=Symbol("dataListeners"),D=Symbol("discarded"),F=t=>Promise.resolve().then(t),U=t=>t();class q{src;dest;opts;ondrain;constructor(t,e,r){this.src=t,this.dest=e,this.opts=r,this.ondrain=()=>t[b](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(t){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class B extends q{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,e,r){super(t,e,r),this.proxyErrors=t=>e.emit("error",t),t.on("error",this.proxyErrors)}}class G extends n.EventEmitter{[w]=!1;[E]=!1;[O]=[];[S]=[];[A];[m];[L];[v];[l]=!1;[h]=!1;[u]=!1;[d]=!1;[p]=null;[_]=0;[x]=!1;[$];[M]=!1;[j]=0;[D]=!1;writable=!0;readable=!0;constructor(...t){const e=t[0]||{};if(super(),e.objectMode&&"string"==typeof e.encoding)throw new TypeError("Encoding and objectMode may not be used together");var r;e.objectMode?(this[A]=!0,this[m]=null):!(r=e).objectMode&&r.encoding&&"buffer"!==r.encoding?(this[m]=e.encoding,this[A]=!1):(this[A]=!1,this[m]=null),this[L]=!!e.async,this[v]=this[m]?new a.StringDecoder(this[m]):null,e&&!0===e.debugExposeBuffer&&Object.defineProperty(this,"buffer",{get:()=>this[S]}),e&&!0===e.debugExposePipes&&Object.defineProperty(this,"pipes",{get:()=>this[O]});const{signal:i}=e;i&&(this[$]=i,i.aborted?this[N]():i.addEventListener("abort",(()=>this[N]())))}get bufferLength(){return this[_]}get encoding(){return this[m]}set encoding(t){throw new Error("Encoding must be set at instantiation time")}setEncoding(t){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[A]}set objectMode(t){throw new Error("objectMode must be set at instantiation time")}get async(){return this[L]}set async(t){this[L]=this[L]||!!t}[N](){this[M]=!0,this.emit("abort",this[$]?.reason),this.destroy(this[$]?.reason)}get aborted(){return this[M]}set aborted(t){}write(t,e,r){if(this[M])return!1;if(this[l])throw new Error("write after end");if(this[x])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;"function"==typeof e&&(r=e,e="utf8"),e||(e="utf8");const i=this[L]?F:U;if(!this[A]&&!Buffer.isBuffer(t))if(s=t,!Buffer.isBuffer(s)&&ArrayBuffer.isView(s))t=Buffer.from(t.buffer,t.byteOffset,t.byteLength);else if((t=>t instanceof ArrayBuffer||!!t&&"object"==typeof t&&t.constructor&&"ArrayBuffer"===t.constructor.name&&t.byteLength>=0)(t))t=Buffer.from(t);else if("string"!=typeof t)throw new Error("Non-contiguous data written to non-objectMode stream");var s;return this[A]?(this[w]&&0!==this[_]&&this[y](!0),this[w]?this.emit("data",t):this[R](t),0!==this[_]&&this.emit("readable"),r&&i(r),this[w]):t.length?("string"!=typeof t||e===this[m]&&!this[v]?.lastNeed||(t=Buffer.from(t,e)),Buffer.isBuffer(t)&&this[m]&&(t=this[v].write(t)),this[w]&&0!==this[_]&&this[y](!0),this[w]?this.emit("data",t):this[R](t),0!==this[_]&&this.emit("readable"),r&&i(r),this[w]):(0!==this[_]&&this.emit("readable"),r&&i(r),this[w])}read(t){if(this[x])return null;if(this[D]=!1,0===this[_]||0===t||t&&t>this[_])return this[c](),null;this[A]&&(t=null),this[S].length>1&&!this[A]&&(this[S]=[this[m]?this[S].join(""):Buffer.concat(this[S],this[_])]);const e=this[f](t||null,this[S][0]);return this[c](),e}[f](t,e){if(this[A])this[P]();else{const r=e;t===r.length||null===t?this[P]():"string"==typeof r?(this[S][0]=r.slice(t),e=r.slice(0,t),this[_]-=t):(this[S][0]=r.subarray(t),e=r.subarray(0,t),this[_]-=t)}return this.emit("data",e),this[S].length||this[l]||this.emit("drain"),e}end(t,e,r){return"function"==typeof t&&(r=t,t=void 0),"function"==typeof e&&(r=e,e="utf8"),void 0!==t&&this.write(t,e),r&&this.once("end",r),this[l]=!0,this.writable=!1,!this[w]&&this[E]||this[c](),this}[b](){this[x]||(this[j]||this[O].length||(this[D]=!0),this[E]=!1,this[w]=!0,this.emit("resume"),this[S].length?this[y]():this[l]?this[c]():this.emit("drain"))}resume(){return this[b]()}pause(){this[w]=!1,this[E]=!0,this[D]=!1}get destroyed(){return this[x]}get flowing(){return this[w]}get paused(){return this[E]}[R](t){this[A]?this[_]+=1:this[_]+=t.length,this[S].push(t)}[P](){return this[A]?this[_]-=1:this[_]-=this[S][0].length,this[S].shift()}[y](t=!1){do{}while(this[g](this[P]())&&this[S].length);t||this[S].length||this[l]||this.emit("drain")}[g](t){return this.emit("data",t),this[w]}pipe(t,e){if(this[x])return t;this[D]=!1;const r=this[h];return e=e||{},t===s.stdout||t===s.stderr?e.end=!1:e.end=!1!==e.end,e.proxyErrors=!!e.proxyErrors,r?e.end&&t.end():(this[O].push(e.proxyErrors?new B(this,t,e):new q(this,t,e)),this[L]?F((()=>this[b]())):this[b]()),t}unpipe(t){const e=this[O].find((e=>e.dest===t));e&&(1===this[O].length?(this[w]&&0===this[j]&&(this[w]=!1),this[O]=[]):this[O].splice(this[O].indexOf(e),1),e.unpipe())}addListener(t,e){return this.on(t,e)}on(t,e){const r=super.on(t,e);if("data"===t)this[D]=!1,this[j]++,this[O].length||this[w]||this[b]();else if("readable"===t&&0!==this[_])super.emit("readable");else if((t=>"end"===t||"finish"===t||"prefinish"===t)(t)&&this[h])super.emit(t),this.removeAllListeners(t);else if("error"===t&&this[p]){const t=e;this[L]?F((()=>t.call(this,this[p]))):t.call(this,this[p])}return r}removeListener(t,e){return this.off(t,e)}off(t,e){const r=super.off(t,e);return"data"===t&&(this[j]=this.listeners("data").length,0!==this[j]||this[D]||this[O].length||(this[w]=!1)),r}removeAllListeners(t){const e=super.removeAllListeners(t);return"data"!==t&&void 0!==t||(this[j]=0,this[D]||this[O].length||(this[w]=!1)),e}get emittedEnd(){return this[h]}[c](){this[u]||this[h]||this[x]||0!==this[S].length||!this[l]||(this[u]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[d]&&this.emit("close"),this[u]=!1)}emit(t,...e){const r=e[0];if("error"!==t&&"close"!==t&&t!==x&&this[x])return!1;if("data"===t)return!(!this[A]&&!r)&&(this[L]?(F((()=>this[I](r))),!0):this[I](r));if("end"===t)return this[C]();if("close"===t){if(this[d]=!0,!this[h]&&!this[x])return!1;const t=super.emit("close");return this.removeAllListeners("close"),t}if("error"===t){this[p]=r,super.emit(T,r);const t=!(this[$]&&!this.listeners("error").length)&&super.emit("error",r);return this[c](),t}if("resume"===t){const t=super.emit("resume");return this[c](),t}if("finish"===t||"prefinish"===t){const e=super.emit(t);return this.removeAllListeners(t),e}const i=super.emit(t,...e);return this[c](),i}[I](t){for(const e of this[O])!1===e.dest.write(t)&&this.pause();const e=!this[D]&&super.emit("data",t);return this[c](),e}[C](){return!this[h]&&(this[h]=!0,this.readable=!1,this[L]?(F((()=>this[k]())),!0):this[k]())}[k](){if(this[v]){const t=this[v].end();if(t){for(const e of this[O])e.dest.write(t);this[D]||super.emit("data",t)}}for(const t of this[O])t.end();const t=super.emit("end");return this.removeAllListeners("end"),t}async collect(){const t=Object.assign([],{dataLength:0});this[A]||(t.dataLength=0);const e=this.promise();return this.on("data",(e=>{t.push(e),this[A]||(t.dataLength+=e.length)})),await e,t}async concat(){if(this[A])throw new Error("cannot concat in objectMode");const t=await this.collect();return this[m]?t.join(""):Buffer.concat(t,t.dataLength)}async promise(){return new Promise(((t,e)=>{this.on(x,(()=>e(new Error("stream destroyed")))),this.on("error",(t=>e(t))),this.on("end",(()=>t()))}))}[Symbol.asyncIterator](){this[D]=!1;let t=!1;const e=async()=>(this.pause(),t=!0,{value:void 0,done:!0});return{next:()=>{if(t)return e();const r=this.read();if(null!==r)return Promise.resolve({done:!1,value:r});if(this[l])return e();let i,s;const n=t=>{this.off("data",o),this.off("end",a),this.off(x,c),e(),s(t)},o=t=>{this.off("error",n),this.off("end",a),this.off(x,c),this.pause(),i({value:t,done:!!this[l]})},a=()=>{this.off("error",n),this.off("data",o),this.off(x,c),e(),i({done:!0,value:void 0})},c=()=>n(new Error("stream destroyed"));return new Promise(((t,e)=>{s=e,i=t,this.once(x,c),this.once("error",n),this.once("end",a),this.once("data",o)}))},throw:e,return:e,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[D]=!1;let t=!1;const e=()=>(this.pause(),this.off(T,e),this.off(x,e),this.off("end",e),t=!0,{done:!0,value:void 0});return this.once("end",e),this.once(T,e),this.once(x,e),{next:()=>{if(t)return e();const r=this.read();return null===r?e():{done:!1,value:r}},throw:e,return:e,[Symbol.iterator](){return this}}}destroy(t){return this[x]?(t?this.emit("error",t):this.emit(x),this):(this[x]=!0,this[D]=!0,this[S].length=0,this[_]=0,"function"!=typeof this.close||this[d]||this.close(),t?this.emit("error",t):this.emit(x),this)}static get isStream(){return e.isStream}}e.Minipass=G},2917:function(t,e,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,r,i){void 0===i&&(i=r);var s=Object.getOwnPropertyDescriptor(e,r);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,i,s)}:function(t,e,r,i){void 0===i&&(i=r),t[i]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.PathScurry=e.Path=e.PathScurryDarwin=e.PathScurryPosix=e.PathScurryWin32=e.PathScurryBase=e.PathPosix=e.PathWin32=e.PathBase=e.ChildrenCache=e.ResolveCache=void 0;const o=r(6317),a=r(9411),l=r(1041),c=r(7147),h=n(r(7561)),u=c.realpathSync.native,p=r(3977),d=r(1938),f={lstatSync:c.lstatSync,readdir:c.readdir,readdirSync:c.readdirSync,readlinkSync:c.readlinkSync,realpathSync:u,promises:{lstat:p.lstat,readdir:p.readdir,readlink:p.readlink,realpath:p.realpath}},y=t=>t&&t!==f&&t!==h?{...f,...t,promises:{...f.promises,...t.promises||{}}}:f,g=/^\\\\\?\\([a-z]:)\\?$/i,m=/[\\\/]/,v=10,w=15,E=-16,b=128,S=t=>t.isFile()?8:t.isDirectory()?4:t.isSymbolicLink()?v:t.isCharacterDevice()?2:t.isBlockDevice()?6:t.isSocket()?12:t.isFIFO()?1:0,O=new Map,_=t=>{const e=O.get(t);if(e)return e;const r=t.normalize("NFKD");return O.set(t,r),r},R=new Map,P=t=>{const e=R.get(t);if(e)return e;const r=_(t.toLowerCase());return R.set(t,r),r};class A extends o.LRUCache{constructor(){super({max:256})}}e.ResolveCache=A;class x extends o.LRUCache{constructor(t=16384){super({maxSize:t,sizeCalculation:t=>t.length+1})}}e.ChildrenCache=x;const T=Symbol("PathScurry setAsCwd");class I{name;root;roots;parent;nocase;isCWD=!1;#I;#C;get dev(){return this.#C}#k;get mode(){return this.#k}#L;get nlink(){return this.#L}#N;get uid(){return this.#N}#M;get gid(){return this.#M}#$;get rdev(){return this.#$}#j;get blksize(){return this.#j}#D;get ino(){return this.#D}#F;get size(){return this.#F}#U;get blocks(){return this.#U}#q;get atimeMs(){return this.#q}#B;get mtimeMs(){return this.#B}#G;get ctimeMs(){return this.#G}#z;get birthtimeMs(){return this.#z}#W;get atime(){return this.#W}#H;get mtime(){return this.#H}#V;get ctime(){return this.#V}#X;get birthtime(){return this.#X}#Y;#K;#Q;#J;#Z;#tt;#et;#rt;#it;#st;get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}constructor(t,e=0,r,i,s,n,o){this.name=t,this.#Y=s?P(t):_(t),this.#et=1023&e,this.nocase=s,this.roots=i,this.root=r||this,this.#rt=n,this.#Q=o.fullpath,this.#Z=o.relative,this.#tt=o.relativePosix,this.parent=o.parent,this.parent?this.#I=this.parent.#I:this.#I=y(o.fs)}depth(){return void 0!==this.#K?this.#K:this.parent?this.#K=this.parent.depth()+1:this.#K=0}childrenCache(){return this.#rt}resolve(t){if(!t)return this;const e=this.getRootString(t),r=t.substring(e.length).split(this.splitSep);return e?this.getRoot(e).#nt(r):this.#nt(r)}#nt(t){let e=this;for(const r of t)e=e.child(r);return e}children(){const t=this.#rt.get(this);if(t)return t;const e=Object.assign([],{provisional:0});return this.#rt.set(this,e),this.#et&=-17,e}child(t,e){if(""===t||"."===t)return this;if(".."===t)return this.parent||this;const r=this.children(),i=this.nocase?P(t):_(t);for(const t of r)if(t.#Y===i)return t;const s=this.parent?this.sep:"",n=this.#Q?this.#Q+s+t:void 0,o=this.newChild(t,0,{...e,parent:this,fullpath:n});return this.canReaddir()||(o.#et|=b),r.push(o),o}relative(){if(this.isCWD)return"";if(void 0!==this.#Z)return this.#Z;const t=this.name,e=this.parent;if(!e)return this.#Z=this.name;const r=e.relative();return r+(r&&e.parent?this.sep:"")+t}relativePosix(){if("/"===this.sep)return this.relative();if(this.isCWD)return"";if(void 0!==this.#tt)return this.#tt;const t=this.name,e=this.parent;if(!e)return this.#tt=this.fullpathPosix();const r=e.relativePosix();return r+(r&&e.parent?"/":"")+t}fullpath(){if(void 0!==this.#Q)return this.#Q;const t=this.name,e=this.parent;if(!e)return this.#Q=this.name;const r=e.fullpath()+(e.parent?this.sep:"")+t;return this.#Q=r}fullpathPosix(){if(void 0!==this.#J)return this.#J;if("/"===this.sep)return this.#J=this.fullpath();if(!this.parent){const t=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(t)?this.#J=`//?/${t}`:this.#J=t}const t=this.parent,e=t.fullpathPosix(),r=e+(e&&t.parent?"/":"")+this.name;return this.#J=r}isUnknown(){return 0==(this.#et&w)}isType(t){return this[`is${t}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return 8==(this.#et&w)}isDirectory(){return 4==(this.#et&w)}isCharacterDevice(){return 2==(this.#et&w)}isBlockDevice(){return 6==(this.#et&w)}isFIFO(){return 1==(this.#et&w)}isSocket(){return 12==(this.#et&w)}isSymbolicLink(){return(this.#et&v)===v}lstatCached(){return 32&this.#et?this:void 0}readlinkCached(){return this.#it}realpathCached(){return this.#st}readdirCached(){const t=this.children();return t.slice(0,t.provisional)}canReadlink(){if(this.#it)return!0;if(!this.parent)return!1;const t=this.#et&w;return!(0!==t&&t!==v||256&this.#et||this.#et&b)}calledReaddir(){return!!(16&this.#et)}isENOENT(){return!!(this.#et&b)}isNamed(t){return this.nocase?this.#Y===P(t):this.#Y===_(t)}async readlink(){const t=this.#it;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=await this.#I.promises.readlink(this.fullpath()),e=(await this.parent.realpath())?.resolve(t);if(e)return this.#it=e}catch(t){return void this.#ot(t.code)}}readlinkSync(){const t=this.#it;if(t)return t;if(this.canReadlink()&&this.parent)try{const t=this.#I.readlinkSync(this.fullpath()),e=this.parent.realpathSync()?.resolve(t);if(e)return this.#it=e}catch(t){return void this.#ot(t.code)}}#at(t){this.#et|=16;for(let e=t.provisional;e<t.length;e++){const r=t[e];r&&r.#lt()}}#lt(){this.#et&b||(this.#et=(this.#et|b)&E,this.#ct())}#ct(){const t=this.children();t.provisional=0;for(const e of t)e.#lt()}#ht(){this.#et|=512,this.#ut()}#ut(){if(64&this.#et)return;let t=this.#et;4==(t&w)&&(t&=E),this.#et=64|t,this.#ct()}#pt(t=""){"ENOTDIR"===t||"EPERM"===t?this.#ut():"ENOENT"===t?this.#lt():this.children().provisional=0}#dt(t=""){"ENOTDIR"===t?this.parent.#ut():"ENOENT"===t&&this.#lt()}#ot(t=""){let e=this.#et;e|=256,"ENOENT"===t&&(e|=b),"EINVAL"!==t&&"UNKNOWN"!==t||(e&=E),this.#et=e,"ENOTDIR"===t&&this.parent&&this.parent.#ut()}#ft(t,e){return this.#yt(t,e)||this.#gt(t,e)}#gt(t,e){const r=S(t),i=this.newChild(t.name,r,{parent:this}),s=i.#et&w;return 4!==s&&s!==v&&0!==s&&(i.#et|=64),e.unshift(i),e.provisional++,i}#yt(t,e){for(let r=e.provisional;r<e.length;r++){const i=e[r];if((this.nocase?P(t.name):_(t.name))===i.#Y)return this.#mt(t,i,r,e)}}#mt(t,e,r,i){const s=e.name;return e.#et=e.#et&E|S(t),s!==t.name&&(e.name=t.name),r!==i.provisional&&(r===i.length-1?i.pop():i.splice(r,1),i.unshift(e)),i.provisional++,e}async lstat(){if(0==(this.#et&b))try{return this.#vt(await this.#I.promises.lstat(this.fullpath())),this}catch(t){this.#dt(t.code)}}lstatSync(){if(0==(this.#et&b))try{return this.#vt(this.#I.lstatSync(this.fullpath())),this}catch(t){this.#dt(t.code)}}#vt(t){const{atime:e,atimeMs:r,birthtime:i,birthtimeMs:s,blksize:n,blocks:o,ctime:a,ctimeMs:l,dev:c,gid:h,ino:u,mode:p,mtime:d,mtimeMs:f,nlink:y,rdev:g,size:m,uid:w}=t;this.#W=e,this.#q=r,this.#X=i,this.#z=s,this.#j=n,this.#U=o,this.#V=a,this.#G=l,this.#C=c,this.#M=h,this.#D=u,this.#k=p,this.#H=d,this.#B=f,this.#L=y,this.#$=g,this.#F=m,this.#N=w;const b=S(t);this.#et=this.#et&E|b|32,0!==b&&4!==b&&b!==v&&(this.#et|=64)}#wt=[];#Et=!1;#bt(t){this.#Et=!1;const e=this.#wt.slice();this.#wt.length=0,e.forEach((e=>e(null,t)))}readdirCB(t,e=!1){if(!this.canReaddir())return void(e?t(null,[]):queueMicrotask((()=>t(null,[]))));const r=this.children();if(this.calledReaddir()){const i=r.slice(0,r.provisional);return void(e?t(null,i):queueMicrotask((()=>t(null,i))))}if(this.#wt.push(t),this.#Et)return;this.#Et=!0;const i=this.fullpath();this.#I.readdir(i,{withFileTypes:!0},((t,e)=>{if(t)this.#pt(t.code),r.provisional=0;else{for(const t of e)this.#ft(t,r);this.#at(r)}this.#bt(r.slice(0,r.provisional))}))}#St;async readdir(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();if(this.#St)await this.#St;else{let r=()=>{};this.#St=new Promise((t=>r=t));try{for(const r of await this.#I.promises.readdir(e,{withFileTypes:!0}))this.#ft(r,t);this.#at(t)}catch(e){this.#pt(e.code),t.provisional=0}this.#St=void 0,r()}return t.slice(0,t.provisional)}readdirSync(){if(!this.canReaddir())return[];const t=this.children();if(this.calledReaddir())return t.slice(0,t.provisional);const e=this.fullpath();try{for(const r of this.#I.readdirSync(e,{withFileTypes:!0}))this.#ft(r,t);this.#at(t)}catch(e){this.#pt(e.code),t.provisional=0}return t.slice(0,t.provisional)}canReaddir(){if(704&this.#et)return!1;const t=w&this.#et;return 0===t||4===t||t===v}shouldWalk(t,e){return 4==(4&this.#et)&&!(704&this.#et)&&!t.has(this)&&(!e||e(this))}async realpath(){if(this.#st)return this.#st;if(!(896&this.#et))try{const t=await this.#I.promises.realpath(this.fullpath());return this.#st=this.resolve(t)}catch(t){this.#ht()}}realpathSync(){if(this.#st)return this.#st;if(!(896&this.#et))try{const t=this.#I.realpathSync(this.fullpath());return this.#st=this.resolve(t)}catch(t){this.#ht()}}[T](t){if(t===this)return;t.isCWD=!1,this.isCWD=!0;const e=new Set([]);let r=[],i=this;for(;i&&i.parent;)e.add(i),i.#Z=r.join(this.sep),i.#tt=r.join("/"),i=i.parent,r.push("..");for(i=t;i&&i.parent&&!e.has(i);)i.#Z=void 0,i.#tt=void 0,i=i.parent}}e.PathBase=I;class C extends I{sep="\\";splitSep=m;constructor(t,e=0,r,i,s,n,o){super(t,e,r,i,s,n,o)}newChild(t,e=0,r={}){return new C(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}getRootString(t){return a.win32.parse(t).root}getRoot(t){if((t=(t=>t.replace(/\//g,"\\").replace(g,"$1\\"))(t.toUpperCase()))===this.root.name)return this.root;for(const[e,r]of Object.entries(this.roots))if(this.sameRoot(t,e))return this.roots[t]=r;return this.roots[t]=new N(t,this).root}sameRoot(t,e=this.root.name){return(t=t.toUpperCase().replace(/\//g,"\\").replace(g,"$1\\"))===e}}e.PathWin32=C;class k extends I{splitSep="/";sep="/";constructor(t,e=0,r,i,s,n,o){super(t,e,r,i,s,n,o)}getRootString(t){return t.startsWith("/")?"/":""}getRoot(t){return this.root}newChild(t,e=0,r={}){return new k(t,e,this.root,this.roots,this.nocase,this.childrenCache(),r)}}e.PathPosix=k;class L{root;rootPath;roots;cwd;#Ot;#_t;#rt;nocase;#I;constructor(t=process.cwd(),e,r,{nocase:i,childrenCacheSize:s=16384,fs:n=f}={}){this.#I=y(n),(t instanceof URL||t.startsWith("file://"))&&(t=(0,l.fileURLToPath)(t));const o=e.resolve(t);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),this.#Ot=new A,this.#_t=new A,this.#rt=new x(s);const a=o.substring(this.rootPath.length).split(r);if(1!==a.length||a[0]||a.pop(),void 0===i)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(this.#I),this.roots[this.rootPath]=this.root;let c=this.root,h=a.length-1;const u=e.sep;let p=this.rootPath,d=!1;for(const t of a){const e=h--;c=c.child(t,{relative:new Array(e).fill("..").join(u),relativePosix:new Array(e).fill("..").join("/"),fullpath:p+=(d?"":u)+t}),d=!0}this.cwd=c}depth(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.depth()}childrenCache(){return this.#rt}resolve(...t){let e="";for(let r=t.length-1;r>=0;r--){const i=t[r];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const r=this.#Ot.get(e);if(void 0!==r)return r;const i=this.cwd.resolve(e).fullpath();return this.#Ot.set(e,i),i}resolvePosix(...t){let e="";for(let r=t.length-1;r>=0;r--){const i=t[r];if(i&&"."!==i&&(e=e?`${i}/${e}`:i,this.isAbsolute(i)))break}const r=this.#_t.get(e);if(void 0!==r)return r;const i=this.cwd.resolve(e).fullpathPosix();return this.#_t.set(e,i),i}relative(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relative()}relativePosix(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.relativePosix()}basename(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.name}dirname(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),(t.parent||t).fullpath()}async readdir(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r}=e;if(t.canReaddir()){const e=await t.readdir();return r?e:e.map((t=>t.name))}return[]}readdirSync(t=this.cwd,e={withFileTypes:!0}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r=!0}=e;return t.canReaddir()?r?t.readdirSync():t.readdirSync().map((t=>t.name)):[]}async lstat(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstat()}lstatSync(t=this.cwd){return"string"==typeof t&&(t=this.cwd.resolve(t)),t.lstatSync()}async readlink(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t.withFileTypes,t=this.cwd);const r=await t.readlink();return e?r:r?.fullpath()}readlinkSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t.withFileTypes,t=this.cwd);const r=t.readlinkSync();return e?r:r?.fullpath()}async realpath(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t.withFileTypes,t=this.cwd);const r=await t.realpath();return e?r:r?.fullpath()}realpathSync(t=this.cwd,{withFileTypes:e}={withFileTypes:!1}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t.withFileTypes,t=this.cwd);const r=t.realpathSync();return e?r:r?.fullpath()}async walk(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:n}=e,o=[];s&&!s(t)||o.push(r?t:t.fullpath());const a=new Set,l=(t,e)=>{a.add(t),t.readdirCB(((t,c)=>{if(t)return e(t);let h=c.length;if(!h)return e();const u=()=>{0==--h&&e()};for(const t of c)s&&!s(t)||o.push(r?t:t.fullpath()),i&&t.isSymbolicLink()?t.realpath().then((t=>t?.isUnknown()?t.lstat():t)).then((t=>t?.shouldWalk(a,n)?l(t,u):u())):t.shouldWalk(a,n)?l(t,u):u()}),!0)},c=t;return new Promise(((t,e)=>{l(c,(r=>{if(r)return e(r);t(o)}))}))}walkSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:n}=e,o=[];s&&!s(t)||o.push(r?t:t.fullpath());const a=new Set([t]);for(const t of a){const e=t.readdirSync();for(const t of e){s&&!s(t)||o.push(r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,n)&&a.add(e)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(t=this.cwd,e={}){return"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd),this.stream(t,e)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:n}=e;s&&!s(t)||(yield r?t:t.fullpath());const o=new Set([t]);for(const t of o){const e=t.readdirSync();for(const t of e){s&&!s(t)||(yield r?t:t.fullpath());let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(o,n)&&o.add(e)}}}stream(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:n}=e,o=new d.Minipass({objectMode:!0});s&&!s(t)||o.write(r?t:t.fullpath());const a=new Set,l=[t];let c=0;const h=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const u=(e,d,f=!1)=>{if(e)return o.emit("error",e);if(i&&!f){const t=[];for(const e of d)e.isSymbolicLink()&&t.push(e.realpath().then((t=>t?.isUnknown()?t.lstat():t)));if(t.length)return void Promise.all(t).then((()=>u(null,d,!0)))}for(const e of d)!e||s&&!s(e)||o.write(r?e:e.fullpath())||(t=!0);c--;for(const t of d){const e=t.realpathCached()||t;e.shouldWalk(a,n)&&l.push(e)}t&&!o.flowing?o.once("drain",h):p||h()};let p=!0;e.readdirCB(u,!0),p=!1}};return h(),o}streamSync(t=this.cwd,e={}){"string"==typeof t?t=this.cwd.resolve(t):t instanceof I||(e=t,t=this.cwd);const{withFileTypes:r=!0,follow:i=!1,filter:s,walkFilter:n}=e,o=new d.Minipass({objectMode:!0}),a=new Set;s&&!s(t)||o.write(r?t:t.fullpath());const l=[t];let c=0;const h=()=>{let t=!1;for(;!t;){const e=l.shift();if(!e)return void(0===c&&o.end());c++,a.add(e);const h=e.readdirSync();for(const e of h)s&&!s(e)||o.write(r?e:e.fullpath())||(t=!0);c--;for(const t of h){let e=t;if(t.isSymbolicLink()){if(!i||!(e=t.realpathSync()))continue;e.isUnknown()&&e.lstatSync()}e.shouldWalk(a,n)&&l.push(e)}}t&&!o.flowing&&o.once("drain",h)};return h(),o}chdir(t=this.cwd){const e=this.cwd;this.cwd="string"==typeof t?this.cwd.resolve(t):t,this.cwd[T](e)}}e.PathScurryBase=L;class N extends L{sep="\\";constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,a.win32,"\\",{...e,nocase:r}),this.nocase=r;for(let t=this.cwd;t;t=t.parent)t.nocase=this.nocase}parseRootPath(t){return a.win32.parse(t).root.toUpperCase()}newRoot(t){return new C(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")||t.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(t)}}e.PathScurryWin32=N;class M extends L{sep="/";constructor(t=process.cwd(),e={}){const{nocase:r=!1}=e;super(t,a.posix,"/",{...e,nocase:r}),this.nocase=r}parseRootPath(t){return"/"}newRoot(t){return new k(this.rootPath,4,void 0,this.roots,this.nocase,this.childrenCache(),{fs:t})}isAbsolute(t){return t.startsWith("/")}}e.PathScurryPosix=M;class $ extends M{constructor(t=process.cwd(),e={}){const{nocase:r=!0}=e;super(t,{...e,nocase:r})}}e.PathScurryDarwin=$,e.Path="win32"===process.platform?C:k,e.PathScurry="win32"===process.platform?N:"darwin"===process.platform?$:M},6317:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=void 0;const r="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,i=new Set,s="object"==typeof process&&process?process:{},n=(t,e,r,i)=>{"function"==typeof s.emitWarning?s.emitWarning(t,e,r,i):console.error(`[${r}] ${e}: ${t}`)};let o=globalThis.AbortController,a=globalThis.AbortSignal;if(void 0===o){a=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},o=class{constructor(){e()}signal=new a;abort(t){if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;for(const e of this.signal._onabort)e(t);this.signal.onabort?.(t)}}};let t="1"!==s.env?.LRU_CACHE_IGNORE_AC_WARNING;const e=()=>{t&&(t=!1,n("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}Symbol("type");const l=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),c=t=>l(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?h:null:null;class h extends Array{constructor(t){super(t),this.fill(0)}}class u{heap;length;static#Rt=!1;static create(t){const e=c(t);if(!e)return[];u.#Rt=!0;const r=new u(t,e);return u.#Rt=!1,r}constructor(t,e){if(!u.#Rt)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class p{#Pt;#At;#xt;#Tt;#It;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#F;#Ct;#kt;#Lt;#Nt;#Mt;#$t;#jt;#Dt;#Ft;#Ut;#qt;#Bt;#Gt;#zt;#Wt;#Ht;static unsafeExposeInternals(t){return{starts:t.#Bt,ttls:t.#Gt,sizes:t.#qt,keyMap:t.#kt,keyList:t.#Lt,valList:t.#Nt,next:t.#Mt,prev:t.#$t,get head(){return t.#jt},get tail(){return t.#Dt},free:t.#Ft,isBackgroundFetch:e=>t.#Vt(e),backgroundFetch:(e,r,i,s)=>t.#Xt(e,r,i,s),moveToTail:e=>t.#Yt(e),indexes:e=>t.#Kt(e),rindexes:e=>t.#Qt(e),isStale:e=>t.#Jt(e)}}get max(){return this.#Pt}get maxSize(){return this.#At}get calculatedSize(){return this.#Ct}get size(){return this.#F}get fetchMethod(){return this.#It}get dispose(){return this.#xt}get disposeAfter(){return this.#Tt}constructor(t){const{max:e=0,ttl:r,ttlResolution:s=1,ttlAutopurge:o,updateAgeOnGet:a,updateAgeOnHas:h,allowStale:d,dispose:f,disposeAfter:y,noDisposeOnSet:g,noUpdateTTL:m,maxSize:v=0,maxEntrySize:w=0,sizeCalculation:E,fetchMethod:b,noDeleteOnFetchRejection:S,noDeleteOnStaleGet:O,allowStaleOnFetchRejection:_,allowStaleOnFetchAbort:R,ignoreFetchAbort:P}=t;if(0!==e&&!l(e))throw new TypeError("max option must be a nonnegative integer");const A=e?c(e):Array;if(!A)throw new Error("invalid max value: "+e);if(this.#Pt=e,this.#At=v,this.maxEntrySize=w||this.#At,this.sizeCalculation=E,this.sizeCalculation){if(!this.#At&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==b&&"function"!=typeof b)throw new TypeError("fetchMethod must be a function if specified");if(this.#It=b,this.#Wt=!!b,this.#kt=new Map,this.#Lt=new Array(e).fill(void 0),this.#Nt=new Array(e).fill(void 0),this.#Mt=new A(e),this.#$t=new A(e),this.#jt=0,this.#Dt=0,this.#Ft=u.create(e),this.#F=0,this.#Ct=0,"function"==typeof f&&(this.#xt=f),"function"==typeof y?(this.#Tt=y,this.#Ut=[]):(this.#Tt=void 0,this.#Ut=void 0),this.#zt=!!this.#xt,this.#Ht=!!this.#Tt,this.noDisposeOnSet=!!g,this.noUpdateTTL=!!m,this.noDeleteOnFetchRejection=!!S,this.allowStaleOnFetchRejection=!!_,this.allowStaleOnFetchAbort=!!R,this.ignoreFetchAbort=!!P,0!==this.maxEntrySize){if(0!==this.#At&&!l(this.#At))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.#Zt()}if(this.allowStale=!!d,this.noDeleteOnStaleGet=!!O,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!h,this.ttlResolution=l(s)||0===s?s:1,this.ttlAutopurge=!!o,this.ttl=r||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.#te()}if(0===this.#Pt&&0===this.ttl&&0===this.#At)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#Pt&&!this.#At){const t="LRU_CACHE_UNBOUNDED";(t=>!i.has(t))(t)&&(i.add(t),n("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,p))}}getRemainingTTL(t){return this.#kt.has(t)?1/0:0}#te(){const t=new h(this.#Pt),e=new h(this.#Pt);this.#Gt=t,this.#Bt=e,this.#ee=(i,s,n=r.now())=>{if(e[i]=0!==s?n:0,t[i]=s,0!==s&&this.ttlAutopurge){const t=setTimeout((()=>{this.#Jt(i)&&this.delete(this.#Lt[i])}),s+1);t.unref&&t.unref()}},this.#re=i=>{e[i]=0!==t[i]?r.now():0},this.#ie=(r,n)=>{if(t[n]){const o=t[n],a=e[n];if(!o||!a)return;r.ttl=o,r.start=a,r.now=i||s();const l=r.now-a;r.remainingTTL=o-l}};let i=0;const s=()=>{const t=r.now();if(this.ttlResolution>0){i=t;const e=setTimeout((()=>i=0),this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=r=>{const n=this.#kt.get(r);if(void 0===n)return 0;const o=t[n],a=e[n];return o&&a?o-((i||s())-a):1/0},this.#Jt=r=>{const n=e[r],o=t[r];return!!o&&!!n&&(i||s())-n>o}}#re=()=>{};#ie=()=>{};#ee=()=>{};#Jt=()=>!1;#Zt(){const t=new h(this.#Pt);this.#Ct=0,this.#qt=t,this.#se=e=>{this.#Ct-=t[e],t[e]=0},this.#ne=(t,e,r,i)=>{if(this.#Vt(e))return 0;if(!l(r)){if(!i)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof i)throw new TypeError("sizeCalculation must be a function");if(r=i(e,t),!l(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r},this.#oe=(e,r,i)=>{if(t[e]=r,this.#At){const r=this.#At-t[e];for(;this.#Ct>r;)this.#ae(!0)}this.#Ct+=t[e],i&&(i.entrySize=r,i.totalCalculatedSize=this.#Ct)}}#se=t=>{};#oe=(t,e,r)=>{};#ne=(t,e,r,i)=>{if(r||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#Kt({allowStale:t=this.allowStale}={}){if(this.#F)for(let e=this.#Dt;this.#le(e)&&(!t&&this.#Jt(e)||(yield e),e!==this.#jt);)e=this.#$t[e]}*#Qt({allowStale:t=this.allowStale}={}){if(this.#F)for(let e=this.#jt;this.#le(e)&&(!t&&this.#Jt(e)||(yield e),e!==this.#Dt);)e=this.#Mt[e]}#le(t){return void 0!==t&&this.#kt.get(this.#Lt[t])===t}*entries(){for(const t of this.#Kt())void 0===this.#Nt[t]||void 0===this.#Lt[t]||this.#Vt(this.#Nt[t])||(yield[this.#Lt[t],this.#Nt[t]])}*rentries(){for(const t of this.#Qt())void 0===this.#Nt[t]||void 0===this.#Lt[t]||this.#Vt(this.#Nt[t])||(yield[this.#Lt[t],this.#Nt[t]])}*keys(){for(const t of this.#Kt()){const e=this.#Lt[t];void 0===e||this.#Vt(this.#Nt[t])||(yield e)}}*rkeys(){for(const t of this.#Qt()){const e=this.#Lt[t];void 0===e||this.#Vt(this.#Nt[t])||(yield e)}}*values(){for(const t of this.#Kt())void 0===this.#Nt[t]||this.#Vt(this.#Nt[t])||(yield this.#Nt[t])}*rvalues(){for(const t of this.#Qt())void 0===this.#Nt[t]||this.#Vt(this.#Nt[t])||(yield this.#Nt[t])}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(const r of this.#Kt()){const i=this.#Nt[r],s=this.#Vt(i)?i.__staleWhileFetching:i;if(void 0!==s&&t(s,this.#Lt[r],this))return this.get(this.#Lt[r],e)}}forEach(t,e=this){for(const r of this.#Kt()){const i=this.#Nt[r],s=this.#Vt(i)?i.__staleWhileFetching:i;void 0!==s&&t.call(e,s,this.#Lt[r],this)}}rforEach(t,e=this){for(const r of this.#Qt()){const i=this.#Nt[r],s=this.#Vt(i)?i.__staleWhileFetching:i;void 0!==s&&t.call(e,s,this.#Lt[r],this)}}purgeStale(){let t=!1;for(const e of this.#Qt({allowStale:!0}))this.#Jt(e)&&(this.delete(this.#Lt[e]),t=!0);return t}info(t){const e=this.#kt.get(t);if(void 0===e)return;const i=this.#Nt[e],s=this.#Vt(i)?i.__staleWhileFetching:i;if(void 0===s)return;const n={value:s};if(this.#Gt&&this.#Bt){const t=this.#Gt[e],i=this.#Bt[e];if(t&&i){const e=t-(r.now()-i);n.ttl=e,n.start=Date.now()}}return this.#qt&&(n.size=this.#qt[e]),n}dump(){const t=[];for(const e of this.#Kt({allowStale:!0})){const i=this.#Lt[e],s=this.#Nt[e],n=this.#Vt(s)?s.__staleWhileFetching:s;if(void 0===n||void 0===i)continue;const o={value:n};if(this.#Gt&&this.#Bt){o.ttl=this.#Gt[e];const t=r.now()-this.#Bt[e];o.start=Math.floor(Date.now()-t)}this.#qt&&(o.size=this.#qt[e]),t.unshift([i,o])}return t}load(t){this.clear();for(const[e,i]of t){if(i.start){const t=Date.now()-i.start;i.start=r.now()-t}this.set(e,i.value,i)}}set(t,e,r={}){if(void 0===e)return this.delete(t),this;const{ttl:i=this.ttl,start:s,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:a}=r;let{noUpdateTTL:l=this.noUpdateTTL}=r;const c=this.#ne(t,e,r.size||0,o);if(this.maxEntrySize&&c>this.maxEntrySize)return a&&(a.set="miss",a.maxEntrySizeExceeded=!0),this.delete(t),this;let h=0===this.#F?void 0:this.#kt.get(t);if(void 0===h)h=0===this.#F?this.#Dt:0!==this.#Ft.length?this.#Ft.pop():this.#F===this.#Pt?this.#ae(!1):this.#F,this.#Lt[h]=t,this.#Nt[h]=e,this.#kt.set(t,h),this.#Mt[this.#Dt]=h,this.#$t[h]=this.#Dt,this.#Dt=h,this.#F++,this.#oe(h,c,a),a&&(a.set="add"),l=!1;else{this.#Yt(h);const r=this.#Nt[h];if(e!==r){if(this.#Wt&&this.#Vt(r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:e}=r;void 0===e||n||(this.#zt&&this.#xt?.(e,t,"set"),this.#Ht&&this.#Ut?.push([e,t,"set"]))}else n||(this.#zt&&this.#xt?.(r,t,"set"),this.#Ht&&this.#Ut?.push([r,t,"set"]));if(this.#se(h),this.#oe(h,c,a),this.#Nt[h]=e,a){a.set="replace";const t=r&&this.#Vt(r)?r.__staleWhileFetching:r;void 0!==t&&(a.oldValue=t)}}else a&&(a.set="update")}if(0===i||this.#Gt||this.#te(),this.#Gt&&(l||this.#ee(h,i,s),a&&this.#ie(a,h)),!n&&this.#Ht&&this.#Ut){const t=this.#Ut;let e;for(;e=t?.shift();)this.#Tt?.(...e)}return this}pop(){try{for(;this.#F;){const t=this.#Nt[this.#jt];if(this.#ae(!0),this.#Vt(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#Ht&&this.#Ut){const t=this.#Ut;let e;for(;e=t?.shift();)this.#Tt?.(...e)}}}#ae(t){const e=this.#jt,r=this.#Lt[e],i=this.#Nt[e];return this.#Wt&&this.#Vt(i)?i.__abortController.abort(new Error("evicted")):(this.#zt||this.#Ht)&&(this.#zt&&this.#xt?.(i,r,"evict"),this.#Ht&&this.#Ut?.push([i,r,"evict"])),this.#se(e),t&&(this.#Lt[e]=void 0,this.#Nt[e]=void 0,this.#Ft.push(e)),1===this.#F?(this.#jt=this.#Dt=0,this.#Ft.length=0):this.#jt=this.#Mt[e],this.#kt.delete(r),this.#F--,e}has(t,e={}){const{updateAgeOnHas:r=this.updateAgeOnHas,status:i}=e,s=this.#kt.get(t);if(void 0!==s){const t=this.#Nt[s];if(this.#Vt(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#Jt(s))return r&&this.#re(s),i&&(i.has="hit",this.#ie(i,s)),!0;i&&(i.has="stale",this.#ie(i,s))}else i&&(i.has="miss");return!1}peek(t,e={}){const{allowStale:r=this.allowStale}=e,i=this.#kt.get(t);if(void 0===i||!r&&this.#Jt(i))return;const s=this.#Nt[i];return this.#Vt(s)?s.__staleWhileFetching:s}#Xt(t,e,r,i){const s=void 0===e?void 0:this.#Nt[e];if(this.#Vt(s))return s;const n=new o,{signal:a}=r;a?.addEventListener("abort",(()=>n.abort(a.reason)),{signal:n.signal});const l={signal:n.signal,options:r,context:i},c=(i,s=!1)=>{const{aborted:o}=n.signal,a=r.ignoreFetchAbort&&void 0!==i;if(r.status&&(o&&!s?(r.status.fetchAborted=!0,r.status.fetchError=n.signal.reason,a&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!a&&!s)return h(n.signal.reason);const c=u;return this.#Nt[e]===u&&(void 0===i?c.__staleWhileFetching?this.#Nt[e]=c.__staleWhileFetching:this.delete(t):(r.status&&(r.status.fetchUpdated=!0),this.set(t,i,l.options))),i},h=i=>{const{aborted:s}=n.signal,o=s&&r.allowStaleOnFetchAbort,a=o||r.allowStaleOnFetchRejection,l=a||r.noDeleteOnFetchRejection,c=u;if(this.#Nt[e]===u&&(l&&void 0!==c.__staleWhileFetching?o||(this.#Nt[e]=c.__staleWhileFetching):this.delete(t)),a)return r.status&&void 0!==c.__staleWhileFetching&&(r.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw i};r.status&&(r.status.fetchDispatched=!0);const u=new Promise(((e,i)=>{const o=this.#It?.(t,s,l);o&&o instanceof Promise&&o.then((t=>e(void 0===t?void 0:t)),i),n.signal.addEventListener("abort",(()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(e(void 0),r.allowStaleOnFetchAbort&&(e=t=>c(t,!0)))}))})).then(c,(t=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=t),h(t)))),p=Object.assign(u,{__abortController:n,__staleWhileFetching:s,__returned:void 0});return void 0===e?(this.set(t,p,{...l.options,status:void 0}),e=this.#kt.get(t)):this.#Nt[e]=p,p}#Vt(t){if(!this.#Wt)return!1;const e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof o}async fetch(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:a=0,sizeCalculation:l=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:u=this.allowStaleOnFetchRejection,ignoreFetchAbort:p=this.ignoreFetchAbort,allowStaleOnFetchAbort:d=this.allowStaleOnFetchAbort,context:f,forceRefresh:y=!1,status:g,signal:m}=e;if(!this.#Wt)return g&&(g.fetch="get"),this.get(t,{allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:g});const v={allowStale:r,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:n,noDisposeOnSet:o,size:a,sizeCalculation:l,noUpdateTTL:c,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:u,allowStaleOnFetchAbort:d,ignoreFetchAbort:p,status:g,signal:m};let w=this.#kt.get(t);if(void 0===w){g&&(g.fetch="miss");const e=this.#Xt(t,w,v,f);return e.__returned=e}{const e=this.#Nt[w];if(this.#Vt(e)){const t=r&&void 0!==e.__staleWhileFetching;return g&&(g.fetch="inflight",t&&(g.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}const s=this.#Jt(w);if(!y&&!s)return g&&(g.fetch="hit"),this.#Yt(w),i&&this.#re(w),g&&this.#ie(g,w),e;const n=this.#Xt(t,w,v,f),o=void 0!==n.__staleWhileFetching&&r;return g&&(g.fetch=s?"stale":"refresh",o&&s&&(g.returnedStale=!0)),o?n.__staleWhileFetching:n.__returned=n}}get(t,e={}){const{allowStale:r=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:n}=e,o=this.#kt.get(t);if(void 0!==o){const e=this.#Nt[o],a=this.#Vt(e);return n&&this.#ie(n,o),this.#Jt(o)?(n&&(n.get="stale"),a?(n&&r&&void 0!==e.__staleWhileFetching&&(n.returnedStale=!0),r?e.__staleWhileFetching:void 0):(s||this.delete(t),n&&r&&(n.returnedStale=!0),r?e:void 0)):(n&&(n.get="hit"),a?e.__staleWhileFetching:(this.#Yt(o),i&&this.#re(o),e))}n&&(n.get="miss")}#ce(t,e){this.#$t[e]=t,this.#Mt[t]=e}#Yt(t){t!==this.#Dt&&(t===this.#jt?this.#jt=this.#Mt[t]:this.#ce(this.#$t[t],this.#Mt[t]),this.#ce(this.#Dt,t),this.#Dt=t)}delete(t){let e=!1;if(0!==this.#F){const r=this.#kt.get(t);if(void 0!==r)if(e=!0,1===this.#F)this.clear();else{this.#se(r);const e=this.#Nt[r];if(this.#Vt(e)?e.__abortController.abort(new Error("deleted")):(this.#zt||this.#Ht)&&(this.#zt&&this.#xt?.(e,t,"delete"),this.#Ht&&this.#Ut?.push([e,t,"delete"])),this.#kt.delete(t),this.#Lt[r]=void 0,this.#Nt[r]=void 0,r===this.#Dt)this.#Dt=this.#$t[r];else if(r===this.#jt)this.#jt=this.#Mt[r];else{const t=this.#$t[r];this.#Mt[t]=this.#Mt[r];const e=this.#Mt[r];this.#$t[e]=this.#$t[r]}this.#F--,this.#Ft.push(r)}}if(this.#Ht&&this.#Ut?.length){const t=this.#Ut;let e;for(;e=t?.shift();)this.#Tt?.(...e)}return e}clear(){for(const t of this.#Qt({allowStale:!0})){const e=this.#Nt[t];if(this.#Vt(e))e.__abortController.abort(new Error("deleted"));else{const r=this.#Lt[t];this.#zt&&this.#xt?.(e,r,"delete"),this.#Ht&&this.#Ut?.push([e,r,"delete"])}}if(this.#kt.clear(),this.#Nt.fill(void 0),this.#Lt.fill(void 0),this.#Gt&&this.#Bt&&(this.#Gt.fill(0),this.#Bt.fill(0)),this.#qt&&this.#qt.fill(0),this.#jt=0,this.#Dt=0,this.#Ft.length=0,this.#Ct=0,this.#F=0,this.#Ht&&this.#Ut){const t=this.#Ut;let e;for(;e=t?.shift();)this.#Tt?.(...e)}}}e.LRUCache=p}},e={};function r(i){var s=e[i];if(void 0!==s)return s.exports;var n=e[i]={exports:{}};return t[i].call(n.exports,n,n.exports,r),n.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var i in e)r.o(e,i)&&!r.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r(8519)})();